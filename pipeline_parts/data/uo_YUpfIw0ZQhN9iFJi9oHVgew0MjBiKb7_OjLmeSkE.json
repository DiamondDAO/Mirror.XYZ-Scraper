"{\"content\":{\"body\":\"一、ledger简介\\n1、ledger简介\\nledger包支持在Fabric网络上的指定通道上启用账本查询。如果应用程序需要对多个通道进行账本查询，需要为每个通道的账本客户端创建一个单独实例。账本客户端支持以下查询：QueryInfo，QueryBlock，QueryBlockByHash，QueryBlockByTxID，QueryTransaction和QueryConfig。\\n官方文档:\\n <https://godoc.org/github.com/hyperledger/fabric-sdk-go/pkg/client/ledger>\\n\\n2、ledger使用流程\\nledger使用的基本流程如下：\\nA、准备通道上下文\\nB、创建分类帐客户端\\nC、查询分类帐\\n使用示例：\\n\\nctx := mockChannelProvider(\\\"mychannel\\\")\\n\\nc, err := New(ctx)\\nif err != nil {\\nfmt.Println(\\\"failed to create client\\\")\\n}\\n\\nblock, err := c.QueryBlock(1)\\nif err != nil {\\nfmt.Printf(\\\"failed to query block: %s\\\\\\\\n\\\", err)\\n}\\n\\nif block != nil { fmt.Println(\\\"Retrieved block #1\\\") } // output: // Retrieved block #11.  二、ledger常用接口 1、获取账本客户端实例 type Client struct { ctx       context.Channel filter    fab.TargetFilter ledger    \\\\*channel.Ledger verifier  channel.ResponseVerifier discovery fab.DiscoveryService } func New(channelProvider context.ChannelProvider, opts ...ClientOption) (\\\\*Client, error) 1. 2. 3. 4. 5. 6. 7. 8. New返回账本客户端实例。账本客户端实例提供处理程序以查询指定通道上的各种信息。如果应用程序需要对多个通道进行账本查询，需要为每个通道的账本客户端创建一个单独实例。账本客户端仅支持指定查询。 使用示例：\\n\\nctx := mockChannelProvider(\\\"mychannel\\\")\\n\\nc, err := New(ctx)\\nif err != nil {\\nfmt.Println(err)\\n}\\n\\nif c != nil { fmt.Println(\\\"ledger client created\\\") } // output: // ledger client created1.   2、查询账本 func (c \\\\*Client) QueryBlock(blockNumber uint64, options ...RequestOption) (\\\\*common.Block, error) QueryBlock根据区块编号查询区块的账本。 参数: blockNumber是必需的区块号 options包含可选的请求选项 \",\"timestamp\":1637722775,\"title\":\"ledger\"},\"digest\":\"XzDT8Z8kGapAj_yHxtHMtaP0aFEWzPUxzuG8J6wLYdY\",\"authorship\":{\"contributor\":\"0x32c995b1F3D267A92095F49Ae32221f522BbFa68\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"pcV9yz7xP4MSIP2BTZELiBMGVxsmTYCQZiX-jQiUtO4\\\",\\\"y\\\":\\\"ZkhZyMS0ALiDVEra_L5cgIVrwXnwoAMtc07AQAdrKEU\\\"}\",\"signature\":\"IxNP3sHEGTbtCUocHanjs643P8r439S6MNtLpYbvPaID5CjgdPpFJfOdGacrqSVASvFg_qxnlveq-lddsnLKbg\",\"signingKeySignature\":\"0x29f3cf33705b3c740cf76398c1c2e55bfaf0c16faee8575b15408b36afba64f20217d7ad2895e68f8146a9c21140f13113523319f39e06315fafcce97836149a1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"pcV9yz7xP4MSIP2BTZELiBMGVxsmTYCQZiX-jQiUtO4\\\",\\\"y\\\":\\\"ZkhZyMS0ALiDVEra_L5cgIVrwXnwoAMtc07AQAdrKEU\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"XzDT8Z8kGapAj_yHxtHMtaP0aFEWzPUxzuG8J6wLYdY\"}"