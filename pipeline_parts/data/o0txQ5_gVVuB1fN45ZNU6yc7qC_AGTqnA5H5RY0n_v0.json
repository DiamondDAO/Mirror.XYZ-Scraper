"{\"content\":{\"body\":\"清算人在去中心化金融（DeFi）领域是不受重视的角色，他们像矿工和验证者一样在幕后工作，以保持整个系统的正常运行，并因此获得丰厚的回报。然而，与矿工和验证者不同，清算机构实际上不需要先期资本投资，这创造了一个由专业人士组成的生态系统，这些专业人士可能在世界任何地方运作，完全匿名，通过支付报酬来保持市场的偿付能力。\\n\\n \\n \\n\\n \\n \\n\\n## 清算是什么?\\n\\n \\n 在过去的两年里，包括 MakerDAO、Compound、dYdX 等在内的一些去中心化的借贷协议，都已经在以太坊��发布，允许任何人免信任地借出或借入加密资产。虽然这些协议在上市方式、提供的资产、贷款条款等方面有所不同，但基本的贷款结构是相同的。借款人将抵押物写入一份智能合约中，作为回报，借款人可以从贷款人处借入数量比抵押物少的另一项资产。这种形式的担保贷款是最原始的金融工具之一，可以追溯到中世纪的威尼斯银行业，与消费者更熟悉的无担保、基于信用的贷款形成对比。\\n\\n \\n \\n\\n当抵押品的价值超过贷款的价值时，有担保的贷款就能很好地发挥作用，让借款人获得流动资金，而无需出售流动性通常较差的资产。然而，当抵押品价值下降时，理性的借款人有带着贷款资产潜逃的动机，这可能会让贷款人资不抵债。毕竟，为什么要偿还 100 DAI，好赎回价值 99 美元的 ETH 呢？\\n\\n对于更传统的担保贷款形式，如汽车产权贷款或房产抵押贷款，这不是问题，因为这些资产价值的波动性通常比加密资产更小。然而，当以 ETH 作为抵押贷款时，其价值可能在几秒钟内暴跌。\\n\\n没有清算程序，抵押借款可能存在风险\\n\\n \\n \\n\\n为了降低这种风险，贷款协议通常要求至少 115% 的担保，在担保品价值低于贷款价值之前留下足够的缓冲。如果抵押品的价值跌至这一水平以下，借款人可以简单地补足或出售抵押品，以偿还出借人，并保持金融体系的偿付能力。 \\n  \\n 但这带来了另外一系列的问题。以太坊上的交易不是免费的，此外，如果借款人被清算，他不会产生任何额外的成本，所以，没有人有动力去参与清算，保持系统的偿付能力。为了奖励个人在清算中担保不足贷款时所承担的成本和风险，并从一开始就抑制借款人陷入担保不足的境地，贷款协议对清算会附加费用，由清算人自己承担。通过这种方式，任何人都可以通过偿还借款人的债务，并因此获得可观的奖金，这样，通过向清算人折价出售抵押品来支付，同时保持该金融体系的偿付能力。\\n\\n清算人拯救出借人，保持市场的偿付能力\\n\\n \\n \\n\\n## 清算人的生命\\n\\n \\n \\n\\n尽管不同的协议在机制和术语上有所不同，但它们基本上需要相同的组件： \\n \\n\\n* 一个机器人，监控以太坊待处理（*pending* 事）事务并寻找合乎清算资格的贷款\\n* 一个去中心化交易所，可以用来即时出售清算抵押品，并保证清算人的利润\\n\\n\\n* 一个智能合约，允许在一笔事务中自动清算和出售抵押品\\n\\n \\n \\n\\n一些协议提供了自己现成的工具来实现上述功能，但另一些则依赖于一个蓬勃发展的自制清算机器人生态系统。要了解这些参与者及其在 DeFi 生态系统中扮演的角色，最简单的方法是浏览一些最流行的贷款协议中的成功清算案例。\\n\\n \\n \\n\\n### Compound\\n\\n在 DeFi 中，Compound 提供了最直接的贷款和出借体验，其清算过程也遵循了这种简单性。让我们深入了解一下一次清算的过程。\\n\\n \\n \\n\\n清算涉及两个参与者，一个是我们的清算人（*0x64a）*，我们称之为「Alice」，另一个是我们的借款人（*0xb5b*），我们称之为「Bob」。\\n\\n \\n \\n\\nBob 在 Compound 上借了一笔 USDC 贷款，用 ETH 作抵押。这么做通常是为了以免许可方式使用借得的 USDC 作为杠杆，以购买更多的 ETH。可是很不凑巧，这段贷款期间恰逢 ETH 的价格大幅下跌，使得该借款人的抵押品价值跌破了 对 ETH 要求的抵押品比率（*133%*）。因为不同的资产存在着不同的质量、价格稳定性和流动性，Compound 为每种资产分配了不同的担保比率（*目前 REP 比率最高，达 200%*）。\\n\\n \\n \\n\\nAlice 注意到 Bob 的担保比率低于要求——可以猜想，这要么是通过监控合约状态，要么是使用 Compound 便捷的 liquidateBorrowAllowed 函数——于是在 Compound 的 USDC 市场合约中调用 liquidateBorrow，触发了清算程序。\\n\\n1. Compound 首先向 Bob 支付从他的抵押品上获得的任何未偿利息（毕竟这可能会让他超过要求的担保比率）\\n2. Compound 通过使用他们的预言机中的市场价格，验证 Bob 确实存在违约\\n3. Compound 将所需的贷款资产（USDC）金额从 Alice 处转移到 cUSDC 市场合约\\n\\n这样一来，Alice 就按照一个相对于市场价格的固定折扣（目前为 5%）得到了 Bob 的 ETH 抵押品。ETH 的抵押品作为 cETH 返还，清算人既可以继续从债务人的 ETH 中赚取利息，也可以在 Compound 上将 cETH 赎回为 ETH。在这种情况下，Alice 通过自己的努力免费获得了约 7 美元的 ETH。\\n\\n当这个特定的清算人持有 cETH 时，其他清算人使用智能合约自动赎回和出售他们的 c 代币，锁定他们从交易中获得的 5% 利润。\\n\\n乍一看，人们可能会怀疑这种清算是手工完成的，尤其是考虑到 Compound 尚未发布任何开源清算机器人，而且清算追踪仪表盘也不算太流行。不过，在查看该清算人活动的时间分布时，我们可以清楚地看到它是全天候活动的，因此很可能是一个机器人。\\n\\n一些利润丰厚的担保不足贷款正在等待清算人\\n\\n更复杂的机器人将执行行动，如迅速从 Compound 借款，以清算其他帐户。我们在这个特别的清算中看到了这一点，该地址赎回了它的 USDC 贷款，并用它来清算另一个帐户的 USDC 贷款，在一次交易中轻松赚取了 5%。\\n\\nMaker\\n\\nMaker 的清算过程不那么直接，因为它分为两个独立的步骤：先是「bite」，然后「bust」。这就像一辆汽车被清算的过程：首先它被收回，然后对它进行拍卖，以偿还车主的债务。在 Maker 体系中，收回贷款是通过调用 bite 来触发的，而清算则是通过对他们的智能合约调用 bust 来触发的。\\n\\n让我们通过两个事务来对 CDP 17361 进行一次清算，第一个和第二个事务，涉及三个参与者：回收人员（0xc2e），我们称其为 Ralph；借款人（0x9c3），我们称其为 Brittany；清算人（0x5a2），我们称其为 Larry。\\n\\nBrittany 以她的 0.1 ETH 作抵押借了 8.5 DAI，这使她的贷款完全符合 Maker 所要求的 150% 的担保比率，在贷款出借时，ETH 的市价为 170 美元。遗憾的是，在 12 月 27 日，ETH 跌到 125 美元左右，让这个抵押债仓（CDP）担保略微不足，这就使得 Ralph 在这个 CDP 上调用 bite，将此 CDP 的所有权从 SaiTub（该合约持有所有有效 CDP）收回至 SaiTap（该合约对收回的 CDP 进行清算）。\\n\\n到了此时，这个体系仍然是担保不足的。在 Maker 系统中，未偿付的 DAI 比 ETH 更多，以支持 DAI 在所需比率下的价值。幸运的是，作为清算人，Larry 发现了这一 CDP，并支付了 8.5 DAI，买下了 CDP 中所包含的 0.067 PETH（以太池），相当于 0.07 ETH。这使得 DAI 退出了市场，提高了担保比率，保持了系统的偿付能力。在 Larry 的努力下，他能够以约 121 美元/ ETH 的价格购买 ETH，按市场价格来计，这是一个很好的折扣，Larry 能立刻能在 Uniswap 卖回 DAI 以锁定他 0.002 ETH 的利润。\\n\\n值得注意的是，虽然 Ralph 花钱买了 gas，好去 bite 存在风险的 CDP 和启动清算，他实际上没有从它那里赚到钱，而 Ralph 在 ETH 上拿到了一个不错的 3% 的折扣，他的努力得到了回报！\\n\\n虽然有大量的机器人会自动「bite」并「bust」 CDP 以期获利，但在机器人的「bite」中，只有一半会从清算中获利！\\n\\n未纳入编译器\\n\\n那么，是不是有大量的「好撒玛利亚人」机器人在免费「bite」 CDP 呢？\\n\\n虽然有一小部分似乎是这样做的，但大部分机器人在进行未 bust 的「bite」时，并不能找到合适的价格，以便在清算时抛出打折的 ETH。例如，事务 0x8b2 咬住了一个 CDP，从 Maker 获得 ETH-DAI 报价，将其与 Oasis 等去中心化交易所（DEX）上的最优价格进行比较，然后决定最好不要冒险，让 CDP 继续留在 SaiTap 中。\\n\\n另一个原因可能是 Maker 提供的默认工具不足。虽然 Maker 提供了一个能「bite」 CDP 的「咬住管理器」（bite-keeper），以及一个在去中心化交易所进行清算用以获利的「套利管理器」（arbitrage-keeper），但需要做一些额外的工作来将它们合并成一个统一的机器人。随着向多抵押物 DAI 的过渡，该系统已转向抵押物拍卖，Maker 的拍卖管理 （auction-keeper）机器人可以参与其中，有机会购买清算抵押���会获利。\\n\\n一些最大型的机器人使用了一些更先进的策略，包括：\\n\\n● 分拆 CDP 赎回，在 ETH 通过 exit（退出）CDP ，在 DAI 通过 boom（破坏）吃进更多的债务，来实现收益最大化\\n● 使用 gas 代币，通过使用低于市场价格的 gas，在 gas 拍卖中出价超过其他机器人\\n● 将 ETH 销售分摊到多个 DEX（如 [dex.ag](http://dex.ag) 或 1inch），以尽可能减少滑点，最大限度地增加他们得到的 DAI 的数量\\n\\ndYdX 的清算过程有点类似于 Compound，但不同的是，dYdX 没有像 Compound 通过其 cToken 那样，向其借贷协议公开一个代币化的接口。相反，dYdX 在其主要的单独保证金合约中为每个地址创建了一系列交易账户，并追踪其支持的每个市场上每个账户的信用和债务（*ETH、DAI、USDC 等*）。\\n\\n \\n \\n\\n不像 Maker 有 bite、Compound 有 liquidateBorrow，dYdX 并没有这样的显式函数签名，它有一个单一的 operate 函数，采用不同的「操作类型」，当中的操作类型 6 负责清算借款人的账户。清算人可以以 5% 的折扣从借款人手中购买抵押品，获得与 Compound 相同的健康利差。\\n\\n \\n \\n\\ndYdX 合约本身也支持原子事务，允许用户使用一个简单步骤提供资金、清算和提取资产。然而，在进行清算的过程中，用户自身也会出现担保不足的情况，从而使自己面临被清算的风险！\\n\\n \\n \\n\\n幸运的是，dYdX 想到了这个问题，并提供了自己的代理合约，使得用户既可以清算借款人，同时又能将他们的账户保持在一个安全的担保比率之内。这个举动已被证明非常受欢迎，通过这个代理进行清算的比例超过 90%。因此，dYdX 清算机器人默认使用这个代理也就不足为奇了。\\n\\n \\n \\n\\ndYdX 与其他协议的不同之处还在于，该协议内置了快速借款，允许清算人以原子方式，在一次交易中借入所需资产、清算和偿还贷款，而无需使用外部代理合同，从而可以在 dYdX 上实现真正的免费利润。再加上他们的无障碍、现成的清算机器人，或许可以解释为什么 dYdX 清算在过去几个月里变得如此具有竞争力，这一点我们在后文还会提及。\\n\\n \\n \\n\\n虽然一些 dYdX 清算看起来类似于其他协议，但是通过传统的链分析工具查看它们时，会发现其他协议看起来难以理解，因为实际上不发生代币转移，也没有实际进行交换。只有当我们直接查看函数调用时，我们才能看到幕后发生了什么。\\n\\n \\n \\n\\n在这里，我们还是有清算人 Laura（*0x679*）和借款人 Brad（*0xa0d*），但与其他示例不同的是，Brad 存入 DAI 并借出 ETH，可能是为了做空 ETH。当 Brad 的抵押品低于规定的抵押率时，Laura 突然出手，以 7573.97 的价格买进 53.45 ETH，实际价格为 141.70 美元/ ETH，比当时的市场价格高出约 4%，获利 289.05 美元。\\n\\n \\n \\n\\n## 清算人赚多少钱？\\n\\n撇开技术细节不谈，观察一下这些设计付诸实践，尤其是与那些逐利的成员合作时会发生什么，这更有意思。运行清算机器人、以产生回报并支持这些网络的想法，吸引了许多个人和基金，但正如我们一次又一次看到的那样，加密领域没有免费午餐，清算也不例外。\\n\\n \\n \\n\\n### 有利润可赚\\n\\n不可否认，DeFi 中「广义挖掘」概念的基础是有价值的。个人能通过在 DeFi 上清算贷款来赚取大笔的钱。尽管金额根据清算费用、资产和市场波动而有所不同，但我们发现，这些协议在某些月份为清算人带来了近 100 万美元的纯利润。在这些协议的有效期内，我们看到清算人获得了近 500 万美元的利润。在某些情况下，我们甚至看到一些清算人在一笔清算中净收益超过 10 万美元！\\n\\n最近几个月，清算人在上述协议中的获利情况\\n\\n \\n \\n\\n### 但竞争正在迅速加剧\\n\\n清盘人之所以引人注目，是因为准入门槛低、利润率高、有现成的工具，而这些特质反过来也能吸引竞争，压缩现有清算人的利润率。我们可以从几个方面看到这种效应。\\n\\n \\n \\n\\n首先，很简单，自这些协议推出以来，试图清算协议贷款的独特地址数量已大幅增加，从 2018 年 1 月的 25 个月活清算人增至 2019 年 11 月的 142 个月活清算人。尽管清算人可能会共享或轮换地址，造成一些重复，但总体趋势是明显的。\\n\\n最近几个月，协议中的月活清算人\\n\\n \\n \\n\\n看看清算人获利占比随着时间的推移所出现的变化，我们也可以看到这种竞争。我们可以看到，随着新的后起之秀开始在竞争中胜出，并赢得清算奖金，「守旧派」清算人正慢慢受到挤压。\\n\\ndYdX 上各个清算人地址获利占比变化，守旧派清算人慢慢被打败\\n\\n \\n \\n\\n看看清算人之间为攫取丰厚利润而进行的 gas 价格拍卖，就能再次证明这一点，这与 DEX 套利机器人之间的拍卖非常相似。每个清算只能有一个赢家，这意味着每个清算人的交易被挖掘后，赢家不仅失去了清算奖金，也在清算调用失败中浪费了一定数量的 ETH。如果只看 dYdX 失败的清算交易列表还不足以让人信服，我们还可以再去观察下，随着时间的推移， dYdX 清算调用成功的占比大幅下降，这表明这个领域的竞争正在加剧。\\n\\n \\n \\n\\ndYdX 清算调用成功率越来越小，表明竞争加剧\\n\\n \\n \\n\\n### 借款人也变得越来越精明\\n\\n但清算人不仅面临着来自其他清算人的竞争。借款人自己也在使用新的工具，从一开始就防止自己遭到清算。DeFi Saver（*原名为 CDP Saver*）监控用户贷款，并在用户贷款面临风险时「解除」这些贷款，其方法是出售借来的资产、购买更多抵押品，并在一次交易中对贷款进行再担保，这与 Maker 自己的 cdp-keeper 很相似。\\n\\n \\n \\n\\n尽管在网络严重拥塞期间，DeFi Saver 在保护 CDP 方面存在问题，但我们可以看到它在 ETH 价格下跌期间正确地启动并开始解除 CDP，为这些 CDP 的所有者节省了 3% 的清算罚款。\\n\\n当 ETH 的价格下降时，DeFi Saver 开始启动并保护 CDP \\n\\n \\n \\n\\n## 清算的未来是什么？\\n\\n既然是对 2020 年做个预想，我们对清算领域的未来有什么预测？\\n\\n \\n \\n\\n### 压缩利润并转移到动态系统\\n\\n首先，让我们退一步，重新审视为什么我们会有清算罚款。这些惩罚措施的目的是鼓励借款人保持偿债能力，并鼓励清算人在借款人临近违约时介入并稳定金融体系。正如我们目前所看到的，惩罚措施在这两个方面都非常有效。现在的问题是，最优的清算罚金应该是多少 —— 不会随时间、资产和借款人而发生变化的静态金额可能是次优之选 —— 我们认为，这个问题应该由市场来决定。\\n\\n \\n \\n\\n我们已经看到生态系统正在朝这个方向发展，Maker 正在从 SCD 的固定价格抵押品销售转向多抵押品 Dai 的完全抵押品拍卖。在这种情况下，清算惩罚不那么明确，采取「最小出价增量」的形式，保证了真实市场价格与拍卖价格之间的一定差距。鉴于 MCD 已经在建立一个竞争性的清算生态系统，我们可能会看到，随着时间的推移，「最小出价增量」会逐渐减少，从而有效地减少清算罚款，并让市场决定抵押品应支付的价格。虽然这不是一个借贷协议，但我们可以把 Set Protocol 的再平衡拍卖类比为，他们出售一种资产的一部分来换取另一种资产的一部分，然后让市场通过拍卖来决定兑换率应该是多少。\\n\\n \\n \\n\\n我预计，未来一年将有更多的贷款协议转向拍卖或可变费用制度，这意味着借款人的费用将降低，清算人的利润将减少。\\n\\n \\n \\n\\n### 无担保贷款\\n\\n \\n \\n\\n到目前为止，我们讨论的都是有剩余的抵押品需要清算的担保贷款，但担保贷款只是建立去中心化金融生态系统的第一步。我们相信在 DeFi 中还将看到一个基于信用的无担保贷款的生态系统，使更多的人能够开始使用这些协议，并构建更多的用例。在该领域，清算将变得更少或无关紧要，如果这种形式的贷款开始蚕食抵押贷款的市场份额，将会使当前的清算市场面临风险。\\n\\n \\n \\n\\n## 结论\\n\\n清算人的故事遵循了许多其他加密故事的模式：免许可使用部分金融工具，这些金融工具会帮助一个由匿名的全球创新者组成的生态系统设计新产品和战略，并因此获得数百万美元的奖励。这些无名英雄帮助 DeFi 贷款市场扩大到近 7.5 亿美元的规模，同时建立了贷款机构的信心，这对于 DeFi 触及下一个百万用户至关重要。明年将有新的 DeFi 期权和合成资产市场上线，我预计会看到更多像清算人一样的经营者，他们在幕后努力保持运转，并因此获得丰厚回报。\",\"timestamp\":1636622222,\"title\":\"DeFi 清算人介绍\"},\"digest\":\"vOY1BNHw142Q9MaVE2jQeNBGY3M4ZL2xk_3O8REaU3o\",\"authorship\":{\"contributor\":\"0x1A29C896d4c6d121bc79E42185cB69395d035244\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"eFIFfCIDOPAT6E18eONngGx0oYJUjDOgzFI2jnJA_yw\\\",\\\"y\\\":\\\"8YJiOh8fItFtkx36OGV_GINgbo_04LB1iKTc0hLNtaw\\\"}\",\"signature\":\"ZcU99NGiJZLWab2WHRmq6qCinvnRcRH3n9iKns_USuoJwkdcvktNumbeyIt4U0OEWl7oIFNDxR4ZxpeFXWbn1g\",\"signingKeySignature\":\"0x8c220e928227bf5658941a357b47461289d59c3fd5b2aaa1f057fb81107732b11f426c4fa01c7733802987607c2a279495ce653f7521d46bf2956dcd5e30b40a1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"eFIFfCIDOPAT6E18eONngGx0oYJUjDOgzFI2jnJA_yw\\\",\\\"y\\\":\\\"8YJiOh8fItFtkx36OGV_GINgbo_04LB1iKTc0hLNtaw\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"vOY1BNHw142Q9MaVE2jQeNBGY3M4ZL2xk_3O8REaU3o\"}"