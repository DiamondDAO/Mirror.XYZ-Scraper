"{\"content\":{\"body\":\"## 摘要\\n\\n本文主要研究了加密货币领域去中心化衍生品交易平台dydx的数学模型，试图找到最佳的手续费消耗策略，通过对4种dydx价格时三个账户的最佳收益的计算分析发现，当单个dydx代币挖矿成本与dydx价格的比例等于70%时，挖矿收益最高。\\n\\n**关键词**：dydx  DeFi  衍生品   交易挖矿  最佳手续费比例\\n\\n## 1    前言\\n\\ndydx作为时下热门的衍生品交易平台，很多朋友在上面交易挖矿，但是我们刷多少手续费合适呢，本文将研究dydx奖励的数学模型试图找到最佳的手续费和持仓比例。\\n\\n## 2   dydx奖励的数学模型\\n\\n### 2.1 奖励公式\\n\\n从官方文档我们可知奖励公式为：\\n\\n![ydx交易挖矿奖励公式](https://images.mirror-media.xyz/publication-images/SUiHjTxQebModQbN_PKqc.png?height=227&width=524)\\n\\n其中：\\n\\n*traderScore*——交易分数\\n\\n*feesPaid*——交易所消耗手续费\\n\\n*openInterest*——平均未平仓合约持仓\\n\\n*reward*——奖励的dydx数量\\n\\n*totalTraderScores*——所有用户的交易分数\\n\\n### 2.2  收益公式\\n\\n从奖励公式中我们可以看出我们得到的奖励受我们交易的平均未平仓合约持仓和交易消耗的手续费影响，而我们的收益是奖励的dydx价值减去交易所消耗手续费:\\n\\n![](https://images.mirror-media.xyz/publication-images/HcGX2UBoMUrzR0ZqPrvg4.png?height=36&width=912)\\n\\n其中*price*为dydx兑美元价格/usd，因此：\\n\\n![](https://images.mirror-media.xyz/publication-images/b2jy1vA6yniFlWHnETvjr.png?height=67&width=929)\\n\\n从收益公式我们可以知道收益也受dydx价格影响，dydx价格太低的话我们反而会亏。\\n\\n### 2.3   收益分析\\n\\n从收益公式我们可以看出实际上手续费和平均未平仓合约持仓量的最佳比例是变动的，因为随着时间的推移，我们的平均未平仓合约持仓量占平台总持仓量是变化的，同时也受币价影响。\\n\\n假设交易挖矿最后几天时，dydx币价固定不动，我们的平均未平仓合约持仓量占平台总持仓量也变化不大了，这时这几个因素我们可以综合为一个常数*k*：\\n\\n![](https://images.mirror-media.xyz/publication-images/tVW23RgBk7gUUzGEBhBJh.png?height=132&width=927)\\n\\n令：\\n\\n![](https://images.mirror-media.xyz/publication-images/Hk4qqPiV5OxOl-n92youv.png?height=72&width=925)\\n\\n则：\\n\\n![](https://images.mirror-media.xyz/publication-images/wLexULgVpaD5JaN2KpRSN.png?height=35&width=909)\\n\\n由于最后几天的我们的平均未平仓合约持仓量占平台总持仓量也变化不大，唯一可能有比较大的变化是dydx的价格，其数学图像如下图所示。\\n\\n![图2-2 收益与常数k和消耗手续费函数图像](https://images.mirror-media.xyz/publication-images/jiOjFGrGYRQou4dObQs4r.png?height=490&width=900)\\n\\n不同的常数*K*最佳收益时的手续费是不一样的，例如当我们的平均未平仓合约持仓量占平台总持仓量过小或者dydx价格过低时导致常数*K*过小，此时只要有手续费就是亏的：\\n\\n![图 2‑3当K过小时收益曲线](https://images.mirror-media.xyz/publication-images/Uh-OcS8nwbRkhegFK6CQ8.png?height=402&width=757)\\n\\n当K适中时，从下图我们可以看出下图曲线最顶点就是最佳收益点，此时的消耗手续非与平均未平仓合约持仓量占比是最佳比例。\\n\\n![图2-4 当k适中时收益曲线](https://images.mirror-media.xyz/publication-images/IeRwZ-1Hj0B1cFfp8pHKn.png?height=421&width=759)\\n\\n当*K*过高时，例如dydx的价格太高，如下图所示，此时我们刷的手续费越多越好。\\n\\n![图 2‑5当K过大时收益曲线](https://images.mirror-media.xyz/publication-images/CvleugPan70z3qAkuqDXR.png?height=427&width=750)\\n\\n## 3      手续费该刷多少\\n\\n### 3.1   最佳收益计算\\n\\n今天是2021年10月25日，距离本次交易挖矿周期还剩一天多时间，我以我的账户进计算，dydx现价是18.2美金一个，我们分别算出假如dydx价格继续跌至15美金时和涨至21美金甚至是50美金时的最佳收益。以下先计算dydx价格为18.2时账户的最佳收益。\\n\\n**3.1.1 账户一**\\n\\n![图 3‑1 账户一2021年10月25日账户一交易数据](https://images.mirror-media.xyz/publication-images/uplhRzobhP4wtKt1LNHiC.jpg?height=244&width=1089)\\n\\n上图是我的第一个账户交易数据，根据数据可以算出常数*k*。\\n\\n因为：\\n\\n![](https://images.mirror-media.xyz/publication-images/kt536INwb6rn2QLbZrC-1.png?height=57&width=752)\\n\\n所以可以算出此时*totalTraderScores* ≈ 141662183.31\\n\\n又因为：\\n\\n![](https://images.mirror-media.xyz/publication-images/ZPWIwc0JAxj29YvoxpDxo.png?height=65&width=754)\\n\\n所以当dydx价格为18.2时，*k*=19.788\\n\\n此时收益为：\\n\\n![](https://images.mirror-media.xyz/publication-images/c6wyg6DHw458fMbDysHb2.png?height=45&width=753)\\n\\n收益曲线为：\\n\\n![图 3‑2 常数为19.788时的收益与手续费曲线](https://images.mirror-media.xyz/publication-images/f82jguXVKpfwKZneK-msC.png?height=488&width=750)\\n\\n收益最大时的手续费*feePaidmax*=6353美金，手续费和平均未平仓合约持仓量比例*proportion*为：\\n\\n![](https://images.mirror-media.xyz/publication-images/4bdlmED6Hx5_j-jKs31pP.png?height=58&width=752)\\n\\n此时单个dydx的挖矿成本*cost*为：\\n\\n![](https://images.mirror-media.xyz/publication-images/TY4kb0d0TsMykad20cld2.png?height=71&width=752)\\n\\n**3.1.2 账户二**\\n\\n我的第二个账户的交易数据为：\\n\\n*feePaid*=1050.83，*openInterest*=117019，*reword*=116.6811\\n\\n计算下来*totalTraderScores*=142031360，*K*=16.293\\n\\n![图 3‑3常数k为16.293时的收益和手续费曲线](https://images.mirror-media.xyz/publication-images/00aPh5L1qEPusFVzz0rU_.png?height=487&width=753)\\n\\n收益最大时的手续费*feePaidmax*= 3367美金，手续费和平均未平仓合约持仓量比例*proportion*为：\\n\\n![](https://images.mirror-media.xyz/publication-images/h_OnglpZf4rtUjw5xzfW0.png?height=67&width=756)\\n\\n此时的dydx成本*cost*为：\\n\\n![](https://images.mirror-media.xyz/publication-images/Tk0uWUxVZforFqR9k5tUD.png?height=83&width=760)\\n\\n**3.1.3 账户三**\\n\\n我的第三个账户的交易数据为：\\n\\n*feePaid*=2.39，*openInterest*=405.99，*reword*=0.3015\\n\\n计算下来*totalTraderScores*=141899523，*K*=2.9818\\n\\n![图 3‑4常数k为2.2918时的收益和手续费曲线](https://images.mirror-media.xyz/publication-images/X116-U9JIG29ecNsiF9Z9.png?height=499&width=751)\\n\\n收益最大时的手续费*feePaidmax*= 11.6美金，手续费和平均未平仓合约持仓量比例*proportion*为：\\n\\n![](https://images.mirror-media.xyz/publication-images/Ugoo9W5HWBn67CZ8Hc0tm.png?height=65&width=757)\\n\\n此时的dydx成本*cost*为：\\n\\n![](https://images.mirror-media.xyz/publication-images/nBmBsgDpzeJhLiop3WSK0.png?height=85&width=770)\\n\\n综上所述，三个账户数据对比如下：\\n\\n![表 3‑1三个账户数据对比](https://images.mirror-media.xyz/publication-images/E-h1NtivypsJzhYAcKJ_K.png?height=632&width=1062)\\n\\n### 3.2   结论\\n\\n1、不管你的平均未平仓合约持仓量是多少、保证金多少，最佳收益时挖矿成本占比（挖矿成本/dydx价格）大致为70%；\\n\\n2、从上表可以看出，dydx价格极大的影响了我们刷手续费的策略，当dydx价格保持在18.2时，手续费与平均未平仓合约持仓量的比例大致为0.0287，dydx挖矿成本平均为12.75美金；\\n\\n3、上述所计算的4种dydx价格时的不同最佳手续费与平均未平仓合约持仓量的比例只是假设我们在获得dydx代币奖励时立即兑现收益的结果，如果你对dydx看好，想要长持dydx代币，那么可以刷更多的手续费，例如，假如我看好两个月后dydx能涨至50美金，那么我可以按照dydx币价50美金的策略去刷手续费。\",\"timestamp\":1635175180,\"title\":\"dydx刷多少手续费合适\"},\"digest\":\"fPE2nowD5aWeTsyUQSq87qBDGkBg6lJKyuvhY_1KY0U\",\"authorship\":{\"contributor\":\"0x922444B30450708e322377A76df47B0D1914c224\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"_7VCMbqYdSB-aKd62XfSCtoycTqGejToxpxlbK2nARc\\\",\\\"y\\\":\\\"vmQDG0NTYuaTItHXZoLHjtgZoabTs65Fv5RdrnxJzwA\\\"}\",\"signature\":\"QyDmCAZf3FObkG66MI6eqgFwwEOBbn01DDnbzNZQlb_anXnbmFWafdjj-W-8h9BTGrgSCSl47GAm7sYRzLWqMw\",\"signingKeySignature\":\"0x58384383cb249cca56c4915635953da96da05ff3621907fa66989b82d7cc42a248f53534dda924b196b3222f018696c683e5e4bef850a16841d7af1ff6b4a7ac1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"_7VCMbqYdSB-aKd62XfSCtoycTqGejToxpxlbK2nARc\\\",\\\"y\\\":\\\"vmQDG0NTYuaTItHXZoLHjtgZoabTs65Fv5RdrnxJzwA\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"3-yzJ5FdqWQpDu_LMlphIJdqGyYIELpVWfC82gKyT2w\"}"