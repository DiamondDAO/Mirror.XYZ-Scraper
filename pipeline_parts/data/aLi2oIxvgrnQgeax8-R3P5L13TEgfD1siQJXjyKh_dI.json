"{\"content\":{\"body\":\"Kubernetes 是一个开源的容器集群管理平台，它由 Google 在 2014 年启动，1.0 版本在 2015 年 7 月 21 日正式发布，发布之后，迅速在互联网行业火爆，各个公司开始大量使用，后来成为事实上的行业标准。\\n\\n先回顾一下互联网基础设施的发展过程，在 200x 年，互联网公司基本都要自建机房（或租用），然后购买服务器（物理机），安装 Linux，在上面部署应用程序，这时候基础设施的抽象程度是机器级别。\\n\\n但是随着机器计算能力的提升和应用负责度的提高，出现了虚拟机概念，虚拟机的好处是资源和环境隔离，2006 年 AWS 正式推出，从此开启了 IaaS 的大潮。\\n\\n但是虚拟机的抽象程度仍然是机器级别（虚拟的），它没有彻底解决环境管理的问题，而且虚拟机自身拥有内核，镜像偏大，运行效率偏低。这时候出现了容器技术，容器是进程级别的抽象，机器上的所有容器共用内核，它是基于内核的 namespace 和 cgroup 技术实现资源的隔离和限制。容器镜像只需要基础的环境和应用程序自身即可，比虚拟机镜像小很多，执行时会被当做进程调度，效率也更高。\\n\\n**从基础设施的发展历程看，抽象程度是越来越高的，依次是 物理机 -> 虚拟机 -> 容器**。每个历程中互联网公司使用的工具是不一样的，在物理机时代，一般只是使用 Shell 脚本，虚拟机时代使用 Puppet 或者 Ansible（或者直接用 AWS 的 CodeDeploy），而容器时代就是 Kubernetes 了（简称 k8s）。\\n\\n**k8s 是一个容器管理平台，它刚出来的时候是一个巨大的创新，它本质上是用终态的思想去管理运维过程，把运维过程变成逻辑， Controller 化，解放了运维过程的人力**。为此定义了很多资源类型，比如 Deployment、StatefullSet、Job、DaemonSet 等，并为每种资源类型实现 Controller，另外它还支持自定义资源类型和自定义 Controller，实现了可扩展性。\\n\\n在现在，各大云厂商，比如 AWS、阿里云、腾讯云都支持 k8s，并且有一个很好听的名字，叫云原生（Cloud Native）。\\n\\n但是，**k8s 并没有解决所有的问题，而且在未来它可能会被新的创新范式所取代。**\\n\\n先看看有哪些问题。\\n\\n第一，k8s 对开发者不友好\\n\\n开发者使用基础设施本质上只关注部署和更新应用是否方便、应用出问题的时候是否及时发现。\\n\\n但是 **k8s 并没有对上层使用做抽象，只抽象了底层的资源**，导致使用 k8s 有很多学习成本，需要理解 Deployment、StatefullSet、Ingress，需要创建 Prometheus 去监控自己应用是否健康，这些东西对于开发者成本太高了（所以才有  DevOps 和云厂商的空间）。\\n\\n第二，k8s 并没有真正的高可用能力\\n\\n如果应用部署在多个 Region，一个 Region 挂掉是否应用还是可用的。\\n\\n这个是当前云厂商的普遍问题，不要相信云厂商的吹嘘，**如果一个开发者（或公司）有信心把一个 Region 直接离线而不用担心服务不可用，那才是真正的高可用。**\\n\\n第三，开发者需要维护多个 Region 的副本\\n\\n当前云厂商都是在每个 Region 部署独立的 k8s 集群，意味着开发者需要维护多套相同的应用。当然目前有所谓的多云管理平台来解决维护的问题，但是这始终是一个问题，最好的状态是 Deploy Once。\\n\\n为什么我说 k8s 在未来可能会被取代，是因为我看到了未来互联网的发展趋势。\\n\\n基础设施是和互联网发展趋势息息相关的，比如移动互联网时代，云计算（Iaas、Paas、Kubernetes）非常火爆，它解决了开发者使用基础设施的效率问题。但是未来互联网向哪个方向发展？\\n\\n答案是 Web3，而 **Web3 时代的基础设施是什么？是区块链。**\\n\\n虽然目前 Web3 在黎明阶段，但是趋势已经确定，在未来可能有一种区块链，可以解决上面我说的三个问题，并成为 Web3 时代的基础设施。\",\"timestamp\":1641139587,\"title\":\"Kubernetes 是否已经过时了？\"},\"digest\":\"mBYC28n5FsDjBEp5E020FjgGX2HxiF0EW83GFzVjc6A\",\"authorship\":{\"contributor\":\"0xFd007bb46C47D8600C139E34Df9DfceC86F0B319\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"hjrMilRwlJWsEGBc7ugoV7m4nFfk93zRcF9K5Uzb9Hw\\\",\\\"y\\\":\\\"H6tZrP8ey1SBoSAjlHqJDo_P6rlqMVtC5NjnH-Q8ozc\\\"}\",\"signature\":\"pGZBbxXz1qLqXWNVHUHgggrv3myD8ZHiG7-lj1vVj1HTyYbqy3PRfk1CJCaHpapdYOl1otJCz4aVtIQsqcCbGw\",\"signingKeySignature\":\"0x9224978f9511a959438d3ca854f2ddf7610011e0d8a093fa9b1f0050e9464d853c95feaf608d223805665a88c135e7d8ada96dab2bd1d6e56d320fe570a8ff631c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"hjrMilRwlJWsEGBc7ugoV7m4nFfk93zRcF9K5Uzb9Hw\\\",\\\"y\\\":\\\"H6tZrP8ey1SBoSAjlHqJDo_P6rlqMVtC5NjnH-Q8ozc\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"VEhqOYYpgnxjnPeP9D3I-urOFiGaaziQMjQl4WngmTI\"}"