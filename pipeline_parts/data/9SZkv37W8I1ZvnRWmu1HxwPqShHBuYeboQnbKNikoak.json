"{\"content\":{\"body\":\"## xy=k\\n\\n关于这个 V1 和 V2 版本的核心公式，相信大家已经很熟悉了，不了解的小伙伴可以看这篇 https://github.com/rebase-network/Dapp-Learning/blob/main/basic/13-decentralized-exchange/uniswap-v1-like/README.md 。\\n\\n虽然它是很经典的 AMM 公式，但存在一个很大问题，就是资金利用率不高。\\n\\n### v2 的价格区间\\n\\n我们先简单回顾一下在一个流动性池子中，如何表达资产的价格。\\n\\n假设有资产 X 和资产 Y，现在存在一个以 X 和 Y 资产组成的交易对池子。当我们要用资产 X 来标价 Y 的时候，`PriceY = x的数量 / y的数量`，这很容易想到。\\n\\n我们在直角坐标系上，用 x 轴表示资产 X 的数量，y 轴表示资产 Y 的数量，那么将上面的式子变换可以得到 `y = p * x`，为了简化，我们用 `p` 来表示 priceY。\\n\\n于是我们可以在坐标系上添加一条直线，其斜率的倒数 `x/y`，就是价格 `p`。当价格变化的时候，就是这条直线的斜率在变化。\\n\\n流动性就可以用一个矩形的面积来表示。因为`k`的实际意义就是用来衡量一个池子的流动性数量，而`x*y=k`，所以池子中`资产X的数量 * 资产Y的数量 = 流动性数量`。\",\"timestamp\":1635859393,\"title\":\"如何理解 UniswapV3白皮书\"},\"digest\":\"Kn2nAnVUn63R1Ze9Ivsr_KueZY1FzZ6r3sVfO6W0bRs\",\"authorship\":{\"contributor\":\"0xDCFd42aCD7b56CC9Cc6B083e5E85E5022322C3C0\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"UayCTnNdpIhx2t5Bqfd6OosvF9ADQkWFC1iXr50HFfA\\\",\\\"y\\\":\\\"tHgOeptro-JYRya3vwV0ioAfj_BgEdlutDh923QtG1I\\\"}\",\"signature\":\"Xhtm64pdD2fJR8qJNLeAKxZp_vDx0wnnl8sSg2XYQh0W1PflPT4AZ_adsM4_Rj8ULvBTxn-pDg387YtoER_EdQ\",\"signingKeySignature\":\"0x243d77d92b7ab6c5b71a4b9b93fa2712a1a4c62fc089b4ec86ab4af038b5b4de2270be6e6e18537d56e367d22680d4f7a975ce69fc0ebbe6e07597b75598595c1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"UayCTnNdpIhx2t5Bqfd6OosvF9ADQkWFC1iXr50HFfA\\\",\\\"y\\\":\\\"tHgOeptro-JYRya3vwV0ioAfj_BgEdlutDh923QtG1I\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"xoxm5y1cN1NmbN67QVos3C2y_9IbwUL8WPBWMkQ3nbs\"}"