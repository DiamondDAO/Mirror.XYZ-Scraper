"{\"content\":{\"body\":\"![](https://oss-cdn1.bihu-static.com/image/20211030/cc65e19fb6cc4badbcbda3d6b8fbf349\\\\_HA3DIKRTHAZA.png)\\\\\\n\\n\\n来源 | polynya.medium.com\\n\\n作者 | Polynya\\n\\n翻译/校对 | Lochaiching/ECN\\n\\n关于 rollups + 数据分片 (以下简称 rads) 的讨论，通常是从它会 “更安全和去中心化” 的角度着手，但这只是其中一部分原因。rads 会成为实现全球规模吞吐量的唯一解决方案的真正原因是其可观的可扩展性 —— 这是长期实现数百万 TPS 的唯一方法。更加具体一点，我个人会偏向考虑 zkRollups，因为 optimistic rollups 有自己固有的局限性。我会得出以上论点，主要归结为两个原因：a) 技术可持续性以及 b) 经济可持续性。\\n\\n**技术可持续性**\\n\\n要是进行进一步的细分，一个在技术上可持续的区块链节点必须做到以下三件事：\\n\\n1.在链上与节点保持同步一致。\\n\\n2.能够在合理的时间内从创世区块开始同步。\\n\\n3.避免状态膨胀甚至失控。\\n\\n显然，对于去中心化的网络来说，所有这些都没有商量的余地，并且会容易导致严重的瓶颈出现。\\\\[附录：有人指出 2) 的内容并不是必要的，这一点我同意。因为经过社会共识验证的快照就已经能达到很好的水平了。] 以太坊在尝试实现这三点的同时，推动其他可能性的发展，而这显然还不够。同时保留了这三点的分片链最多只能将可扩展性提高到几千TPS —— 但这种程度还不够。\\n\\n**中心化解决方案及其硬性限制**\\n\\n但较中心化的网络可能会开始妥协。1) 不需要每个人都跟上链的同步情况，只要能满足最低要求的验证者数量即可。2) 不需要从创世纪区块开始同步，只需使用快照和其他快捷方式就可以了。3) 状态休眠机制 (state expiry) 是一个很好的解决方案，并将在大多数的链上实现；在那之前，像 regenesis  这样的蛮力到期解决方案 (brute force expiry solutions) 可能会有所帮助。介绍到这里，大家可能会觉得这种网络不够去中心化，但我们本文中并不关心这一点 —— 本文中只关心可扩展性这个问题。\\n\\n其中，1) 是硬性限制，而 RAM、CPU、磁盘 I/O 和带宽是每个节点的潜在瓶颈，更重要的是 —— 在网络中保持最低要求的节点同步，这意味着扩容的程度具有一定的硬性限制。事实上，你可以看到像 Solana 和 Polygon 这样的 PoS 网络已经努力到了最高的程度了，尽管目前处理的只是几百 TPS (不包括投票) 的交易。之前我访问 Solana Beach 的网站时，看到上面说 “Solana Beach 在同步 Solana 区块链节点上遇到了一些问题”，其中提到的区块时间为 0.55 秒 —— 比 0.4 秒的目标慢了 43%。你至少需要 128 GB 才能跟上区块的同步，即使 256 GB RAM 的空间也不足以从创世区块开始同步 —— 所以你需要快照来使其发挥作用。这是上述提到的折衷方案 2)，我们不会把太多的笔墨放在这上面，可扩展性才是我们今天的关注点。Jameson Lopp 在一台 32 GB 的机器上做了一个测试 —— 在开始之前就预计了测试失败的必然性 —— 它在一个小时内崩溃了，根本无法同步上区块的数据。当然，Solana 在这里给其他链做了一个很好的示范，因为其他链上的情况其实也是如此。\\n\\n**zkRollups 可以轻易地打败中心化的 L1**\\n\\nzkRs 的要求甚至比最中心化的 L1 还要高得多，因为有效性证明使其与最去中心化的 L1 一样安全！你可以在给定时间内，只有一个活跃节点的前提下，仍然保持高度的安全性。当然，为了抗审查和可恢复性，我们需要多个定序者，但这些定序者不需要达成共识，还可以相应地进行轮换。例如，Hermez 和 Optimism 只计划在某一段时间内设置一个活跃定序者，并可以让多个定序者在不同时间段进行轮换。\\n\\n此外，zkRs 可以利用所有这些创新来使全节点客户端尽可能地高效，无论它们是为 zkRs 还是 L1 服务的。zkRollups 可以通过状态休眠机制变得非常有创意，因为交易历史可以直接从 L1 开始重建。事实上，将来还会有分片和交易历史访问预编译的创新，这些技术能够帮助实现直接在数据分片上运行 zkRs。我们还需要轻量级的独立提款形式来达到所有功能上的安全性需求。\\n\\n然而，即使在这里，我们也受到了硬性限制。就算是 1 TB 的 RAM 或者 2 TB 的 RAM，这样的配置也是有硬性限制的。除此之外，还需要考虑能够同步节点数据的基础设施提供商。\\n\\n所以，没错，zkR 的可扩展性确实比最能扩容的 L1 都强得多，然而单靠它本身就达到全球规模的可扩展性也不可能实现。\\n\\n**保持使用多个 zkR**\\n\\n简单来说就是在以太坊数据分片上运行多个 zkR —— 并且是有效的分片 zkR。这种 zkR 一旦发布，它们将提供大规模的数据可用性，并将根据需要继续进行扩展，预计在 10 年内将达到 1500 万 TPS。一个 zkR 是没有办法做到这种程度的吞吐量，但是多个 zkR 共同运作是可以实现的。\\n\\n具有不同的 zkR 分片会破坏可组合性吗？以目前的情况来看，确实会。但这个领域中不断涌现出别的方案，比如像 Hop、Connext、cBridge、Biconomy 这种快速桥接项目，以及像 dAMM 这样可以让多个 zkR 共享流动性的创新解决方案。许多这些创新在 L1 上更加难以实现以及不可能。我希望在这个领域能够继续保持创新，可以让这类拥有多个 zkR 的链能够实现无缝互操作性。\\n\\n太长不读：无论最中心化的 L1 能做什么，zkR 都可以做得更好，TPS 也明显可以达到更高。此外，我们可以有多个 zkR，从而有效地实现全球规模的吞吐量。\\n\\n**经济可持续性**\\n\\n这个问题相当直接。一个网络需要收集更多的交易费用，而不是发放给验证者和托管商的增发奖励。但在现实中，这是一个非常复杂的话题，我会尽量简单地阐述。诚然，用户的对代币的投机热情和期待的货币溢价可以使网络保持可持续发展，即使它实际上处于亏损状态。但对于一个真正有弹性、去中心化的网络，我们应该努力实现经济可持续性。\\n\\n**中心化 L1 的维护成本远高于所收取的收入**\\n\\n下面来看看我们最喜欢举的两个例子 —— Polygon PoS 和 Solana。Polygon PoS 每天收取大约 5 万 美元的交易费用，也就是每年 1800 万美元。与此同时，它在增发奖励方面的分配却远大于 4 亿美元。所以要是你计算一下就能得出这相当于是 95% 的净亏损，这其实达到了一个令人难以置信的数字了！至于 Solana，它在很长的一段时间内仅收取约 1 万美元/天的收益，但随着投机情况越来越狂热，它已显着增加至约 10 万美元/天，即每年约 3650 万美元。Solana 提供了一个更夸张的增发奖励 —— 40 亿美元，这个数据导致了 99.2% 的净亏损数值。我从 Token Terminal 和 Staking Rewards 上得到这些数字，我对这些数字的估算已经算是保守了 —— 实际上它们看起来更糟。但我们也应该知道，以太坊一天收取的费用就比这两个网络全年的总和还要多！\\n\\n**不能仅仅将吞吐量提高到超出技术可能的范围**\\n\\n目前的论点为：他们将来会处理更多的交易并收取更多的费用，增发会减少，最终，网络将实现收支平衡。但是实际情况要复杂得多。首先，即使我们考虑到 Solana 在这十年内达到的最低增发率的话，它仍会达到 96% 的损失。事情是如此地扭曲，以至于这几乎无关紧要 —— 需要使吞吐量远远超过收支平衡的可能性。作为一个思想实验，按照当前的交易费，Solana 需要达到 154,000 TPS 才能实现收支平衡 —— 但是鉴于当前的硬件和带宽情况，这是完全不可能的。\\n\\n但更大的问题是，这些额外增加的交易并不是白来的 —— 它们对带宽有了更高的需求，更大的状态膨胀，以及对系统的要求也更高了。有些人进一步争辩说，目前有很大的空间，他们可以做得更多。然而，正如我在技术可扩展性部分所提到的，这充其量只是一个划问号的假设 —— 因为你需要 128GB 的内存才能成功同步一条只做几百 TPS 的链的数据。另一个论点是硬件将变得更便宜 —— 这倒毋庸置疑，但这不是一个神奇的解决方案 —— 你要么需要选择更大的规模，要么将成本降低，或在这两者中间找到平衡。请注意 zkR 也将同样受益于摩尔定律和尼尔森定律。\\n\\n**最后，所有中心化的 L1 都必须增加他们的费用。**\\n\\n这种情况的唯二解决办法是：a) 网络变得更加中心化；b) 当网络达到其极限时，费用就会增加。方案 a) 具有限制，如上所讨论那样，因而选择 b) 是无可避免的。可以看到这种情况发生在 Polygon PoS 上，费用就开始攀升。事实上，币安智能链已经经历了这个过程，现在已经是一个可持续发展的网络了 —— 尽管达到这个目的的费用要高很多。但请记住，我们在这里谈论的只是经济的可持续性。\\n\\n在继续下文之前，我想再次指出，目前存在的变量还有很多很多 —— 比如价格升值和波动性 ——这绝对是一种简单的看法，但我相信这一类一般的逻辑会让你在理解上更加清楚。\\n\\n**rads 是如何显著提高效率的，同时成本却可以这么低**\\n\\n下面谈到 rads。在 rollup 方面，它的维护成本非常非常低，只有很少的节点需要在特定的时间内运行，而且不需要昂贵的共识机制来保证其安全性。然而它们都提供了比任何 L1 更大的吞吐量。Rollups 可以简单地收取 L2 名义上的交易费，从而保持网络的可盈利性。在数据可用性方面，以太坊目前是高度通缩的，结合高效的信标链共识机制，只需要保持最低水平的活动就可以实现接近于零的增发了。\\n\\n因此，整个 rads 生态系统可以以更大的可扩展性加上更低的潜在费用来保持可持续性。事实上，zkRs 最符合 L1 的利益，我很高兴 Solana 至少在考虑这个问题。\\n\\n太长不读：Rads 的成本开销只占中心化 L1 的一小部分，因而同样的花费，rads 能够为用户提供更大的吞吐量；或者实现相似的吞吐量，rads 只需花费一小部分的费用。\\n\\n**短期观点**\\n\\n很重要的一点是，rads 是一个长期的方案，需要几年的时间才能发展成熟。\\n\\n不过，在短期内，有两个选择。\\n\\n1\\\\). 一个可持续的中心化 L1，如币安智能链和 rollups。\\n\\n2\\\\). 一个不可持续的中心化 L1。\\n\\n1 ) 对大多数人来说太昂贵了。像 Hermez、dYdX 或 Loopring 这样的较佳的 rollup 方案提供类似 BSC 的费用，而 Arbitrum One 和 Optimistic Ethereum 还有一段路要走 (尽管下个月发布的 OVM 2.0 承诺将会把 OE 的费用降低 10 倍)。2) Polygon PoS 和 Solana 目前提供较低的费用，但我已经在上文做了一个广泛的论证，说明了这从长期来看是不可持续的。不过在短期内，他们为那些寻求低价交易的用户提供了一个很好的选择。但其实还有第三个选择， 3)Validiums。\\n\\nValidiums 提供的费用和 Polygon PoS 还有 Solana 相当 —— 事实上，Immutable X 现在已经上线，可以免费铸造 NFT，你可以在 SwiftMint 上试试。目前 validium 的数据可用性方面和中心化的 L1 一样，可以算得上都属于不可持续的情况。虽然还可以选择使用数据可用性委员会等替代性的共识方法，但实际上这个选择还是要便宜很多的。Validiums 的绝妙之处在于，当数据分片发布后，它们可以直接向前兼容到 rollups 或 volitions。当然，如上所述，L1 也有这个选项，但这将是一个更具颠覆性的变化。另外，使用 validium 明显比中心化的  L1 更安全。\\n\\n**总结**\\n\\n1\\\\. 区块链行业尚不具备实现全球规模吞吐量的技术。\\n\\n2\\\\. 一些项目的费用特别低，实际上是通过对代币的投机行为进行补贴。当然，对于那些正在寻找低价费用的用户来说，这是一个不错的选择。不过你要意识到这不是一种可持续的模式，更不用说去中心化和安全妥协上的问题了。\\n\\n3\\\\. 但即使是这些低费用的项目，如果有机会获得巨大的流量，长期来看也是会被迫增加费用。永远都会有更多新的、更中心化的 L1 出现。这是一场无法长期持续的争夺底层用户的竞争。\\n\\n4\\\\. 目前，确实存在可持续的选择，例如币安智能链（至少在经济上）或优化的 rollups，它们的费用范围约在 0.1～1 美元之间。\\n\\n5\\\\. 从长远来看，rads 是唯一可以扩展到数百万 TPS，达到全球规模吞吐量，同时在技术和经济上保持可持续性的解决方案。除此之外，还能保持高度安全、去中心化、无需许可、去信任以及可信的中立性，这确实很让人意想不到。正如一位智者曾经说过的那样，“任何足够先进的技术都与魔法无异”，这就是 rollups + 数据分片所呈现的。\\n\\n最后，这不仅仅是以太坊，Tezos 和 Polygon 也制作了以 rollup 为中心的枢轴，并且所有 L1 都不可避免 a) 应用 zkRollup；b) 成为一条让 rollup 在其之上构建的安全的、提供数据可用性的链；或 c) 接受技术过时并完全依赖营销、memes 和网络效应。\\n\\n原文链接：https\\\\://polynya.medium.com/why-rollups->\\\\\\n\\n\\nECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ETH中文站。若需长期转载，请联系eth\\\\@ecn.co进行授权。\\n\\n作者郑重申明：截至发文时，作者与文中提及项目存在利益关系，特此告知。利益关系包括但不限于下述情况：本人为项目团队成员、本人是项目团队成员的直系亲属或配偶、参与投资该项目、持有该项目发行的股份或通证、参与做空或做多该项目、收取回报进行有偿撰文等。\\n\",\"timestamp\":1636628282,\"title\":\"为什么 rollups + 数据分片模式将是唯一可持续的高可扩展性解决方案\"},\"digest\":\"Z11PO0ySntWwHR1jcB8Q7hSGOaFOJOPQA82kaKQUpv8\",\"authorship\":{\"contributor\":\"0x71285DE4b5681aA13998566A30f6a65266B0B899\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"6MMyLmC2xBeTFG_WgGXu_UyMbHu4Gdnt17p-VowDzTE\\\",\\\"y\\\":\\\"5TI_2AHNgARghgWRiXyLDm-iGfL4iF5TWybREn_9AZ8\\\"}\",\"signature\":\"MnPyGFNT7AUb_zY1f3FFuOCn5ttotpNDtWYnYDyyOsupg4J0Ui3R33vv5AbW7V0lFfw1s9xzIzMKaJx7j2E4Ug\",\"signingKeySignature\":\"0x54cd779d89cf763dea8542f9b35e99561585d2b3df144c2d6543a00bfe2de65042162564d0eadc89bcac5f29b438b3ed36351dec25beed4697f0b82fd26c9d871b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"6MMyLmC2xBeTFG_WgGXu_UyMbHu4Gdnt17p-VowDzTE\\\",\\\"y\\\":\\\"5TI_2AHNgARghgWRiXyLDm-iGfL4iF5TWybREn_9AZ8\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"Z11PO0ySntWwHR1jcB8Q7hSGOaFOJOPQA82kaKQUpv8\"}"