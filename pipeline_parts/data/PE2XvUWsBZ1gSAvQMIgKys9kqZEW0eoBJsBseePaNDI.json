"{\"content\":{\"body\":\"从事汽车电子行业的，一般会遇到CAN总线。CAN总线目前来说还是主流。是由德国BOSCH公司开发的。发展到现在已经普及开来，形成了国际标准（ISO11898）。其中的一大优势就是——BusOff。\\n\\n看过BOSCH公司的《CAN Specification V2.0》、或者《ISO11898-1》的汽车人们，对CAN总线错误状态的转换三角肯定是印象深刻。把CAN总线的错误按严重程度分了个级。主动错误（error active）轻微的；被动错误（error passive）有点严重了哈；总线关闭（bus off）这个就不得了啦，这是犯了多大的一个错误啊！\\n\\n![](https://images.mirror-media.xyz/publication-images/bXT_xSSji5IfZEh8O5qYw.png?height=521&width=568)\\n\\n这个设计有个巧妙之处，就是状态之间可以相互转换。知错能改，善莫大焉嘛。给个改过自新的机会，还可以重头再来。要如何去改过自新呢？一个接收错误计数器（REC）、一个发送错误计数器（TEC）。CAN是控制器局域网络(Controller Area Network），CAN总线实现着各个ECU之间的交流。交互的过程就涉及了发送和接收。人与人之间的交流，归根结底也是倾述和监听。接收和发送都没有出错，计数器都为0的话。那就又是个好孩子。\\n\\n这样一说，相信大家对这个三角形已经熟记于心了。其实这个三角形，囊括de信息还蛮多的！我随便想想就能列出5条。水了那么多，篇幅有限。其他的以后有时间和精力再继续哈。\\n\\n1. 进入BusOff的条件是？\\n2. 假如，当前CAN总线上只有1个节点。周期发报文，总线一直没ACK应答，那会不会进BusOff？\\n3. 假如，当前CAN总线上只有2个节点。节点1向总线周期发错误帧，节点2会不会进BusOff？\\n4. 列举下你遇到过的BusOff场景？\\n5. 假如当前BusOff恢复机制：快恢复50ms，快恢复10次，慢恢复1000ms。在慢恢复时CAN总线恢复正常了。不久后，总线再次BusOff了，恢复机制是先快恢复还是直接慢恢复呢？\",\"timestamp\":1637674693,\"title\":\"CAN网络 - BusOff\"},\"digest\":\"RAGoH6U2oXNJjoUrscP6CF3z02HQoEh2b53Gz0lI5oM\",\"authorship\":{\"contributor\":\"0xfF97826C54A4B0f3f4AF608c06C8B6E8642AE6Bf\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"yzTbQjEtlg0oCwbxXXUtjK6WuK5H5Fav_YWEAAHdPK8\\\",\\\"y\\\":\\\"00UXCOvy8GcMHOVmaJxkPwlKiff2HKMh7x0W_sSvpTw\\\"}\",\"signature\":\"fMpKXf4biP5aLQCkIA2oSX0undBjFz3pzPEipYugl_4WwJrcgL4YH2L0L4oveX0L1Aumu3En--a3fx3tl9LPMw\",\"signingKeySignature\":\"0x393ffec47925941f2c32c7d22aee9dd3abdc1b5641cf7bb9fe39e6c1be0e538d6fab73ad51a0662295733010b850b1877b6cf7b3407d35e7ca4055e6446ff4e51b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"yzTbQjEtlg0oCwbxXXUtjK6WuK5H5Fav_YWEAAHdPK8\\\",\\\"y\\\":\\\"00UXCOvy8GcMHOVmaJxkPwlKiff2HKMh7x0W_sSvpTw\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"RAGoH6U2oXNJjoUrscP6CF3z02HQoEh2b53Gz0lI5oM\"}"