"{\"content\":{\"body\":\"> 本期理论部分我们将来学习中心化与去中心化交易，理解他们的概念与各自的优缺点；开发环节我们将留意一下最近更新的 Hardhat 和 Solidity\\n\\n## 区块链理论\\n\\n![](https://pic4.zhimg.com/v2-e237afc30d695853162464237e8bb4bf_b.jpg)\\n\\n### ❓ **CEX、DEX 是什么？**\\n\\n**CEX (Centralized Exchange) :**\\n\\n中心化交易所是被中央机构所控制的交易所，交易所负责保管用户资金，用户之间的货币买卖交易通过由交易所撮合\\n\\n*   *[Coinbase](https://link.zhihu.com/?target=https%3A//www.coinbase.com/)*：首个在纳斯达克上市的中心化加密货币交易所\\n*   *[Binance](https://link.zhihu.com/?target=https%3A//www.binance.com/en)*：全网交易量最大的中心化交易所，提供多达 100 种加密货币交易\\n*   *[Kraken](https://link.zhihu.com/?target=https%3A//www.kraken.com/)*：一家位于美国的加密货币中心化交易所，同时提供银行服务\\n\\n*[What Are Centralized Exchanges?](https://link.zhihu.com/?target=https%3A//coinmarketcap.com/alexandria/glossary/centralized-exchange-cex)*\\n\\n**DEX (Decentralized Exchange)：**\\n\\n![](https://pic1.zhimg.com/v2-d31c08257c68e6abf842e002646ae224\\\\_b.jpg)\\n\\n去中心化交易所是一种运行在区块链上的分散式交易所（不存在中心权力），在这个交易所中没人会负责资金保管，用户之间进行点对点的加密货币交易\\n\\n*   *[Uniswap](https://link.zhihu.com/?target=https%3A//uniswap.org/)*：ETH 主网上的 DEX，它的出现让 Token 之间的交换更方便，用户可以自由添加 Token 对\\n*   *[Pancakeswap](https://link.zhihu.com/?target=https%3A//pancakeswap.finance/)*：BSC 上的 DEX，手续费低，增长迅速，交易额已经超过 Uniswap\\n\\n*[What Is a Decentralized Exchange (DEX)?](https://link.zhihu.com/?target=https%3A//academy.binance.com/en/articles/what-is-a-decentralized-exchange-dex)*\\n\\n### ⚔️ **DEX v.s CEX**\\n\\n**CEX 的优点**\\n\\n*   交易流程简单，成交速度快，可以迅速响应市场变化\\n*   交易自由，金融衍生品丰富\\n*   交易量大，流动性高\\n*   存在法币与加密货币之间的交易\\n*   一般具有全平台 APP\\n\\n**CEX 的缺点**\\n\\n*   钱包密钥不归用户所有，资产由交易所保管，交易所有跑路风险\\n*   受法律约束，需要提供个人信息进行账户验证\\n*   交易所网络波动（拔网线）、黑客攻击会影响交易甚至造成资产损失\\n\\n**DEX 的优点**\\n\\n*   不受中心化控制与监管\\n*   匿名化交易，不需要提供任何个人信息\\n*   运行于区块链网络，网络难以被黑客攻击，交易能够稳定执行（智能合约仍有被攻击的风险）\\n\\n**DEX 的缺点**\\n\\n*   交易速度慢，每笔交易需要由矿工完成验证和打包，难以迅速响应市场变化，存在 Slippage (滑点) 问题\\n*   交易手续费 (Gas Fee) 收当时网络情况影响，网络拥挤的时候手续费高\\n*   流动性由用户提供，低流动性会影响交易对的价格\\n*   购买金融衍生品需要去特定平台\\n*   大部分 DEX 都是在单链上运行，跨链交易受限\\n\\n*[CEX vs. DEX — here are the differences](https://link.zhihu.com/?target=https%3A//medium.com/coinmonks/cex-vs-dex-here-are-the-differences-143fae4c33d4)*\\n\\n### **⛽️ 题外话：关于 DEX 中的 Gas Fee**\\n\\n![](https://pic4.zhimg.com/v2-2a1b542160d768b97441cf599f2b569b_b.jpg)\\n\\n在去中心化交易中，每笔交易都要由矿工来打包验证，在网络拥挤的时候，交易慢、矿工费高，这就导致了一个问题：假如我想更快的完成交易，就必须要付出高昂的 Gas Fee （甚至比物品的实际价格更高的费用）来贿赂矿工，但高昂的 Gas Fee 也不能 100% 的保证交易成功，而且在目前的 Gas Fee 机制下，交易失败，矿工费是不返还的。\\n\\n举个例子，在前几天的 ChainSwap 的 ITO 中（在 ETH 中举行），每 TOKEN 售价 $0.3，每人限购 500 Token，总供应量有限。在这种先到先得的模式下，为了要让购买 Token 的交易成功（抢到 Token ），用户必须支付比其他用户更高的 Gas Fee 来使自己的交易优先被处理。付的越多，处理速度越快，抢到 Token 的概率就越高。这就造成了一个由于用户之间竞争，导致 Gas Fee 飙升、网络拥堵的的恶性循环。在这场比谁跑得快的比赛中，有人用了 400 USDT 买到了 500 个 Token。单单 Gas Fee 就花费了 250 USDT；有人付出了他认为已经很高的 Gas Fee，最终却颗粒无收。\\n\\n### 总结\\n\\nDEX 与 CEX 可以说是各有千秋吧，不能说哪个更好。中心化交易所虽然有各式各样的金融衍生品，流动性充足，全平台的 APP 使用起来也更方便，但存放在中心化交易所中的资产并不安全。近期就有土耳其中心化交易所跑路事件。中心化交易所虽然能迅速响应市场价格的变化，发生滑点的概率小，但市场剧烈变动的时候，无良交易所又有可能拔网线暂停交易。此外，在中心化交易所中交易需要完成 KYC 身份验证，个人隐私也有泄漏的风险。\\n\\n去中心化交易所的理想大都很美好，点对点的快速匿名化交易，但实际上冷门交易对的流动性较少，成交速度慢。这就衍生出了滑点的问题，即：下单价与实际成交价有出入（关于滑点问题及处理方案我们日后会深入探讨）。关于安全性，虽然区块链网络是安全的，但运行在区块链网络上的 Smart Contract 不一定安全，DEX 所依赖 Smart Contract 也存在被黑客攻击，资金池被窃取的风险。\\n\\n### 区块链开发\\n\\n**以太坊智能合约开发语言 Solidity 发布 *[v0.8.4](https://link.zhihu.com/?target=https%3A//github.com/ethereum/solidity/releases/tag/v0.8.4)***\\n\\n*   添加自定义错误功能\\n*   修改 ABI 编码器中的 Bug\\n*   允许自配置 SMT Checker\\n\\n**智能合约开环境搭建发工具 Hardhat 发布 *[v2.2.1](https://link.zhihu.com/?target=https%3A//github.com/nomiclabs/hardhat/releases/tag/hardhat-core-v2.2.1)***\\n\\n*   添加对柏林硬分叉的支持\\n*   修复了在 macOS 上下载 Solc 时的问题\\n*   支持 @ethereumjs/vm v5版本\\n\\nun.Block 往期内容关联 *[Solidity](https://link.zhihu.com/?target=https%3A//unblock256.substack.com/p/unblock-2021-1ibc-)* *[Hardhart](https://link.zhihu.com/?target=https%3A//unblock256.substack.com/p/unblock-2021-2force-dao-)*\\n\\n### 区块链工具分享\\n\\n![](https://pic2.zhimg.com/v2-de230c6651d6c9c655544e5370499901\\\\_b.jpg)\\n\\n*   *[GasNow](https://link.zhihu.com/?target=https%3A//www.gasnow.org/)*：以太坊 Gas Fee 预测系统\\n*   *[MaskNetwork](https://link.zhihu.com/?target=https%3A//mask.io/)*：在社交网络上加密你发布的信息，ChainSwap 选用的 ITO 平台，它还可以发红包哦\\n*   *[Blocknative](https://link.zhihu.com/?target=https%3A//www.blocknative.com/simulation-platform)*：一个安全分析器，观察待处理的交易，以预测下一个区块中的内容，提供免费与付费使用方案\\n\",\"timestamp\":1633782051,\"title\":\"去中心化交易\"},\"digest\":\"bx2JVh-OWAF2uWEl3M3c1K00CGXjjww7gI-NKDLQhBg\",\"authorship\":{\"contributor\":\"0x7B076d7BcdE88Ec322B2D01AA1ADc1997b7724f6\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"-uhmdAZYxFgq_x4xq-zXdui7hRToWKgI3gCLaeRwzfE\\\",\\\"y\\\":\\\"e_jae50XeRHkDjBd1dCU7xTq7o4HjO4Idn3X9qLgXmA\\\"}\",\"signature\":\"htwkOE9eF5ClcL4Mkrpz6RqJW-AYSAli14PXzjo6TKdjni405GPpifmQrRvkI1XuuEWdtbA0OLwEudIfQewQMA\",\"signingKeySignature\":\"0x0475273f3894cbe534b5ebf3dc9005f7b109c905b95b05fd0afb3d0dd6c056984938a186d9c56832d588e27230d06074bb752d52c6fbbffe3ddc0a71e38362d11c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"-uhmdAZYxFgq_x4xq-zXdui7hRToWKgI3gCLaeRwzfE\\\",\\\"y\\\":\\\"e_jae50XeRHkDjBd1dCU7xTq7o4HjO4Idn3X9qLgXmA\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"bx2JVh-OWAF2uWEl3M3c1K00CGXjjww7gI-NKDLQhBg\"}"