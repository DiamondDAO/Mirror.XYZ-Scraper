"{\"content\":{\"body\":\"> As part of the best practices for DevOps, all your infrastructure is deployed using CloudFormation. This includes EBS volumes. When the CloudFormation stacks are deleted, it is mandatory to keep a snapshot of the EBS volumes for backup and compliance purposes.\\n>\\n> How can you achieve this using CloudFormation?\\n\\n**Ref:**\\n\\n[https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-ebs-volume.html](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-ebs-volume.html)\\n\\n[https://aws.amazon.com/blogs/aws/aws-cloudformation-update-yaml-cross-stack-references-simplified-substitution/](https://aws.amazon.com/blogs/aws/aws-cloudformation-update-yaml-cross-stack-references-simplified-substitution/)\\n\\n**Ans:**\\n\\n**Use DeletionPolicy=Snapshot**\\n\\nTo control how AWS CloudFormation handles the EBS volume when the stack is deleted, set a deletion policy for your volume. You can choose to retain the volume, to delete the volume, or to create a snapshot of the volume.\\n\\nHere is the sample YAML:\\n\\n```\\nNewVolume:\\n  Type: AWS::EC2::Volume\\n  Properties:\\n    Size: 100\\n    Encrypted: true\\n    AvailabilityZone: !GetAtt Ec2Instance.AvailabilityZone\\n    Tags:\\n      - Key: MyTag\\n        Value: TagValue\\n  DeletionPolicy: Snapshot\\n```\",\"timestamp\":1641206450,\"title\":\"[Web 2][AWS] CF DeletionPolicy\"},\"digest\":\"jXchoWZSgQauY2HdxP75sxXn2EVas-r6DkjTxE3euDA\",\"authorship\":{\"contributor\":\"0xd0368eE169498faad1AF9aBFbdC8C9CAE432aBe5\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"BEsnhfd1DkMbOlZ4HfBQZmBmbzM9-wLJnhivFRpydP0\\\",\\\"y\\\":\\\"kIztSFJ6BfDUg3JD89g0RIFYZ25Au0U5MSyg4Bb1KcI\\\"}\",\"signature\":\"4XLXMHsLxg4TgA2_XzyFFGSVh3AErJ3wVdgaxECtTI5-vf947knXYUR79xd57qIiUMJpWIGYtYb2JHEyoSWEDQ\",\"signingKeySignature\":\"0xce4ff89d77bbf6971dbe18d682a15f33c5095aad10718caa6f04339b5d1ec16f2ef845c3723a780509308ba22876d40fa5114045bf244d200de3342f53cfd3351b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"BEsnhfd1DkMbOlZ4HfBQZmBmbzM9-wLJnhivFRpydP0\\\",\\\"y\\\":\\\"kIztSFJ6BfDUg3JD89g0RIFYZ25Au0U5MSyg4Bb1KcI\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"jXchoWZSgQauY2HdxP75sxXn2EVas-r6DkjTxE3euDA\"}"