"{\"content\":{\"body\":\"Mina Monitor\\n\\n### \\n\\n![](https://images.mirror-media.xyz/publication-images/wSkVd4Z7EWhlTDDalk6fL.png?height=580&width=771)\\n\\n \\n What’s new in 2.1.0\\n\\nBuilt by Ukranian developer[ Serhii Pimenov](https://minacrypto.com/2021/09/19/mina-monitor-serhii-pimenov/) Mina Monitor version 2.1.0. has just been released.\\n\\n**2.1.0 Summary** \\n  \\n \\n\\n1. In the new version returned interaction with a Mina Explorer. Now, Monitor sends a request to the Mina Explorer for information about the last canonical block and blockchain height.\\n\\n\\n2. Changes have been made to the config file structure to make it clearer, and to support new features. I changed parameters which respond to interaction with  messengers (Discord and Telegram), interaction with others nodes where Monitor installed (comparison nodes), parameters, which defines a behavior of the Monitor for control memory usage and node hanging state.\\n\\n\\n3. Added new usefulness messages to messengers about won blocks, about uptime changes in the leaderboard.\\n\\n\\n4. Changed algorithm sending information about balance state. Now, information is sent only when the balance was changed. So, parameter **balanceSendInterval** deprecated, and for enabling balance state sending you must add value BALANCE to the **alertToTelegram** or **alertToDiscord**.\\n\\n\\n5. Added a special observer for config file changing. Now, if you change a config.json file content, Monitor applies new values on the fly.\\n\\n\\n6. Now, the server sends the protocol mode (HTTP or HTTPS) to the clients, and this mode is displayed as a closed lock on the left corner in each node panel (in Cluster client).\\n\\n\\n7. Added support for using additional static HTML files in an internal web-server.\\n\\n### Interaction with Mina Explorer\\n\\nFor Interaction with Mina Explorer a special module was added. You can control this module with a composite parameter **explorer**. \\n\\n```\\n{\\n        \\\"explorer\\\": {\\n            \\\"getRewardsInterval\\\": \\\"3m\\\",\\n            \\\"getLatestBlocksInterval\\\": \\\"1m\\\",\\n            \\\"getBlockchainSummaryInterval\\\": \\\"1m\\\"\\n        }\\n}Copy Text\\n```\\n\\n**parameters**\\n\\n* **getRewardsInterval** – this key responsible for how often Monitor will ask information about won blocks in current epoch.\\n* **getLatestBlocksInterval** – this key responsible for how often Monitor will ask information about the latest canonical block in blockchain.\\n* **getBlockchainSummaryInterval** – this key responsible for how often Monitor will ask blockchain summary info.\\n\\n## Changing in alert system\\n\\nParameters responsible for organization information users to Telegram and/or to Discord were reorganized for simplification and clearing from one side, and for ability to control new features. The next parameters were deprecated: **telegramToken**, **telegramChatID**, **telegramChatIDAlert**\\\\`, **discordWebHook**. Added composite parameters instead **telegram** and **discord.** Also was added parameter **channel:info** for defining messages, which Monitor sends to INFO channel, others messages Monitor will send to ALERT channel. Now, you can divide messages between INFO and ALERT channels and send them to different chats.\\n\\n**telegram**\\n\\n```\\n{\\n    “telegram”: {\\n        “token”: “”,\\n        “tokenInfo”: “”,\\n        “tokenAlert”: “”,\\n        “chatIDInfo”: “”,\\n        “chatIDAlert”: “”\\n    }\\n}Copy Text\\n```\\n\\n**discord**\\n\\n```\\n{\\n    “discord”: {\\n        “webhook”: “”,\\n        “webhookInfo”: “”,\\n        “webhookAlert”: “”,\\n        “botName”: “”\\n    }\\n}Copy Text\\n```\\n\\n**channel**\\n\\n```\\n{\\n    “channel”: {\\n        “info”: [\\\"HELLO\\\", \\\"BALANCE\\\", \\\"PRICE\\\", \\\"REWARDS\\\", \\\"UPTIME\\\"]\\n    }\\n}\\nCopy Text\\n```\\n\\n**Messages types**\\n\\n```\\n  const defaultAlerts = [\\n        \\\"FAIL\\\",\\n        \\\"EXEC\\\",\\n        \\\"HELLO\\\",\\n        \\\"STATUS\\\",\\n        \\\"MAX\\\",\\n        \\\"FORWARD-MAX\\\",\\n        \\\"FORK\\\",\\n        \\\"FORWARD-FORK\\\",\\n        \\\"HANG\\\",\\n        \\\"EXPLORER\\\",\\n        \\\"RESTART\\\",\\n        \\\"BALANCE\\\",\\n        \\\"PEERS\\\",\\n        \\\"MEM\\\",\\n        \\\"COMPARE\\\",\\n        \\\"PRICE\\\",\\n        \\\"REWARDS\\\",\\n        \\\"UPTIME\\\"\\n    ]\\nCopy Text\\n```\\n\\n### Channel defining\\n\\nStarting from Monitor 2.1.0 you can use one or two different channels (one for INFO messages, and one for ALERTS) for sending messages from Monitor. If you are only going to use one channel, you can define Telegram token in key **token** in parameter **telegram,** and Discord chat webhook in key **webhook** in parameter **discord**. If you wish to use different channels, you can define values for keys **tokenInfo**, **tokenAlert**, **webhookInfo**, and **webhookAlert**. Also, for sending messages to Telegram, you must define users IDs in keys **chatIDInfo** and/or **chatIDAlert**. If you wish to send and info messages and alerts to the user, you must put the user chat id to both keys or use merging key **chatID**.\\n\\n### Split messages to different types\\n\\nYou can split messages to two different types: info and alert. For this purpose you can use parameter **channel:info.** In the key **info** of the parameter **channel**, you must define those messages that are delivered into the info channel. Other messages the Monitor will send to the alert channel. By default, this key contains the following values: “**HELLO**“, “**BALANCE**“, “**PRICE**“, “**REWARDS**“, “**UPTIME**“.\\n\\n### Control the Node hanging state\\n\\nFor a more convenient and understandable perception of the parameters responsible for the behavior of the Monitor in the event of a node hanging detection, next parameter were deprecated **hangIntervalAlert**, **hangInterval**. To set Monitor behavior you must use a composite parameter **hang** with keys **alert** and **restart**.\\n\\n```\\n{\\n    “hang”: {\\n        “alert”: “30m”,\\n        “restart”: “60m”\\n    }\\n}\\nCopy Text\\n```\\n\\n## Control memory usage\\n\\nFor a more convenient and understandable perception of the parameters responsible for the behavior of the Monitor in the event of a node memory usage detection, next parameter were deprecated **memAlert**, **memRestart**. To set Monitor behavior, you must use a composite parameter **memory** with keys **alert** and **restart**.\\n\\n```\\n\\n{\\n    “memory”: {\\n        “alert”: 95,\\n        “restart”: 0\\n    }\\n}\\nCopied!\\n```\\n\\n## Interaction with others Mina Monitors\\n\\nBeginning from version 2.0.2 Monitor receives a module for interaction with other Mina Monitor instances. This module can control matching block heights and inform you in case when height is different. In 2.1.0 the structure of parameters for this module was changed to:\\n\\nAttention! Interaction with other nodes may work incorrectly or not work at all if you have self-signed certificates installed or ssl certificates are installed incorrectly (incomplete chains, …).\\n\\n```\\n\\n{\\n    \\\"comparison\\\": {\\n        \\\"reconnect\\\": \\\"30s\\\",\\n        \\\"blockDiff\\\": 3,\\n        \\\"nodes\\\": [\\n            {\\n                \\\"name\\\": \\\"Host1\\\",\\n                \\\"address\\\": \\\"host1.com:8000\\\",\\n                “https”: false\\n            },\\n            {\\n                \\\"name\\\": \\\"Host2\\\",\\n                \\\"address\\\": \\\"host2.com:8000\\\",\\n                “https”: false\\n            }\\n        ]\\n    }\\n}Copy Text\\n```\\n\\n### New messages\\n\\nIn 2.1.0 new information messages: 1) info about won blocks, 2) changes for your address in uptime leaderboard, 3) information about Mina cost. To activate these messages, you must add values **PRICE**, **UPTIME**, **REWARDS** to the parameter **alertToTelegram** and/or to the parameter **alertToDiscord**. \\n\\n*Note: it is necessary to take into account that the **price:target** parameter is canceled.*\\n\\n### Config file watcher\\n\\nIn 2.1.0 added a module that monitors the state of the configuration file (config.json) and if any changes are made to it, this module applies these changes to the Monitor. With this, you no longer need to restart the monitor. You can change any parameter without restarting the Monitor, except for the parameters host, https, journal.\\n\\n*This functionality does not work yet with a Monitor running as a Docker Container.* \\n\\n### HTTP or HTTPS\\n\\nNow Monitor sends to clients information about protocol where he works. If the Monitor was started in secure mode (with using SSL certificate on HTTPS protocol), On the client (supported only in Cluster Client) you can see that on the top left corner on the node panel.\\n\\n### Supports static HTML files\\n\\nIn 2.1.0 was added support for using static html files on the level of the internal web server. You can control a place of the web server root folder with a parameter **webRoot**. You can use this feature to create and renew Let’s Encrypt certificate in automatic mode (if you use 80/443 ports to start Monitor).\\n\\n## Changes in Mina Monitor Cluster v2.1.0.\\n\\nThere is also an update to the Mina Monitor Cluster – enabling monitoring of several nodes at once, see below.\\n\\n\\\\+ \\\\[x\\\\] Added data from Mina Explorer: latest block, current block height \\n + \\\\[x\\\\] Added information about Mina Monitor Version for each node \\n + \\\\[x\\\\] Added indication for start node in https mode \\n + \\\\[x\\\\] Fixed incorrect size of epoch donut for window size between 1200px and 1400px \\n + \\\\[x\\\\] Added support for wide screens: to five nodes in one row \\n + \\\\[x\\\\] Fixed sorting uptime positions range \\n \\n\\n![](https://images.mirror-media.xyz/publication-images/nV5XSZPoraI_7US7eX-nM.png?height=542&width=772)\\n\\n![](https://images.mirror-media.xyz/publication-images/iPIJ5_IY-kS-yr8Ix4-pM.png?height=360&width=774)\\n\\n \\n [Mina Monitor cluster update – Click to view full size](https://minacrypto.com/wp-content/uploads/2021/12/explorer-in-monitor-2.0.4.jpg)\\n\\n[Mina Monitor cluster update – Click to view full size](https://minacrypto.com/wp-content/uploads/2021/12/monitor-5nodes-https.jpeg)\\n\\n\\n---\",\"timestamp\":1640272861,\"title\":\"Tech: Mina Monitor Update\"},\"digest\":\"Tg05Pbn4EUPPwK5OO4y8o0X_xLiQtjIo8YUWpon7-nU\",\"authorship\":{\"contributor\":\"0xe22cbcAA0324DfA1d83cB939239e11C306c9A03f\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"amBt_wohYAdH2f8eLZiUfK6TO18ka0eiE2VlhKy_Z78\\\",\\\"y\\\":\\\"SgtL63YeKkPZ2jOqF07SXB5nvjXiyP2cXFDzht1NSIA\\\"}\",\"signature\":\"osr_ANYzlequpsmYTi-2x-qyZdAx2U_bA_-pBLgyiANPvjxSuML6r14rPfMHi8mZY72gBQ_mP9ywqxY7ucqAZQ\",\"signingKeySignature\":\"0x85189da7075d676c0a7629bb286aca46d47a91aeaf831b635c915a2df22b359a33daaf630e6935327953a216f291885badc011d73e16af632d9d13e02fe1fd061c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"amBt_wohYAdH2f8eLZiUfK6TO18ka0eiE2VlhKy_Z78\\\",\\\"y\\\":\\\"SgtL63YeKkPZ2jOqF07SXB5nvjXiyP2cXFDzht1NSIA\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"Tg05Pbn4EUPPwK5OO4y8o0X_xLiQtjIo8YUWpon7-nU\"}"