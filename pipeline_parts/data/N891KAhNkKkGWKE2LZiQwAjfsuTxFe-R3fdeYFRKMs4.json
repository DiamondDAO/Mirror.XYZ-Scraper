"{\"content\":{\"body\":\"# \\n\\n[深潮TechFlow](https://www.defidaonews.com/writer/399205)发布在[链头条 海盗号](javascript:;)\\n\\n*撰文：Timothy Craig*\\n\\n*翻译：zombit*\\n\\n以太坊广受赞赏的ZK Rollup 扩容方案StarkNet Alpha 于昨日上线以太坊主网，该解决方案有助于缓解以太坊当前高昂的手续费使用环境。目前已经有好几个扩展解决方案被实际采用，但ZK-Rollup（Zero-Knowledge Rollup）技术始终被视为是扩容解决方案的最佳解答，原因究竟为何呢？\\n\\n \\n \\n\\n## 以太坊可扩展性问题\\n\\n \\n \\n\\n高昂的gas fees 已经成为以太坊的主要问题，由于交易费用是以ETH 支付，当资产价格上涨时，使用网路的成本也随之上升，ETH 今年上涨了460%，这意味着以美元计算的交易成本也增加了460%。另外，交易费用也取决于网络拥堵程度，由于目前的链上应用项目对以太坊区块空间有着极大的需求，但是区块空间是有限的，导致其网路很容易变得拥挤，使交易确认速度变慢及gas fee 变高。\\n\\n使用网路的高成本成为用户参与DeFi（去中心化金融）和NFT 的阻碍，甚至失去参与DAO 的机会，许多加密货币爱好者已经迁移到其他第一层区块链上，如Solana（SOL）和Avalanche（AVAX）。\\n\\n以太坊交易gas 价格中位数\\n\\n在过去的几年里，几个扩展解决方案已经被开发出来，以帮助缓解以太坊的网路拥堵及交易成本问题。Polygon 在2019 年推出，可以说是第一个获得巨大吸引力的以太坊扩容解决方案，该网路使用一个名为Plasma 的扩容方案，它将交易从主要的以太坊区块链转移到一个专用的侧链，许多以太坊原生的DeFi 应用已经在Polygon 上推出，如Curve（CRV）和Aave（AAVE）。\\n\\n虽然Polygon 网路透过低交易成本成功吸引用户使用，但它常被质疑安全性和中心化问题，而被认为不是一个真正的扩展解决方案，该网路使用其自身的节点验证者管理PoS 共识机制，这意味着它不使用以太坊主网来验证交易，根据截稿前的\\n\\nPolygon 网络前25 大区块验证者占比\\n\\n \\n \\n\\n## Rollup\\n\\n \\n \\n\\n近期Rollup 扩展解决方案在以太坊社群引起了一阵热议，Rollup 方案顾名思义就是一种将计算数据「打包」并将有效性证明（Validity Proof）送回以太坊主网的方式，这种做法可节省区块空间，进一步减少提交给主网的数据量，由于交易被捆绑在一起，Gas fee 就能让许多用户分摊。Rollup 为用户提供了近乎即时的交易速度，可以将费用减少50 到200 倍，同时保持以太坊主网的安全性和去中心化。\\n\\n目前Rollup 方案的两种类型分别为Optimistic Rollup 和Zero-Knowledge Rollup（ZK-Rollup）。\\n\\n \\n \\n\\n## 什么是Optimistic Rollup？\\n\\n \\n \\n\\nOptimistic Rollup 方案假设发回主链的交易是合法的，只有当验证人能够透过提交诈欺证明（Fraud Proof）来证明交易是诈骗性的，交易才会被拒绝，换句话说，Optimistic Rollups 采取「在证明有罪之前是无罪的」的方法来验证交易。\\n\\n目前Optimistic Rollup 已经能看到实际采用情形，部分原因是开发者在该网路上开发应用程式较容易，Optimistic Rollup 可以直接支援完整的智能合约功能，开发人员可以使用以太坊的程式语言Solidity 编写应用程式。根据L2beat 的数据显示，目前最大的Optimistic Rollup 网路Arbitrum 已经在DeFi 应用程式当中吸引了超过25 亿美元的总锁仓价值（TVL），它承载了以太坊上许多受欢迎的DeFi 应用。\\n\\n然而，由于Optimistic Rollup 验证交易的方法，它们面临着一些挑战，传送回以太坊主网的资金要经历长达一周的挑战期（Dispute Time Delay），这给用户带来了不便，并破坏了可组合性。虽然Optimistic Rollups 已经改进了基于Plasma 的解决方案，如Polygon，但他们通常被认为是不如ZK-Rollups 的，Optimistic Rollups 提供高达77 倍的可扩展性提升，而ZK-Rollups 提供了高达500 倍的提升，并且无挑战期。\\n\\n \\n \\n\\n## 什么是ZK-Rollup？\\n\\n \\n \\n\\nZK-Rollup 方案在交易打包至主网时产生加密证明以证明交易是合法的，只有在加密证明被验证后，交易才会在以太坊上被接受，与Optimistic Rollup 不同，ZK-Rollup 采取了「在证明无罪之前有罪的」的验证方式。\\n\\n然而，ZK-Rollup 还没有达到与Optimistic Rollup 同类产品相同的兼容性水平，因为ZK-Rollup 在每笔交易中要伴随着有效性证明，所以它们在技术发展上更难，目前ZK-Rollup 的开发上已经能执行一些简单的任务，例如直接转帐和交易，虽然整合智能合约功能是有可能的，但比Optimistic Rollup 更加困难。\\n\\n就在今年，以太坊联合创始人Vitalik Buterin 预测，开发完全可组合的ZK-Rollup 将需要几年时间，然而，开发人员已经提前完成了计划，几个ZK-Rollups 项目正在准备部署解决方案，这些解决方案是兼具可组合性和互操作性，甚至能让多个Rollups 互通。\\n\\nZK-Rollups 的发展将允许以太坊主网和多个第2 层网路之间共享通讯框架，网路可以共享流动性并克服第1 层区块链面临的最大的采用挑战，基于ZK-Rollup 的网路将不需要为了让去中心化交易所上拥有高效率交易而争夺流动性，而是能够以合作的方式扩展以太坊。\\n\\nZK-Rollup 还具有另一个独特的功能，越多人交易会使交易费用变得更便宜，发送一个批次的费用不会有太大的变化，随着更多的交易被打包在一个批次中，交易成本可以在更多的用户中分摊，ZK-Rollups 可以打包几乎无限量的交易，因此当有足够的用户时，交易的gas fee 可以减少到只要几分钱，这个功能被称为「有效性证明摊销（Validity Proof Amortization）」。\\n\\n虽然以太坊仍然面临着可扩展性问题，但一些开发者已经在部署第二层ZK-Rollup 网路，承诺在智能合约、其他第二层解决方案和以太坊虚拟机之间实现完全可组合性和兼容性。\\n\\n \\n \\n\\n## ZK-Rollup 的类型\\n\\n \\n \\n\\n目前有两种不同类型的ZK-Rollup 被用于以太坊的扩展解决方案中，第一种是最被广泛使用的类型ZK-SNARKs，全名为简洁的非交互式知识论证（Succinct non-interactive arguments of knowledge），也是第一个被发现的零知识证明类型，专注于隐私保护的区块链项目Zcash（ZEC）早在2016 年就采用ZK-SNARKs，该技术构成了ZK-Rollup 大部分开发者的资料库和代码，并被认为是以太坊扩展项目的一个强有力的选择。\\n\\n但SNARKs 有一个缺陷，它们需要一个初始创建事件的密钥，这些密钥用于创建交易所需的证明，如果可信设置事件中的密钥没有被销毁，它们可以被用来凭空创造新的代币或伪造交易。\\n\\n目前备受瞩目的SNARK 扩展解决方案是Matter Lab 的zkSync，该项目于2020 年6 月启动，在其目前的迭代中宣称每秒可处理2000 笔交易，并希望在未来实现更高的吞吐量，今年5 月时，该平台开始致力于在兼容EVM 的环境中部署智能合约，推出了zkEVM 测试网。\\n\\nzkSync 目前着重于让Ethereum 主网的过渡尽可能容易，那些想在zkEVM 上开发的人可以使用以太坊程式语言Solidity 编写智能合约。Matter Labs 最近在a16z 领投的B 轮融资中筹集了5000 万美元，以帮助zkSync 的发展，此外，该公司已与几个以太坊DeFi 应用合作，如Curve、Aave 和1inch。\\n\\n**STARKs**\\n\\n另一种ZK-Rollup 方案为STARKs，全名为可扩展的透明知识论证（Scalable transparent arguments of knowledge），STARKs 比SNARKs 更有优势，因为STARKs 完全依赖哈希函数，不需要可信的设置，这意味着STARKs 在理论上比SNARKs 更安全。\\n\\nStarkWare 是第一家使用STARKs 来扩展以太坊的公司，是目前开发基于STARK 技术的主要推动者，该公司的两位联合创始人Eli Ben-Sasson 和Michael Riabzev 共同发明了这项技术，StarkWare 为基于STARK 的ZK-Rollups 创造了一种图灵完备的编程语言，称为Cairo，「StarkEx 协议」是以Cairo 语言创造的第一个产品。\\n\\nStarkEx 是一种针对特定应用的扩展解决方案，目前正被几个以太坊项目使用，包括dYdX、Immutable X、Sorare 和DeversiFi。StarkWare 即将发布的StarkNet 是一个无权限的ZK-Rollup 网路，可以让开发者直接在第二层建构并启动应用程式，StarkNet 的目标是成为一个真正去中心化的多应用扩展解决方案。\\n\\nStarkNet 发展示意图\\n\\nZK-Rollup 即将改变加密货币社群使用以太坊的方式，随着zkSync 和StarkNet 等高速、低成本网路的实现，更多以太坊主网上的交易将被外包至第二层，这应该会让以太坊更接近其成为一个可扩展、安全和去中心化的区块链网路的愿景。\\n\\n原文链接：https://cryptobriefing.com/zk-rollups-path-scaling-ethereum/\",\"timestamp\":1639241752,\"title\":\"StarkNet Alpha 上线以太坊主网，一文读懂ZK-Rollups 与以太坊的扩容之路\"},\"digest\":\"-XP65lRq8bJYH9WZmZhfv8XaE5RVChOosDJOe1PVPfg\",\"authorship\":{\"contributor\":\"0xA5FD802C2c1F0aFF3D43c7F1F4696Cb9415B9079\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"JD9P9QPcxGRvjxlqf8kz6MJvJgIfBSIAiU2PlhHXJhc\\\",\\\"y\\\":\\\"mYK1HfobxpyJFsauKmPkEffrHGjclGIgPc8gqY98Tas\\\"}\",\"signature\":\"oyesrEuKena4xvVlReTIEo5tgQALGOqf1nK3wuhwhGaJjojdMiw6AjpWobJliD4nrRxd7cKBjOVAh8df6ufqnQ\",\"signingKeySignature\":\"0xc1c9acb27dcc7eca98621049436e3a50fae926c67d90ef42a1f3f0a36c0e5a447604b85cf16b6bca6ff348f041aa8c6eb974f98cbeb1e659e7eb9b20c69237731b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"JD9P9QPcxGRvjxlqf8kz6MJvJgIfBSIAiU2PlhHXJhc\\\",\\\"y\\\":\\\"mYK1HfobxpyJFsauKmPkEffrHGjclGIgPc8gqY98Tas\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"-XP65lRq8bJYH9WZmZhfv8XaE5RVChOosDJOe1PVPfg\"}"