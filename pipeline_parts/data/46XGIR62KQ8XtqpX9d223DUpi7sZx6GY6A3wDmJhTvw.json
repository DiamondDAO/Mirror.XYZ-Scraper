"{\"content\":{\"body\":\"今天从 [@BTCdayu](https://twitter.com/BTCdayu) 处听到了Terra网络及其算法稳定币，看了看市值Terra的治理代币Luna市值排名第9，其网络发行的稳定币TerraUSD(UST)市值排名第21，能取得这么好的成就，故决定花时间研究一下其经济模型。\\n\\n本篇文章大概分3个部分：\\n\\n1. 介绍Terra网络如何实现稳定币的机制\\n2. 介绍Terra网络的共识机制、各个参与者角色以及收益来源\\n3. 总结分析一下Terra的优点\\n\\n## Terra协议\\n\\n之前我们听说的稳定币，大多是中心化机构发行并作为信用担保的。例如USDT由Tether公司发行，USDC、USDB等分别是由CoinBase和Binance发行，能与美元挂钩主要是利用发行公司的信用担保，其风险取决于发行公司的信用。\\n\\n而TerraUSD则是由Terra协议作为担保，Terra协议是为了算法稳定币([algorithmic stablecoins](https://docs.terra.money/Concepts/glossary.html#algorithmic-stablecoin))开发的一个分布式的区块链协议。\\n\\n为了实现稳定币可以与法币价格挂钩，它利用了**开放市场的套利动机**和**去中心化预言机投票**。下面的篇幅会对此展开论述。\\n\\n与此同时，Terra发行了的两种主要Token：\\n\\n* **Terra**\\n\\n  Terra类型的稳定币，用来绑定法币价格。例如TerraUSD(UST)用于与美元挂钩，TerraKRW(KRT)用来与韩元挂钩，等等。\\n* **Luna**\\n\\n  Terra网络的质押、治理代币，除了可以质押挖矿和社区治理的作用之外，它最主要的作用是消化Terra稳定币的不稳定性(valatility)。\\n\\n## 如何保证稳定币与法币价格挂钩？\\n\\n其实很简单，就是利用了**需求和供给**原理。\\n\\n我们以TerraUSD(UST)举例，假设UST的初始价格与美元挂钩，1 UST=1 USD。\\n\\n这时我们任由市场自由交易：\\n\\n当 **UST 需求量 > 供应量** 时，**UST**的价格会**上升**\\n\\n当 **UST 需求量 < 供应量** 时，**UST**的价格会**下降**\\n\\n所以如果能给保持 UST **需求量 = 供应量** 时，**1 UST**就能实现与**1 USD 挂钩**，即 **1 UST = 1 USD**。而Terra协议巧妙的利用了**Luna代币**以及**市场上的套利动机**实现了这个目标。\\n\\n## Terra市场（Terra Market）\\n\\nTerra Market是Terra专门为套利者设置的一个市场，在这个市场中，**任何时候1美元价值的Luna**可以和**1个UST**进行**互换**。\\n\\n假如Luna的市场价格现在是10美元，那么**0.1 Luna** **可以兑换 1 UST**。\\n\\n当有用户在Terra Market将0.1 Luna 去兑换 1 UST的时候，0.1 Luna被销毁(Burn)掉，1 UST被铸造(Mint)；相反，如果用户用1 UST去兑换 0.1 Luna时，1 UST被销毁掉，0.1 Luna被铸造。\\n\\n请再次记住这个概念：在Terra自己的协议中，**1美元价值的Luna 永远等于 1个UST**。这是Terra利用套利动机去实现稳定币的关键。\\n\\n## 稳定币与法币价格再挂钩\\n\\n上述由于供需不平衡导致的稳定币价格偏差，可以通过套利动机去再平衡，最终达到与法币挂钩的稳定价格。下面还是举例说明如何实现价格再挂钩：\\n\\n* **稳定币价格低于法币**\\n\\n  当UST需求量过低，假设1 UST市场价格只有0.9 USD。这时套利步骤如下：\\n  1. 套利者花 0.9 USD 购买 1 UST\\n  2. 套利者用 1 UST 去兑换 1 USD价值的 Luna\\n  3. 套利者将1 USD价值的Luna卖出，得到1 USD\\n  4. 套利者花费0.9 USD，得到了1 USD\\n\\n  经过上述套利后，1 UST会被销毁，而1 USD价值的Luna则会被铸造。因为UST的销毁导致UST供给减少，因此会抬高UST的市场价格，当UST价格接近1 USD时，无套利空间，则UST价格实现与USD再次挂钩。\\n* **稳定币价格高于法币**\\n\\n  当UST需求量过高，假设1 UST市场价格已达到1.1 USD。这时套利步骤如下：\\n  1. 套利者花1 USD购买Luna\\n  2. 套利者将手中的价值1 USD的Luna去兑换1 UST\\n  3. 套利者将1 UST在市场上卖出，得到1.1 USD\\n  4. 套利者花费1 USD，得到了1.1 USD\\n\\n  经过上述套利，1 USD价值的Luna会被销毁，而1 UST则会被铸造。因为增加了UST的供给，从而会使UST的价格下降，当价格下降接近1 USD时，无套利空间，则UST实现与USD价格再次挂钩。\\n\\nTerra协议巧妙的通过利用套利者动机，实现了稳定币和法币价格的挂钩。\\n\\n不过聪明的读者会发现一个套利过程中的关键问题，1 USD价值的Luna 可以永远兑换 1 UST，那么Terra协议如何确认1 USD能有购买多少个Luna呢？这个就是Terra预言机（Terra Oracle）的作用了。\\n\\n## Terra预言机（Terra Oracle）\\n\\n与Chainlink Oracle的作用类似，Terra预言机的作用主要是用于获取真实市场上Terra和Luna的实时价格，为上述套利例子中Luna和UST互换提供价格数据源(Price Feed)。\\n\\n下面是Terra Oracle的简单介绍。\\n\\n* **价格数据源（Price Feed）的产生**\\n\\n  Terra Oracle服务由矿工（Validator）提供，他们需要在每个投票阶段（VodePeriod）内进行投票，投票内容为市场上的Luna真实价格，Terra协议会根据每个矿工投票的Luna价格，采用加权平均算法计算得到一个最终的Luna价格，此价格会作为Luna和UST兑换的价格。\\n* **奖励（Reward）**\\n\\n  Terra协议会根据投票结果的加权平均值得到的价格作为基准，计算一个奖励偏差值（Reward Band），所有投票结果在偏差值内的矿工会得到奖励。\\n\\n  例如所有矿工的投票结果计算加权平均得到的Luna价格为100 USD，通过[算法](https://docs.terra.money/Reference/Terra-core/Module-specifications/spec-oracle.html#reward-band)计算得到奖励偏差值为1 USD，那么所有投票结果在99至101 USD的矿工都会得到奖励。\\n\\n  该机制鼓励矿工按照真实价格进行投票，否则将无法得到奖励。\\n* **防作弊机制**\\n\\n  矿工为了获取奖励，所以有可能根据别人的投票结果而决定自己应该如何投票，因为这样可以永远保证自己投票结果在奖励偏差值内，从而影响公平性。\\n\\n  所以每个投票阶段（VodePeriod），矿工需要投两轮票（prevote和vote）。第一轮投票是Hashed的内容，其余矿工无法查看具体的投票内容。第二轮投票中会包含有第一轮投票的明文内容，可供其余矿工检查明文Hash与第一轮投票的Hash是否一致。\\n* **惩罚机制（Slashing）**\\n\\n  矿工如果发生以下两种情况会触发Terra协议的惩罚机制：\\n  * **没有在投票期内（VotePeriod）提交投票**\\n\\n    表明矿工没有在工作\\n  * **提交的投票内容与最终结果的差值超过了奖励偏差值（Reward Band）**\\n\\n    表明矿工没有正确地工作\\n\\n  以上两种情况未完成都属于矿工没有完成一次有效投票，当有效投票率低于5%时，矿工会损失质押Luna的0.01%，用于惩罚该矿工。\\n\\n  如果有效投票率一直低于5%，则Terra协议则会停止该矿工的投票功能，而不是再继续罚矿工的款了，因为矿工质押的Luna并不完全属于矿工，有可能属于Terra用户。\\n\\n这里又提到了新概念，如质押、矿工还有用户，所以又有必要大概介绍下Terra链的共识机制以及奖励了。如果你想在Terra上进行质押挖矿，可以大概了解一下。\\n\\n## Terra共识机制\\n\\nTerra网络采用了[Cosmos SDK](https://cosmos.network/)提供的POS共识机制。出块流程与所有POS共识类似，大致流程如下：\\n\\n1. 选中一个矿工（Validator）作为提案者（Proposer）提交一个新的区块\\n2. 其余矿工（Validators）两轮投票决定是否接受或者拒绝这个提议区块。如果拒绝了，会重新选择一个提案者（Proposer）再次发起一个新区块的提案\\n3. 如果接受了，区块被签名并且追加到区块链网络中，形成一个新块。\\n4. 这个区块的交易手续费会作为奖励给矿工（[Validator](https://docs.terra.money/Concepts/Protocol.html#validators)）和用户（[Delegator](https://docs.terra.money/Concepts/Protocol.html#delegators)）。提案者（Proposer）能得到更多一些的奖励。\\n\\n## Terra各角色及行为介绍\\n\\n跟所有质押挖矿项目差不多，不熟悉的朋友可以大概了解下\\n\\n* **矿工（[Validator](https://docs.terra.money/Concepts/Protocol.html#validators)）**\\n\\n  需要运行全节点参与Terra网络，但整个网络只允许**质押Luna最多**的**前130个矿工**参与\\n* **用户（[Delegator](https://docs.terra.money/Concepts/Protocol.html#delegators)）**\\n\\n  普通用户，不用运行全节点。参与挖矿需要加入某个矿工（Validator）进行质押，可以拿到矿工费分成\\n* **质押（[Bonding, Staking, Delegating](https://docs.terra.money/Concepts/Protocol.html#bonding-staking-and-delegating))**\\n\\n  用户或者矿工需要质押Luna进行挖矿，挖矿得到的奖励按照质押Luna的金额进行分配\\n* **退出质押（[Unbonding](https://docs.terra.money/Concepts/Protocol.html#unbonding)）**\\n\\n  拿回质押的Luna，不再享受质押挖矿的奖励。为了减少网络的不稳定性，退出质押时需要**等待21天**才能拿回Luna\\n* **重新代理（[Redelegation](https://docs.terra.money/Concepts/Protocol.html#redelegation)）**\\n\\n  用户希望更换一个矿工，这时与退出质押不同，用户不需要等待21天才能更换矿工\\n\\n## Terra挖矿奖励的来源\\n\\nTerra挖矿奖励主要来源于以下部分：\\n\\n* **Gas费**\\n\\n  即每笔交易的手续费，矿工可以设置最低gas price决定transaction是否打包。\\n* **稳定币费（Stability Fee）**\\n\\n  所有Terra稳定币的转账费。例如A转账UST到B，除了Gas费外，还需支付稳定币费。费率是变化，从0.01%到1%浮动，上限为1 UST。\\n* **兑换费（Swap Fee）**\\n  * **Tobin Tax**\\n\\n    稳定币和稳定币之间兑换的固定比例税率，税率根据不同的稳定币而变化。大多数稳定币的税率是0.35%，像MNT的税率是2%。\\n  * **Spread Fee**\\n\\n    稳定币和Luna之间的兑换所收的费率，最低费用是0.5%。在市场极度不稳定的情况下，会去调节费率用来保证协议的稳定。\\n\\n下表为Terra网络上各项交易的各类费用收取情况，摘抄于官网：\\n\\n## Luna价格为何一直攀升？\\n\\n如前所述，随着对UST稳定币使用需求的增加，会导致UST的价格抬升，而套利动机会驱使越来越多的Luna被销毁，从而抬升Luna的价格。\\n\\n同时Luna的持有人为了自身利益，也会不遗余力的去推广Terra发行的各种稳定币。因为Terra稳定币的使用场景越多，对Terra的需求量就会越来越大，从经济模型上推导出Luna的价格也会越来越高。\\n\\n这也是为什么当被铸造的UST总市值排名21的时候，Luna的市值能够被推到第9名的原因。\\n\\n我认为Terra的成功在于：\\n\\n1. 利用套利动机自动帮助其稳定币进行价格与法币挂钩，通过经济模型实现了去中心化的算法稳定币。\\n2. 将Luna这个社区治理代币的价值与稳定币的市场推广程度进行绑定，使社区所有的用户有推广Terra稳定币应用的利益动机。\\n\\n随着Terra社区推广力量的增加，以及去中心化运动的开展，我认为Terra稳定币会进一步逐渐蚕食USDT、USDB和USDC这些中心化稳定币的市场，从而进一步推高Luna的价格。\\n\\n**PS：以上分析不构成任何投资建议。**\",\"timestamp\":1639998864,\"title\":\"Terra网络及稳定币经济模型简介\"},\"digest\":\"7cDe57TyBH4eUg3Kfxa1ekzu8XCbmk6xDLK0rZvi8fA\",\"authorship\":{\"contributor\":\"0x8eC46A6d1AFda45f5A334Fe85016FB39D9D8Caee\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"EVzWCcoIHcix4zcS12ajCMW9eAtBXk0DwxvEU55O8ZM\\\",\\\"y\\\":\\\"0a4MCZ1aZdo1vYesm7gVoiPZsL64vyVA5YO3zr8LAl0\\\"}\",\"signature\":\"15XlnJuawKTaIuztCZWSTa8wiDt3Qf2kVUIXkH3-RFaIUsRodu4Cmi0VA5cpf6oPH_ByiQaOFJ-kqrqbnh_8kw\",\"signingKeySignature\":\"0x2e1f665b69de5328f76c58a20d84bd018098baa602ef2c7ec8e8e5820ae1ca7522cede5a35ec013b8a895885646082edbd032e29c22000fc90260313f8cd522d1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"EVzWCcoIHcix4zcS12ajCMW9eAtBXk0DwxvEU55O8ZM\\\",\\\"y\\\":\\\"0a4MCZ1aZdo1vYesm7gVoiPZsL64vyVA5YO3zr8LAl0\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"7cDe57TyBH4eUg3Kfxa1ekzu8XCbmk6xDLK0rZvi8fA\"}"