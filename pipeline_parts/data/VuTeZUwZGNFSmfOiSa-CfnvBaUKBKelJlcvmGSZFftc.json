"{\"content\":{\"body\":\"Ironfish 铁鱼挖矿已经开始了，但官方的教程实在不敢恭维，官方建议的docker我觉得性能会低，所以在CentOS下，基于源码自行编译。经过测试CentOS7存在大量问题，安装很不方便，强烈建议使用CentOS8.\\n\\n> 首先准备一台服务器，CPU核心数要多一些，8核+，内存要求不高，8G就差不多\\n>\\n> 可以提供付费安装，有需要的可加微信（t52861700），注明装铁鱼\\n\\n 1. 安装 node.js 16\\n\\n    ```\\n    dnf module install nodejs:16\\n    ```\\n\\n    > centos8以前的版本没有dnf ，也可以手动下载安装 nodejs\\n    >\\n    > ```\\n    > wget https://nodejs.org/dist/v16.13.1/node-v16.13.1-linux-x64.tar.xz \\n    > xz -d node-v16.13.1-linux-x64.tar.xz \\n    > tar -xvf node-v16.13.1-linux-x64.tar\\n    > ln -s /root/node-v16.13.1-linux-x64/bin/node /usr/bin/node\\n    > ln -s /root/node-v16.13.1-linux-x64/bin/npm /usr/bin/npm\\n    > ln -s /root/node-v16.13.1-linux-x64/bin/npx /usr/bin/npx\\n    > export PATH=/root/node-v16.13.1-linux-x64/bin/:$PATH\\n    > echo 'export PATH=/root/node-v16.13.1-linux-x64/bin/:$PATH' >> ~/.bashrc \\n    > source ~/.bashrc\\n    > ```\\n 2. 安装gcc\\n\\n    ```\\n    yum install gcc gcc-c++\\n    ```\\n 3. 安装rust\\n\\n    ```\\n    curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\\n    source $HOME/.cargo/env\\n    ```\\n 4. 安装 yarn\\n\\n    ```\\n    npm install --global yarn\\n    ```\\n 5. 下载官方源代码\\n\\n    ```\\n    cd /root\\n    git clone https://github.com/iron-fish/ironfish.git\\n    chown -R root ironfish\\n    ```\\n\\n    > 如果没有git，通过一下命令安装\\n    >\\n    > yum install git\\n    >\\n    > clone较慢的话，也可以自己下载后解压缩\\n    >\\n    > ```\\n    > wget https://github.com/iron-fish/ironfish/archive/refs/heads/master.zip \\n    > yum install -y unzip zip \\n    > unzip ironfish-master.zip\\n    > mv ironfish-master ironfish\\n    > ```\\n 6. 编译源码\\n\\n    ```\\n    cd /root/ironfish\\n    yarn install \\n    yarn build\\n    \\n    cd /root/ironfish/ironfish-cli/\\n    yarn build\\n    ```\\n\\n    > 有些系统没有自带python，如果提示python错误，请安装python3.6\\n    >\\n    > ```\\n    > yum install python36\\n    > ```\\n\\n    > 感谢老毕反馈的问题，如果编译源码后，在执行ironfish的相关命令出现 xxx is not a ironfish command 这类错误，可以执行\\n    >\\n    > ```\\n    > cd /root/ironfish\\n    > yarn install \\n    > yarn build\\n    > ```\\n 7. 启动节点（初次启动要同步数据比较慢）\\n\\n    ```\\n    cd /root/ironfish/ironfish-cli/\\n    yarn ironfish start\\n    ```\\n\\n    > 窗口不要关闭，或者把启动命令修改为后台方式\\n    >\\n    > nohup yarn ironfish start >nohup.log &\\n 8. 配置帐号（与官网注册一致）\\n\\n    ```\\n    yarn ironfish config:set blockGraffiti \\\"sddcg\\\"\\n    ```\\n\\n    > 双引号能填写自己在官网注册的帐号\\n 9. 再开一个终端窗口开启挖矿\\n\\n    ```\\n    cd /root/ironfish/ironfish-cli/\\n    yarn ironfich miners:start -t CPU核心数\\n    或\\n    yarn ironfich miners:start -t -1\\n    ```\\n\\n    > 窗口不要关闭，或者把启动命令修改为后台方式\\n    > nohup yarn ironfich  miners:start -t -1 >mine.log &\\n10. 官网查看积分\\n\\n    <https://testnet.ironfish.network/leaderboard>\\n\\n    > 每次登录都会发邮件，需要到邮箱点击链接完成登录\\n    >\\n    > 在search框输入自己的帐号后就能过滤自己的帐号，然后点击进入就可以查看积分情况\\n11. 水龙头领币\\n\\n    > 目前水龙头好像有问题，领不到\\n\\n    ```\\n    cd /root/ironfish/ironfish-cli/\\n    yarn ironfish faucet\\n    ```\\n12. 关于服务器，大家可以去白嫖一些云服务器厂商的免费试用款\\n\\n    如华为云，就提供4核8G 15天免费用\\n13. 查看状态\\n\\n    ```\\n    cd /root/ironfish/ironfish-cli/  \\n    yarn ironfish status -f\\n    ```\\n\\n    下图的 mined前的数字表示你挖到的数量\\n\\n![挖矿状态](https://images.mirror-media.xyz/publication-images/dIA2sFRBCNIDfbjv7TSmo.png?height=215&width=942)\\n\\n## Cmake问题\\n\\n```\\n\\nyum install centos-release-scl devtoolset-8-gcc*\\nscl enable devtoolset-8 bash\\nsource /opt/rh/devtoolset-8/enable\\nyum install cmake3\\nalternatives --install /usr/local/bin/cmake cmake /usr/bin/cmake 10 \\\\\\n--slave /usr/local/bin/ctest ctest /usr/bin/ctest \\\\\\n--slave /usr/local/bin/cpack cpack /usr/bin/cpack \\\\\\n--slave /usr/local/bin/ccmake ccmake /usr/bin/ccmake \\\\\\n--family cmake\\n\\nalternatives --install /usr/local/bin/cmake cmake /usr/bin/cmake3 20 \\\\\\n--slave /usr/local/bin/ctest ctest /usr/bin/ctest3 \\\\\\n--slave /usr/local/bin/cpack cpack /usr/bin/cpack3 \\\\\\n--slave /usr/local/bin/ccmake ccmake /usr/bin/ccmake3 \\\\\\n--family cmake\\n\\nalternatives --config cmake\\n```\\n\\n## openssl问题\\n\\n```\\nyum install openssl11\\nexport OPENSSL_ROOT_DIR='/usr/lib64/openssl11'\\necho 'export OPENSSL_ROOT_DIR=/usr/lib64/openssl11' >> ~/.bashrc \\nexport OPENSSL_INCLUDE_DIR='/usr/include/openssl11/openssl'\\necho 'export OPENSSL_INCLUDE_DIR=/usr/lib64/openssl11/openssl' >> ~/.bashrc \\nsource ~/.bashrc\\n```\\n\\n# Updating crates.io index 速度慢的解决办法\\n\\n修改   $HOME/.cargo/config\\n\\n```\\n# 放到 `$HOME/.cargo/config` 文件中\\n[source.crates-io]\\n#registry = \\\"https://github.com/rust-lang/crates.io-index\\\"\\n\\n# 替换成你偏好的镜像源\\nreplace-with = 'ustc'\\n#replace-with = 'sjtu'\\n\\n# 清华大学\\n[source.tuna]\\nregistry = \\\"https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git\\\"\\n\\n# 中国科学技术大学\\n[source.ustc]\\nregistry = \\\"git://mirrors.ustc.edu.cn/crates.io-index\\\"\\n\\n# 上海交通大学\\n[source.sjtu]\\nregistry = \\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index\\\"\\n\\n# rustcc社区\\n[source.rustcc]\\nregistry = \\\"https://mirrors.ustc.edu.cn/crates.io-index\\\"\\n```\\n\\n## github下载慢问题\\n\\n可以使用代理 git clone <https://ghproxy.com/https://github.com/iron-fish/ironfish.git>\\n\\n在/etc/hosts增加\\n\\n```\\n# GitHub520 Host Start\\n140.82.114.26                 alive.github.com\\n140.82.114.25                 live.github.com\\n185.199.108.154               github.githubassets.com\\n140.82.112.21                 central.github.com\\n185.199.108.133               desktop.githubusercontent.com\\n185.199.108.153               assets-cdn.github.com\\n185.199.108.133               camo.githubusercontent.com\\n185.199.108.133               github.map.fastly.net\\n199.232.69.194                github.global.ssl.fastly.net\\n140.82.113.3                  gist.github.com\\n185.199.108.153               github.io\\n140.82.113.3                  github.com\\n192.0.66.2                    github.blog\\n140.82.112.5                  api.github.com\\n185.199.108.133               raw.githubusercontent.com\\n185.199.108.133               user-images.githubusercontent.com\\n185.199.108.133               favicons.githubusercontent.com\\n185.199.108.133               avatars5.githubusercontent.com\\n185.199.108.133               avatars4.githubusercontent.com\\n185.199.108.133               avatars3.githubusercontent.com\\n185.199.108.133               avatars2.githubusercontent.com\\n185.199.108.133               avatars1.githubusercontent.com\\n185.199.108.133               avatars0.githubusercontent.com\\n185.199.108.133               avatars.githubusercontent.com\\n140.82.112.10                 codeload.github.com\\n52.216.16.160                 github-cloud.s3.amazonaws.com\\n52.217.172.41                 github-com.s3.amazonaws.com\\n52.216.28.148                 github-production-release-asset-2e65be.s3.amazonaws.com\\n52.216.152.124                github-production-user-asset-6210df.s3.amazonaws.com\\n52.216.169.171                github-production-repository-file-5c1aeb.s3.amazonaws.com\\n185.199.108.153               githubstatus.com\\n64.71.144.202                 github.community\\n23.100.27.125                 github.dev\\n185.199.108.133               media.githubusercontent.com\\n```\\n\\n## centos7中gcc版本问题导致yarn install失败\\n\\n```\\nyum install centos-release-scl scl-utils-build\\nyum install devtoolset-8-gcc*\\nscl enable devtoolset-8 bash\\n```\\n\\n# 账户创建及导入导出、余额查看\\n\\n```\\n# 创建账号 create 时可以设置账号名字\\nyarn ironfish accounts:create\\n\\n# 修改使用某个账号进行挖矿，账号对应钱包\\nyarn ironfish accounts:use xxx\\n\\n# 账号导出\\nyarn ironfish accounts:export xxx /root/xxx.accounts\\n\\n# 账号导入\\nyarn ironfish accounts:import /root/xxx.accounts\\n\\n# 查看余额\\nyarn ironfish accounts:balance\\n```\\n\\n## 本教程更新说明\\n\\n将 svn下载源码的方式调整为使用 git安装\\n\\n1. ~~安装subversion~~\\n\\n   ```\\n   yum install subversion\\n   ```\\n2. ~~下载官方源代码~~\\n\\n   ```\\n   cd /root\\n   svn checkout \\\"https://github.com/iron-fish/ironfish.git\\\"\\n   ```\",\"timestamp\":1639708556,\"title\":\"Ironfish铁鱼挖矿教程 CentOS 8 \"},\"digest\":\"B5jSKM1jbBkRSbfOn9wPJMk79m9RKpiaatpPSopwJsU\",\"authorship\":{\"contributor\":\"0xa35b1A0A77cB41E27a598d783362303395B89f9E\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"UnWx7LiImqMwG9fnIJGhEoqRlmiY54zpRRRp0OKddkU\\\",\\\"y\\\":\\\"kQOZWDoWk0pmXzFqBfD0IGEGOsrO2AGBESmb2_wdzOo\\\"}\",\"signature\":\"FhykP0Yyew0qhLmY1RaZVe5JQ8pPUzRXT42f5y-7zZFhF_gspK0JuPmBd3NKxsMBHm9qVj-W79HhMH5Q2B7hGg\",\"signingKeySignature\":\"0x4b529f1ea2a129789f415aacd41a82e345fccc85eaa1b47c97aaa2dc812d4d1857c9f98a872e7a1290a5123758a8ec285b135fbf04e403d74cab9f3eb4c68b0b1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"UnWx7LiImqMwG9fnIJGhEoqRlmiY54zpRRRp0OKddkU\\\",\\\"y\\\":\\\"kQOZWDoWk0pmXzFqBfD0IGEGOsrO2AGBESmb2_wdzOo\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"1HH_aVMjXmQgYXKM0ydVKv039MiCRNBjbB0XBmuQz-E\"}"