"{\"content\":{\"body\":\"![](https://pic4.zhimg.com/v2-56eb7a99e2708b9c784611d989083523\\\\_r.jpg)\\n\\n自从接触区块链之后，发现自己的学习能力明显不足，技术与热点变化之快是任何一个行业都无法相比的。之前有大概一个多月的时间很忙，没有太关注区块链，结果发现自己已经跟不上节奏了。\\n\\n我认为未来区块链会像互联网一样颠覆我们生活的方方面面，为了不被落下，我每天会花1-2个小时学习区块链知识，即**“日拱一卒，功不唐捐”**。我会以笔记的形式不定期分享出来，让跟我一样对区块链入魔的小朋友对区块链有更多的了解，如果有写的不对的地方也欢迎指出。\\n\\n本期来再说波卡（Polkadot）。本周波卡疯狂的表弟——Kusama已经正式启动平行链拍卖功能，Gavin Wood也说要在未来一周左右上线Kusama首条平行链Shell。上篇文章只是对波卡说了个大概，感觉还是没讲清楚，本期继续，主要说下波卡有哪些厉害的地方。\\n\\n### **一、根基——跨链**\\n\\n真正的跨链应该是万物互通，不同的区块链之间可以交换数据、资产等任何链上的东西。就像我们虽然用着不同运营商的电话卡，但是相互打电话不受影响。目前的区块链都是一个个”孤岛“，用联通的电话卡，只能给联通用户打电话。波卡的跨链技术能够实现以下三个功能，以解决信息孤岛困境：\\n\\n*   数据互通：以太坊上DeFi项目的数据可以传递到BSC的DeFi项目上；\\n*   资产互通：以太坊网络上的UNI代币可以转账到比特币网络；\\n*   互操作性：以太坊上的智能合约可以控制BSC上项目的转账。\\n\\n其中实现跨链的核心是**XCMP（Cross-chain Message Passing）传输协议**，用来实现平行链间传输信息。我没太深究这个协议，觉得对我用处不大，就像我们时时刻刻在用互联网，但知道http协议的很少一样。很多文章把这个协议解释的通俗易懂，我就不赘述了。\\n\\n### **二、更强的生态——可组合性**\\n\\n波卡不是一条公链，不是智能合约平台，**而更像是一个区块链的集合，其中包括中继链、各种平行链和转接桥，通过XMCP协议实现集合内各种链的互通。**以太坊相当于一个万达广场，在这里可以吃饭、逛街购物、看电影等。只要生态足够强大，就可以将实现各类功能的智能合约部署到以太坊上。波卡相当于一条商业街，上面既有万达广场，还有王府井等；既有适合普通百姓的品牌，也有专卖奢饰品的商场，租金还更便宜，用户可以随时选择去任何商场。可组合性就体现在可以在这条商业街上盖不同类型的商场甚至写字楼，即增加实现各类功能的平行链。平行链是通过插槽与中继链连接，就像商业街的土地有限一样，插槽的数量也有限，后边会讲到。\\n\\n### **三、共识机制——NPoS**\\n\\n波卡的共识机制是NPoS（Nominated Proof-of-Stake，提名权益证明）。**1. PoS（权益证明机制）**简单地说，质押通证最多的前N个节点拥有记账权，N越大，去中心化程度就越高。POS的优点是更节约能源、效率更高，但是容易富者更富，形成垄断。另外，每轮记账周期会增发（通胀）一定数量的通证作为奖励。也就是说，采用POS机制的链的通证是通胀的，会削弱其长期价值（比特币是通缩且总量固定的，价格要高于绝大部分通胀的币）。波卡是怎么做的：从[上篇文章](https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F\\\\_\\\\_biz%3DMzg3NjUxNjMxNA%3D%3D%26mid%3D2247484072%26idx%3D1%26sn%3D2524746ae4df284194966cc8d0a088db%26chksm%3Dcf30441df847cd0b257ea13e18a6c9dc70a9d35d9c902ea566533cea8185cfcae8af4ed0fec0%26scene%3D21%23wechat_redirect)我们知道，波卡的中继链负责维护平行链的共识。好处是什么呢？\\n\\n1.  **更专注在业务：平行链不需要记账了，由中继链统一负责，项目方不需要自己设计共识机制，更多的经历可以专注在业务本身。**\\n2.  **成本更低：不用记账也就不需要增发通证奖励节点了，项目方只需支付少量DOT租赁平行链插槽，节约了每年增发通证的成本。波卡说：”通胀我来，你们不需要。“**\\n\\n就好比一个写字楼内有很多公司，保安由物业公司负责，其他公司只要做好自己的业务并按时交租金就好。\\n\\n**2. 提名机制**波卡有四大角色：验证人、提名人、收集人和钓鱼人。在NPOS中，验证人和提名人发挥重要作用。验证人就是节点上的矿工，提名人是想参与质押挖矿且持有DOT的散户。提名人用DOT投票给其新人的验证人节点，最终波卡将选出验证人与提名人质押总数最高的前N个（目前是这个数，以后还会变）候选验证人作为正式验证人。需要注意的是，投给验证人的DOT没有转给验证人，而质押在波卡网络，只是锁定了流动性。区块链安全的核心在于共识机制，**共识是每个节点维护网络稳定运行所达成的一致。而节点越多，共识越强，越安全。随着波卡生态的不断强大，中继链上的节点数量会更多，安全性也会越来越高**。目前验证人数量为297，已经比主网上线时要多。\\n\\n**3. 质押奖励**只有被选为正式验证人，才能获得奖励，且每个节点的奖励是相同的，跟质押币的数量无关。每日获得的收益是由验证人和提名人公共分享。验证人收益分为两部分：\\n\\n*   **佣金收入：自己规定，从0-100%；**\\n*   **(单个节点日收益 - 佣金收入) × 验证人的质押比例**\\n\\n提名人收益：\\n\\n*   **(单个节点日收益 - 佣金收入) × 提名人的质押比例**\\n\\n验证人虽然有权设定佣金比例，但还是受制于市场。如果佣金比例高了，提名人就会改投其他佣金更低的验证人；如果低了，自己又不划算。\\n\\n![](https://pic2.zhimg.com/v2-33166d129ac075ce4ebf0afe36d900d5\\\\_b.jpg)\\n\\n另外，信誉更好的验证人可以收取更高的佣金，信誉一般的验证人需要通过降低佣金来吸引提名人投票。\\n\\n![](https://pic4.zhimg.com/v2-7dfa72f6373d8cd337bd2d2d6b316dc3\\\\_b.jpg)\\n\\n**4. 成为提名人**\\n\\n如果你跟我一样长期看好波卡，可以试试作为提名人挖DOT。成为提名人没有任何门槛，但需要自己花些经历研究验证人的可靠性。如果验证人不靠谱，投给他的提名人也会受到slash惩罚。波卡提供了两种不同的账户来管理资金：\\n\\n*   储值账户（Stash）：用来存放质押的资金，并将一部分功能委托给控制账户。\\n*   控制账户（Controller）：该账户代表储值账户行事，用来执行操作。\\n\\n这样的设计更安全，储值账户放在冷钱包，脱机管理；控制账户用来授权给各个项目执行相关操作。比只有一个密钥的系统更好地保护自己。另外，成为提名人虽然能够获得收益，但也有一些限制。通证解除绑定后需要锁定，波卡锁28天，Kusama锁7天，如果这段时间币价暴跌，提名人将受损失。因为我本周才尝试做提名人，就把我认为能讲清楚的先写出来，以后有机会写一个详细的挖矿教程。\\n\\n### **四、从1到N——Substrate**\\n\\nSubstrate不能算是波卡的一部分，但波卡是基于Substrate构建的。以太坊Solidity语言是由Gavin Wood发明的，可以实现便捷发币。离开以太坊后，Gavin Wood又创造了Substrate，一个区块链框架，通过模块化的设计，使得开发团队能够快速的搭建自己的区块链，实现“一键发链”。Substrate囊括了共识算法、网络安全、治理等，开发团队不用再从零开始，可以从1到N地创建区块链，大幅降低了门槛。但波卡上的平行链不一定非要用Substrate开发，换句话说，**用Substrate开发的项目也不一定是波卡生态中的一员。有些项目方就打着Substrate的旗号自称是波卡生态，但我们都知道只有赢得插槽拍卖才能算波卡生态。**下图形象的描述了波卡与Substrate的关系。\\n\\n![](https://pic3.zhimg.com/v2-a42033faebba280c051c97f364c88b62\\\\_b.jpg)\\n\\n### **五、不分叉的区块链**\\n\\n区块链的安全由共识决定，节点越多，共识越强，也就越安全。但是节点过多也会带来一些麻烦，比如**升级分叉**。区块链是由人设计的，人无完人，是人就会犯错，所以市面上任何一条区块链都有或多或少的缺点。当有人想对当前链进行升级时，就会造成分歧。节点升级不是强制性的，有的节点想升级，有的节点不想，节点越多，分叉的可能性也就越大，经典案例就是BTC、BCH再到之后的BSV。**升级分叉产生的根源是节点之间的分歧。**Gavin Wood就设计了一个强制升级的机制，把升级程序作为底层，封装在Substrate框架之中。所以波卡不会硬分叉，基于Substrate开发的平行链也不会硬分叉。当然这种做法也会损害去中心化。\\n\\n### **六、链上治理**\\n\\n波卡的链上治理分为三个角色，分别为**理事会、DOT的持有人、技术委员会。理事会**负责起草和制定议案，有13个席位，由DOT持有者选举产生，任期一年，任何DOT持有者有权参选。**DOT持有人**行使投票权，对公投提案进行投票，即使在质押挖矿的币也有权投票。另外，持有人也有权提出议案，并经理事会审核，审核通过可进入公投阶段。为了防止DOT大户话语权过大，波卡设计了杠杆投票机制，以锁仓为代价换取杠杆倍数，最高6倍。杠杆越高锁仓时间越长，也意味着需要承担未来币价下跌的风险越大。\\n\\n![](https://pic4.zhimg.com/v2-559687781366d03d907b1eee0976bc7f_b.jpg)\\n\\n**技术委员会**负责执行公投结果，由波卡的官方技术团队组成。技术委员会不能发起议案，但是有权利在公投结果出来后加速执行。一旦技术委员会颁布执行，那么所有节点将会自我升级。\\n\\n**七、插槽拍卖**\\n\\n**波卡上的平行链相当于家用电器，中继链相当于插排，插排上插孔的数量有限，需要通过拍卖竞得，这就是插槽拍卖。**12月8日，Gavin Wood 介绍了平行链相关事宜的上线顺序，具体为：\\n\\n1.  上线 Rococo v1（测试网）并等待其稳定运行；\\n2.  上线 Kusama 的 system（公共利益性质）平行链；\\n3.  开启 Kusama 上的竞拍；\\n4.  上线 Kusama 上竞拍成功的平行链；\\n5.  在审计完成后，上线 Polkadot 的公共利益性质平行链；\\n6.  开启 Polkadot 上的竞拍；\\n7.  上线 Polkadot 上竞拍成功的平行链。\\n\\n**平行链插槽拍卖的是租赁权，一次可拍多个租赁期，最多4个，每个租赁期6个月。**平行链插槽拍卖分为**安全期和随机期：**\\n\\n*   安全期：拍卖一直进行，不会结束；\\n*   随机期：根据链上随机数随时落锤，落锤时，谁质押的DOT最多谁就获得租赁权。\\n\\n另外，参与拍卖的项目方还可以鼓励其他用户将DOT质押给他们，并许诺奖励项目的代币。\\n\\n本期内容就到这里了，下期会涉及波卡生态的内容。\\n\\n参考：\\n\\n*   币乎大佬**doter**的《0到1全面认知波卡》系列文章\\n*   Polkadot Wiki\\n\\n***END***\\n\\n**====系列推荐====**\\n\\n[区块链从入门到入魔1：波卡（Polkadot）](https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F\\\\_\\\\_biz%3DMzg3NjUxNjMxNA%3D%3D%26mid%3D2247484072%26idx%3D1%26sn%3D2524746ae4df284194966cc8d0a088db%26chksm%3Dcf30441df847cd0b257ea13e18a6c9dc70a9d35d9c902ea566533cea8185cfcae8af4ed0fec0%26scene%3D21%23wechat_redirect)\\n\\n**====往期推荐====**\\n\\n[更加优雅的因子挖掘技术之自动化特征工程](https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F\\\\_\\\\_biz%3DMzg3NjUxNjMxNA%3D%3D%26mid%3D2247483975%26idx%3D1%26sn%3De54a2cbce87b9a07cf41243a90080cf3%26chksm%3Dcf3044f2f847cde4c1bbabdaacd3ff358c781f0be8e54f09a156ca8d87f717f875fe00452e79%26scene%3D21%23wechat_redirect)\\n\\n[机器学习真的能预测价格吗？](https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F\\\\_\\\\_biz%3DMzg3NjUxNjMxNA%3D%3D%26mid%3D2247483990%26idx%3D1%26sn%3D473d614fa98b35aafd6609fb2d358443%26chksm%3Dcf3044e3f847cdf51ba62a962212a37788f3a82fe5de5a8335146771baa53dd221f2539e17a2%26scene%3D21%23wechat_redirect)\\n\\n[因子投资“巫术”之遗传规划](https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F\\\\_\\\\_biz%3DMzg3NjUxNjMxNA%3D%3D%26mid%3D2247483843%26idx%3D1%26sn%3D1302d20ebef569353a1d8552a2761719%26chksm%3Dcf304776f847ce60cf44158defb05a4ad8230ada04ffd04510c095d7d597a880e2fecd3a3c03%26scene%3D21%23wechat_redirect)\\n\\n[因子投资“巫术进阶”之遗传规划](https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F\\\\_\\\\_biz%3DMzg3NjUxNjMxNA%3D%3D%26mid%3D2247483992%26idx%3D1%26sn%3D4cd94a52ffc093a78884eefd1d018112%26chksm%3Dcf3044edf847cdfbfde38e8e74ff16a02175523cff8c500537abc365339fda5dfd2b6fd67ff2%26scene%3D21%23wechat_redirect)\\n\\n[最通俗易懂的BERT原理与代码实现](https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F\\\\_\\\\_biz%3DMzg3NjUxNjMxNA%3D%3D%26mid%3D2247484064%26idx%3D1%26sn%3D66dd2f2d78733c119b0109d21cdc3519%26chksm%3Dcf304415f847cd03fd230bda4fa606bd830a3481dd2bfc3f234bdafae387ff91265a9a9698fb%26scene%3D21%23wechat_redirect)\\n\",\"timestamp\":1634698620,\"title\":\"区块链从入门到入魔2：再述波卡（Polkadot）\"},\"digest\":\"S11UjYJbF17HP7ei6jilNhJ5el5gmvV3w-sW3O85J4I\",\"authorship\":{\"contributor\":\"0x10F751A20f61a1eA33Ebb91411Fae3F8Ff0E0ecf\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"QSYfzr_1RYLzL5qac7JqKH7FNPImhDdwfaLhdpPFa80\\\",\\\"y\\\":\\\"qHhpvdCm2kPLYaj0LEd90eHsWdc_Dek4yCWHIPncCQU\\\"}\",\"signature\":\"fz4SFzK_arcsk75BO6LAMNJX2cFMVeLANel2I41jQ9flV2A5mswGXDU9Qt0niPKdKrzQREP61YBFbaDWDk9e-g\",\"signingKeySignature\":\"0x622e3a56a1a4e4267587476ea4cadff66c2badc81808226ec3ab6bd59505a2de6d9e80a8f09062b51f79528b2ad79cd90dd0852f258c754b7473da909914e9b800\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"QSYfzr_1RYLzL5qac7JqKH7FNPImhDdwfaLhdpPFa80\\\",\\\"y\\\":\\\"qHhpvdCm2kPLYaj0LEd90eHsWdc_Dek4yCWHIPncCQU\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"S11UjYJbF17HP7ei6jilNhJ5el5gmvV3w-sW3O85J4I\"}"