"{\"content\":{\"body\":\"前后搞了几天吧，一直无法在WSL中成功调用gpu，官方的tutorial都翻烂了。最后的最后在近邻发狂的边缘，看到某位网友说WIN10上用WSL调用GPU，系统必须是21H2版本。WIN+R输入winver查了一下我的是20H2，问题发现了。现在回过头想想官方tutorial真的屎啊，喊你加入预览者计划，但是不告诉你要手动更新系统版本，我特么就傻傻的研究了好几天。\\n\\n这里记录一下大概的配置流程\\n\\n 1. 去这里\\\\[https://[insider.windows.com/en-us/getting-started#register](http://insider.windows.com/en-us/getting-started#register)\\\\]注册参加预览者计划；\\n 2. 在设置→更新和安全→Windows更新中，找到并更新系统到21H2。\\n 3. 在win系统里下载安装包含wsl的cuda驱动\\\\[https://[developer.nvidia.com/cuda/wsl/download](http://developer.nvidia.com/cuda/wsl/download)\\\\]\\n 4. 安装更新wsl，并升级到版本2 \\\\[https://[docs.microsoft.com/en-us/windows/wsl/install-manual](http://docs.microsoft.com/en-us/windows/wsl/install-manual)\\\\]\\n 5. 去Microsoft Store 搜索Ubuntu，安装好后打开启动一个容器，设置好用户名和密码。\\n 6. 在WIndows PowerShell里运行 \\n\\n    ```\\n    wsl -l -v\\n    ```\\n\\n    确认Ubuntu容器版本为2。\\n 7. 在容器内安装CUDA，注意容器内不需要安装驱动 \\\\[https://[docs.nvidia.com/cuda/wsl-user-guide/index.html#installing-nvidia-drivers](http://docs.nvidia.com/cuda/wsl-user-guide/index.html#installing-nvidia-drivers)\\\\]。从4.2.6 Building Your Own GPU-accelerated Application on WSL 2 开始就好。\\n 8. 添加环境变量\\n\\n    ```\\n    vim ~/.bashrc\\n    写入\\n    export CUDA_HOME=/usr/local/cuda\\n    export LD_LIBRARY_PATH=${CUDA_HOME}/lib64\\n    export PATH=${CUDA_HOME}/bin:${PATH}\\n    退出vim\\n    source ~/.bashrc\\n    ```\\n 9. 这时应该就可以正常使用下面两句命令了。\\n\\n    ```\\n    nvcc --version\\n    nvidia-smi\\n    ```\\n10. 如果上面第二步没有更新系统，nvidia-smi会提示因为系统限制，无法调用GPU设备。\",\"timestamp\":1640867637,\"title\":\"WIN10配置WSL2调用GPU\"},\"digest\":\"taYtWWoW64EqcUnAvcPcVQU5PJ80jQ3y08fWMEcWfeA\",\"authorship\":{\"contributor\":\"0xc7122a0950FF5CA3C8Ed07AD8FD9dcB1fcd47f12\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"dImCye-iBmWAxtH4xFMsh_XRjuFX5C6pieoEWiqb_X8\\\",\\\"y\\\":\\\"L4RTuxPUSM_9piV3pXJcGp6Zlew5vFw7bpN85agdoZ8\\\"}\",\"signature\":\"AYWl1oUu7fXeDOYXnEKrtk29H98YXTCq3xM4_2_QGi5wbjLf6h5YII-RH96uFZvuPLirYM4uO3ZcgQBQrCbjxA\",\"signingKeySignature\":\"0x0f5f81c261e1e639e27d3c1b96ea976d6418a903889204215a43466fd21676903d687a159320f63b5af697b8ddad3318dfb5da3d557f737a9db9b924dec6b88a1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"dImCye-iBmWAxtH4xFMsh_XRjuFX5C6pieoEWiqb_X8\\\",\\\"y\\\":\\\"L4RTuxPUSM_9piV3pXJcGp6Zlew5vFw7bpN85agdoZ8\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"taYtWWoW64EqcUnAvcPcVQU5PJ80jQ3y08fWMEcWfeA\"}"