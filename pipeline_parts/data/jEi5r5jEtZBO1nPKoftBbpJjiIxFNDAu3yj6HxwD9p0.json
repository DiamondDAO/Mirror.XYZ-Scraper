"{\"content\":{\"body\":\"原理\\n\\n* 永续合约每 8 小时会向多空双方某一方收取一次资金费率，一般来说，合约价格高于现货价格，则多付给空，否则空付给多；\\n* 合约价格和现货价格之差越大，资金费率越高；\\n* 历史资金费率： (<https://www.bybt.com/zh/funding/BTC>)\\n* 如果我们购买 1000 刀的 btc，同时去永续合约开空价值为 1000 刀的合约，那么不考虑 手续费 & 滑点 的情况下，我们的资产总价值（btc 现货 + 合约利润）被恒定为了 1000 刀，无论 btc 涨还是跌。与此同时，我们会每 8 h 收取一次多军付给我们的资金费。\\n  本位\\n* 各大交易所都提供了 币本位 & usdt 本位的期货合约，也就是说如果去币本位开空，资金费率收益位 btc，usdt 本位开空，收益为 usdt。\\n  比如我们有 1000 刀 usdt：\\n  币本位\\n* 操作为：将 1000 刀全部购买 btc，然后将 btc 转到合约账户，将其作为全部保证金全仓做空等额 btc 价值合约；\\n* 那么我们的空单头寸为 1000 刀，也就是资金利用率为 100% 且 爆仓价为正无穷\\n  Usdt 本位\\n* 假设杠杠率为 2，操作为：买入 666 刀 btc，将剩下的 333 刀转到合约账户，2x 开空价值为 666 的 btc 永续合约；\\n* 那么我们的空单头寸为 666 刀，也就是资金利用率为 66.6%，且有爆仓价（爆仓后可以立马卖出现货止盈）\\n  资金利用率\\n* 上面两种方法，资金利用率最多是 100%，还有种套利方法可以加大杠杠：\\n* 假设资金杠杠率为 2，使用 500 刀在交割合约使用 4x 杠杠做多价值为 2000 刀的 btc 交割合约，使用 500 刀在永续合约做空价值 2000 刀的 btc 永续合约；\\n* 整体资金利用率为 2，但是杠杠率为 4，不过有如下几个问题：\\n  * 随着价格波动和交割合约到期，需要频繁移仓，来保证两边不爆仓，这里面会产生较多的手续费\\n  * 交割合约价格往往偏离现货价格较多，滑点不容忽视\\n    开发\\n* 对比历史资金费率，三大里币安资金费率比较适合套利\\n* 先开发 usdt 本位，支持设置杠杠率的期现套利\\n* 整体流程：\\n\\n1. 用户将 usdt 存入币安交易账户\\n2. 软件输入 api key\\n3. 用户下单，选择套利币种、杠杠率、资金大小\\n4. 后台通过 api 操作，计算合约情况，同时下单现货，和永续期货。\\n5. 后台将下单情况 & 结算收益留存数据库\\n\\n<https://github.com/nntaoli-project/goex>\\n<https://github.com/ccxt/ccxt>\",\"timestamp\":1636539661,\"title\":\"期现套利\"},\"digest\":\"Kt39lAgMR6cUSBLElSb3Ojezzpjf5t7ZlB8vSpMEBuI\",\"authorship\":{\"contributor\":\"0x5b37F72eBda061975b3De313525Da3a1A2e7D25d\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"T4JA4QMwTdC4ZIvtn-rPOVaHbKJkQdny02GoyKpCAZk\\\",\\\"y\\\":\\\"19eFO08iJ3L65hsW6_y3FLsmipP8MdFE1i4tBdxP12k\\\"}\",\"signature\":\"XY_KU3vToErwObDRPwSrQCai9R408ytRuSUl7rSC3mc2rjmez3xGbcShD2QclNMD_95xBflo0ZSrx-nOjCLP-g\",\"signingKeySignature\":\"0x5ab022e92b7b3484ebaac1bdec693febb26df972f7e7f06dd494646a17e9584e6ff260953eef6253af6596cfdc3009cc1a51fdaf18ef47ec2e8041c723d30a251b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"T4JA4QMwTdC4ZIvtn-rPOVaHbKJkQdny02GoyKpCAZk\\\",\\\"y\\\":\\\"19eFO08iJ3L65hsW6_y3FLsmipP8MdFE1i4tBdxP12k\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"Kt39lAgMR6cUSBLElSb3Ojezzpjf5t7ZlB8vSpMEBuI\"}"