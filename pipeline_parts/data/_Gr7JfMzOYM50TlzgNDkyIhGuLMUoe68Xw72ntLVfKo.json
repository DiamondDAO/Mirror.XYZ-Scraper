"{\"content\":{\"body\":\"### \\\\*\\\\*Layer2扩容重大突破！zkPorter终结Zk Rollup与Optimistic Rollup之争\\n\\n原文是由Matter Labs发布，[巴比特](https://www.zhihu.com/search?q=%E5%B7%B4%E6%AF%94%E7%89%B9&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)编译。\\n\\nLayer2大规模迁移即将到来。 随着协议从[以太坊](https://www.zhihu.com/search?q=%E4%BB%A5%E5%A4%AA%E5%9D%8A&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)基础层转移到Optimistic Rollup和与EVM兼容的zk Rollups，许多人希望我们最终可以使链上费用可控。 但是从事以太坊扩展的每个人都知道一个“肮脏秘密”：即使有了Rollups，我们也可能会回到最初的时候。 这是因为任何实际的[吞吐量](https://www.zhihu.com/search?q=%E5%90%9E%E5%90%90%E9%87%8F&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)增长都会很快被需求诱导所吞噬。\\n\\nrollup只能提供网络吞吐量的线性增加——所有数据仍必须传播到所有完整节点。 要实现真正的可扩展性，我们需要在吞吐量上实现指数级增长。\\n\\n因此，我们认为这是一个如此重要的突破。 我们设计了一个具有20,000+ TPS的系统，与Optimistic Rollup相比，该系统提供更高的安全性。 更重要的是，它将跟着zkSync 2.0在6个月内上线主网。\\n\\n![https://pic2.zhimg.com/80/v2-84427626b1db9d8f565b80e9ef1fe8f1_720w.jpg](https://pic2.zhimg.com/80/v2-84427626b1db9d8f565b80e9ef1fe8f1_720w.jpg)\\n\\n## **为什么Rollup不足以解决扩容问题？**\\n\\n2020年10月，Vitalik宣布了以Rollup为中心的以太坊路线图，预测如果所有L1活动都转向Rollup，以太坊可以实现约3000 TPS。 这将很快成为现实：Optimistic和zk Rollups现在都支持EVM兼容性，从而促进了应用程序从L1到L2的快速，简单迁移。\\n\\n以太坊正在以爆炸性的指数速度增长。 过去一年内，DeFi用户数量从15万增加到180万——但是gas费增长了16倍！ （每次Uniswap交易的费用从$ 0.20增长到$ 36）\\n\\n![https://pic2.zhimg.com/80/v2-c7c92dff6f74cbc5b622699258f7d29d_720w.jpg](https://pic2.zhimg.com/80/v2-c7c92dff6f74cbc5b622699258f7d29d_720w.jpg)\\n\\n为什么？ 因为在新用例的基础上，可扩展性的任何改善都会伴随着金融活动/交易的增加。 考虑一下同期发生的情况：\\n\\n* DEX月交易量：172亿美元——>670亿美元\\n* DeFi TVL：7亿美元——>800亿美元（增长11000%）\\n* Opensea单月销售量：500万美元——>1亿美元\\n\\n与以太坊主网相比，Optimistic Rollup只能将可扩展性提高约25倍，而[zk Rollups](https://www.zhihu.com/search?q=zk+Rollups&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)则会将可扩展性提高约100倍。 在我们感受到这些扩展性之前，我们将会再次回到原点：无法负担的gas费和一个对大多数普通用户来说难以承受的以太坊。\\n\\n[加密货币](https://www.zhihu.com/search?q=%E5%8A%A0%E5%AF%86%E8%B4%A7%E5%B8%81&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)即将成为主流。 在拥有38亿[智能手机](https://www.zhihu.com/search?q=%E6%99%BA%E8%83%BD%E6%89%8B%E6%9C%BA&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)用户的世界（相比之下，Metamask每月仅有300万活跃用户），我们需要将其增长1000倍，以应对即将发生的事情。 这种可扩展性的差距促使我们构建一种新的产品——zkPorter。\\n\\n## **zkPorter：大规模加密货币采用的引擎**\\n\\n在zkSync 2.0中，L2状态将分为两个方面：具有链上数据可用性的zk Rollup和具有链下数据可用性的zkPorter。\\n\\n这两个部分都是可组合且可互操作的：zk Rollup侧的合约和帐户将能够与zkPorter侧的帐户无缝交互，反之亦然。 对的！ 从用户的角度来看，唯一可察觉的区别是zkPorter帐户的交易费用减少了100倍。\\n\\n想象一下：Uniswap将他们的智能合约部署在zk Rollup端，并且zkPorter帐户上的零售用户可以支付<0.03美元的费用进行交易。 怎么可能这么便宜呢？ 这是因为绝大多数的Rollup费用是由于在需要在以太坊上发布数据的成本所致。 zkPorter帐户可以在Uniswap合约上进行数千次互换，但只需将一个更新发布到以太坊。\\n\\nzkPorter帐户的数据可用性将由称为“守护者（Guardians）”的zkSync[代币](https://www.zhihu.com/search?q=%E4%BB%A3%E5%B8%81&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)持有者保护。 他们将通过对区块进行签名以确认zkPorter帐户的数据可用性来跟踪zkPorter端的状态。 守护者使用zkSync代币参与权益证明（PoS），因此任何数据可用性失败都将导致他们被惩罚（slashed）。 这为数据可用性提供了加密经济上的保证。\\n\\n重要的是要注意，zkSync中的PoS比其他系统（如[侧链](https://www.zhihu.com/search?q=%E4%BE%A7%E9%93%BE&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)）中的PoS安全得多。 这是因为zkSync守护者实际上是无权利的：守护者无法窃取资金。 他们只能停止生产区块。 在这种情况下，用户仍然可以提取资金。\\n\\n每个用户都可以自由选择自己的安全阈值。 任何希望链上所有可用数据的用户都可以完全保留在Rollup。 但是，如果您是费用敏感型的用户，则可以选择资金保留在zkPorter。 （我们认为交易者和新用户很可能会使用zkPorter。）\\n\\n这样可以解锁一整类应用，这些应用程序在L1甚至传统的Rollup应用上都是不经济的。 他们现在还可以在以太坊上拥有居所，并为以太坊用户提供服务。\\n\\n## **zkPorter vs Optimistic Rollup**\\n\\n由于零知识证明的加密技术，所有这一切都是可能的。 Optimistic Rollup无法像zkPorter那样实现这种扩展。 如果在Optimistic Rollup中将数据可用性从链下移出，恶意运营商将能够窃取Rollup中的所有资金，并且没有人能够挑战它们。\\n\\n同时，zkPorter比Optimistic Rollup具有更强的安全性保证。 要了解原因，让我们简要地概述一下潜在攻击的成本和收益。\\n\\n**1）攻击成本**\\n\\n截至今天，通过51％算力协调来攻击Optimistic Rollup的成本还不到7000万美元（当PoS到来时，成本将更少）。 另一方面，要使zkPorter中的数据不可用，攻击者将需要累积所有已质押代币价值的1/3（几乎肯定会超过7000万美元）。 此外，由于攻击者在购买代币时会发生重大的滑点（并且无法购买已质押的代币），因此进行这种攻击的成本将比[现货价格](https://www.zhihu.com/search?q=%E7%8E%B0%E8%B4%A7%E4%BB%B7%E6%A0%BC&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)所暗示的成本高得多。\\n\\n**2）攻击收益**\\n\\n如果成功地对Optimistic Rollup进行了攻击，则黑客可以窃取Rollup中的所有资金。 这大大增加了攻击的动机。 相比之下，针对zkPorter的攻击不能直接被利用：如果成功，攻击者只能停止生产区块，而不能窃取用户资金。 从服务中断中获利的难度大大降低了此类攻击的动机。\\n\\n## **在zkPorter上构建**\\n\\nzkPorter即将到来。 Matter Labs团队正在努力在6个月内将其投入生产。 很快，这场蛋糕盛宴即将开启。\\n\\nzkPorter将在我们的下一代智能合约平台zkSync 2.0中提供，该平台将支持Solidity。 我们的目标是在5月提供公共测试网，并在夏季晚些时候上线。\\n\\n同时，您可以使用[zkSync 1.x](https://www.zhihu.com/search?q=zkSync+1.x&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A364714261%7D)进行Layer2支付（自2020年6月起已在主网上启用）。 几周后它将支持交易和NFT。\\n\\n发布于 2021-04-14 10:51\",\"timestamp\":1639209557,\"title\":\"[zkPorter]\"},\"digest\":\"kv7MdWqHyXXcEUfkAMDRDVi5-SYINRZqfcUM3ek8PRE\",\"authorship\":{\"contributor\":\"0xf3FE8c6c75bE4afB2F8200Fc77339abE4D7CFF33\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"jMBCqqQ-oG9HvvVCgi3AUypOhndSu9x03ivXkjS5rsA\\\",\\\"y\\\":\\\"dSfdNvTkULxhYfMLG8_0I65r4vcjXkSKEyR27inkK-c\\\"}\",\"signature\":\"RVJ9fTsGFhWejbwQrzMZcLCqqgk7crduujEMi_EfKm0MD_llHy6h4_YKHd16ujpbIn2Xhu2sxHdsCA4Axx0pMA\",\"signingKeySignature\":\"0x4d22044a2afbb8b1d1a98995ebf8225a4e2e88652e2965c0b59f06fc1c0c65bf0be3f7090db1775cfb6885d10d484aa89171d1bd95a1455cf39f9ddfbe6f894f1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"jMBCqqQ-oG9HvvVCgi3AUypOhndSu9x03ivXkjS5rsA\\\",\\\"y\\\":\\\"dSfdNvTkULxhYfMLG8_0I65r4vcjXkSKEyR27inkK-c\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"kv7MdWqHyXXcEUfkAMDRDVi5-SYINRZqfcUM3ek8PRE\"}"