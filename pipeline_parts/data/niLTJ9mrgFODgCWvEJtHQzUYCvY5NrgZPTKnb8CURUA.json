"{\"content\":{\"body\":\"> 我们第一期讲的就是跨链协议，这一期我们为大家介绍一个好用的跨链应用 O3 Swap\\n\\n### **O3 产品架构**\\n\\n*[O3 Swap](https://link.zhihu.com/?target=https%3A//o3swap.com/)* 包含钱包，流动性聚合器，跨链。这张图清楚的展示了 O3 Swap 的产品架构。最底层是 O3 Swap 已经支持和即将支持的网路。倒数第二层是流动性。第二层结算层包含聚合器和跨链流动性池子。也就是说除了跨链交易的流动性是 O3 Swap 自己的，其他交易所使用的流动性来自其他 DEX。最顶层应用层有 O3 的钱包，交易和支付服务。\\n\\n![](https://pic3.zhimg.com/v2-fc3af4807c52bddded26bbd512c0a986\\\\_b.jpg)\\n\\n### **跨链交易**\\n\\n我们将聚焦O3 Swap 的跨链部分。\\n\\n目前 O3 Swap 的跨链池提供以太坊，币安和火币；支持 USDT，ETH，BTC，USDC。一天总交易量在 800 万美金左右，总流动性大约 7 亿美金左右。\\n\\n其中流动性最高的是 USDC 池子，约为 2亿美金；APR 最高的是 USDT 池子 27.42%。\\n\\n我们使用 O3 Swap 进行跨链交易时感觉速度较快且交易手续费较低。具体视频教程可以参考*[这个](https://link.zhihu.com/?target=https%3A//www.youtube.com/watch%3Fv%3D\\\\_5C9x65X-50%26t%3D1234s)*。\\n\\n### **⚙️ 跨链原理**\\n\\nO3 Swap 的代币和聚合器部分均已开源，并且经过了安全审计，但是跨链部分并没有详细的介绍。只有这样言语不清的几个架构图。\\n\\n![](https://pic4.zhimg.com/v2-627a89804cb1664bcacf1c9a6dd28bfb_b.jpg)\\n\\n![](https://pic2.zhimg.com/v2-34cc9da9b555911da217995b7bd811bd_b.jpg)\\n\\n![](https://pic1.zhimg.com/v2-1f8532af93cdb466cfa49f8ee35337b0\\\\_b.jpg)\\n\\n![](https://pic1.zhimg.com/v2-199fb7309d038198178e93c015840700\\\\_b.jpg)\\n\\n可以看到魔法就发生在跨链池中。比如说对于 USDT 的跨链池，用户在任意一条链上提供 USDT 流动性，就可以收获 LP。因此 O3 Swap 的跨链交易可能就是在不同的链上都有流动性池子，因此用户可以将代币从一条链里发给 O3 Swap，并从另一条链上得到新的代币。\\n\\n在白皮书中，O3 Swap 提到使用了 *[PolyNetwork](https://link.zhihu.com/?target=https%3A//www.poly.network/)* 这一个跨链技术。PolyNetwork 支持 Atomic Swap。在它的白皮书中，它介绍了 DEX 这个应用场景。PolyNetwork 采用两阶段协议（Two-phase Protocol）的方式来实现 Atomic Swap。在此场景中一共有三个角色，唯一的 Poly 链，两个参与者或者说参与链（Participant Chain），以及一个 Relayer 用来在不同的链之间传递信息。每个参与者链上可能有多个 Relayer。\\n\\n具体的执行过程分为两个阶段。第一阶段确保交易可以在参与者链上被执行，第二个阶段确保交易的一致性即所有参与者的交易执行状态一致。\\n\\n第一阶段是准备阶段。 Poly Chain 让参与者准备好提交交易，并从参与者那儿获取最新的信息和状态。\\n\\n第二阶段是具体的执行阶段。如果第一阶段失败，那么 Poly Chain 会通知参与者回滚。如果有参与者交易执行失败，Poly Chain 也会通知所有参与者回滚。\\n\\n### **相关阅读**\\n\\n*   *[PolyNetwork 白皮书](https://link.zhihu.com/?target=https%3A//poly.network/PolyNetwork-whitepaper.pdf)*\\n*   *[O3 Swap 白皮书](https://link.zhihu.com/?target=https%3A//docs.o3swap.com/)*\\n\",\"timestamp\":1633782297,\"title\":\"O3 Swap\"},\"digest\":\"9YMSu0NHkYButYhQfH-A5HftC36MCwBfVcWmwhWjEDw\",\"authorship\":{\"contributor\":\"0x7B076d7BcdE88Ec322B2D01AA1ADc1997b7724f6\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"-uhmdAZYxFgq_x4xq-zXdui7hRToWKgI3gCLaeRwzfE\\\",\\\"y\\\":\\\"e_jae50XeRHkDjBd1dCU7xTq7o4HjO4Idn3X9qLgXmA\\\"}\",\"signature\":\"TqQKtU1so5WFN0tTEKaDbG-8t3MXSLLDwBA3Ej87TCYoNm91nSGiwjY_USdxUXov0fN-7XpBVnFkSyuD3D8o_w\",\"signingKeySignature\":\"0x0475273f3894cbe534b5ebf3dc9005f7b109c905b95b05fd0afb3d0dd6c056984938a186d9c56832d588e27230d06074bb752d52c6fbbffe3ddc0a71e38362d11c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"-uhmdAZYxFgq_x4xq-zXdui7hRToWKgI3gCLaeRwzfE\\\",\\\"y\\\":\\\"e_jae50XeRHkDjBd1dCU7xTq7o4HjO4Idn3X9qLgXmA\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"9YMSu0NHkYButYhQfH-A5HftC36MCwBfVcWmwhWjEDw\"}"