"{\"content\":{\"body\":\"## 分币智能合约的设计原则\\n\\n## 透明性\\n\\n*  白名单， 106名参与者地址作为白名单写入合约\\n*  数据上链，从白名单写入 到 白名单审核 再到 ETH 分发 所有过程都在链上进行\\n\\n## 安全性\\n\\n* ETH 严格按照白名单分发， 分发过程由合约控制\\n* 合约保证白名单地址的变更一定由原地址的owner发起\\n* 白名单一旦审核确认后原则上不可更改\\n* 白名单被审核确认后才能开始Claim ETH\\n* 敏感操作例如白名单审核确认 只允许多签操作\\n\\n## 可追溯\\n\\n*  分发的次数、金额和每个地址接收的金额数据 链上永久可查\\n\\n## 易用性\\n\\n*   合约提供功能 方便查询ETH分发的历史信息 \\n\\n# ETH分发流程\\n\\n合约部署 => 106名参与者原始白名单导入合约 =>  调用合约更改白名单 => 多签审核确认白名单 => ETH转入合约 => 合约按照白名单分发ETH\\n\\n## LP地址变更流程\\n\\n换LP的地址是一个很敏感的事情，要避免被冒领的情况发生。 \\n 合约提供对LP换地址的验证功能。所以这里需要我们LP用原有的钱包地址链接合约，发起更换地址的请求(request)，来证明自己对LP地址的ownership。 再在discord群里发自己的request的序号（Nonce），多签通过合约审核确认request，LP的新地址生效。\\n\\n### 非法地址的处理\\n\\n非法地址指的是交易所地址，当初打币的时候LP误从交易所直接打币的。\\n\\n这样的地址只能是多签不经过钱包地址owner的验证，直接调用合约更改LP的钱包地址，属于**高风险操作**。因此在操作前会要在discord群里公示，而且在白名单审核确认后，不再允许绕过owner验证直接修改LP钱包地址的操作。\\n\\n这样就可以基本保证各个LP的地址的安全，不会被轻易的冒领了。\\n\\n## 合约部署在BSC链上\\n\\n现在合约支持有两个版本，一个是以太主网上的，一个是在BSC链上的， 部署在以太主网上的合约，大家claim的就直接是ETH（不是WETH）在BSC链上版本合约，大家claim的就是 BETH（Binance-peg eth）。考虑到现在主网上平均gas费一直在100以上，所以部署到BSC链上以节省大家claim的气费。\\n\\n## GP rewards的计算\\n\\n合约里区分本金（Principal） 和利润（Profit），所有进入合约的资金都会被用来优先偿还本金，本金偿还完毕后（106个ETH），后续入账才会用来结算收益和GP的rewards。\\n\\n利润部分合约会按3份奖励给GP预留，也就是利润部分最开始是除以109分给各个LP的。等大家投票结束，多签会根据投票的结果，通过合约设置最终是几份。如果最终是2份，之前预留多出来的一份，会再分发给各个LP。\\n\\n## Claimable的计算\\n\\n合约里记录了每一个人的已经claimed的历史记录，合约里的getClaimable()方法会先用当前的累积收入的总数量除来计算每个人应得的quota，这个quota每个人都是一样的，再用quota减去这个人已经claimed的数量，就是他还可以claimable的数量。 最后不管一个LP claim过几次，每个LP最后的拿到的一定符合下面的公式，和claim的次数和时机无关。\\n\\n总累计ETH没超过 106： LP claimable = 总累计的ETH数量 / 106 \\n 总累计ETH超过106 ： LP claimable = 1 + (总累计的ETH数量 - 106) / (106 + rewards)\\n\\n## 智能合约方法列表\\n\\n### 合约源代码\\n\\n### Write Contract\\n\\n* `addLP` 增加一个LP \\\\[只能多签\\\\] \\\\[只能在白名单确认前\\\\]\\n* `addReplaceLPAddressRequest` LP提交更换地址的申请 \\\\[只能LP\\\\]\\n* `cancelReplaceLpRequest` LP撤销更换地址的申请 \\\\[只能LP\\\\]\\n* `claim` LP claim自己目前的收益 \\\\[只能LP\\\\] \\\\[只能在白名单确认后\\\\]\\n* `claimGPRewards` GP claim 奖励 \\\\[只能GP\\\\] \\\\[只能在Rewards放开后\\\\]\\n* `confirmReplaceLPRequest` 多签确认LP申请的修改的地址生效 \\\\[只能多签\\\\]\\n* `confirmWhiteList` 多签审核确认白名单 \\\\[只能多签\\\\]\\n* `initialize` 部署时初始化合约\\n* `pullFunds` 特殊情况时多签将合约里的资产转到多签钱包 \\\\[只能多签\\\\]\\n* `rejectReplaceLPRequest` 多签拒绝某个LP地址更改请求 \\\\[只能多签\\\\]\\n* `releaseToAll` 帮所有LP claim到LP各自的钱包 \\\\[只能在白名单确认后\\\\]\\n* `releaseGPRewards` 确认GP的rewards份额，并放开提取 \\\\[只能多签\\\\]\\n* `removeLP` 多签删除一个LP的地址 \\\\[只能多签\\\\] \\\\[只能在白名单确认前\\\\]\\n* `renounceOwnership` 使合约无主化 \\\\[只能多签\\\\]\\n* `replaceLP` 替换一个LP的地址 \\\\[只能多签\\\\] \\\\[只能在白名单确认前\\\\]\\n* `transferOwnership` 多签转移合约的所有权给别人 \\\\[只能多签\\\\]\\n\\n### Read Contract\\n\\n* `containsLP` 检查给定地址是否是LP\\n* `getClaimable` 查询给定的LP目前能claim的ETH的数量\\n* `getReplaceLPRequest` 查询给定序号对应的LP更换地址申请的详细信息\\n* `lpAtIndex` 按给定序号查询对应LP的地址\\n* `lpClaimed` 查询给定LP已经claim的数量\",\"timestamp\":1636941745,\"title\":\"猴基金分币智能合约\"},\"digest\":\"-1XONRL3iQ7mvikUTiUMhwl5AXuMNeGu2zuHOgiXfcM\",\"authorship\":{\"contributor\":\"0xD7B483815DE199bC4920F65CFB3bfFe1B04862CD\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"AdwZZ4H75U_AeqGayaCWnnnTuWk9RxU9ovr1l9DqOTk\\\",\\\"y\\\":\\\"zmffzUG27E5lSMd2hlsMWc4z_NuN31gS5Dp5175Qtas\\\"}\",\"signature\":\"bwBowopF0Dm5mbW3wzydOV-6QigIPWOAjABNYEROd9pxcUzqFQD4Mm3w6I1ibUDZQZ_VYNQmV--pNlgAq9c8_g\",\"signingKeySignature\":\"0x98065a4258c8b71323517b22511373e650b1a217a07816ce0ef6974499c0a66b25352efb1132718c67ba1a66bf0a63794994b32f2e9935f88af59115c89f25fe1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"AdwZZ4H75U_AeqGayaCWnnnTuWk9RxU9ovr1l9DqOTk\\\",\\\"y\\\":\\\"zmffzUG27E5lSMd2hlsMWc4z_NuN31gS5Dp5175Qtas\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"-1XONRL3iQ7mvikUTiUMhwl5AXuMNeGu2zuHOgiXfcM\"}"