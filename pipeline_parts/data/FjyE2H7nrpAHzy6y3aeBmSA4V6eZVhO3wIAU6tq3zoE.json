"{\"content\":{\"body\":\"# \\n\\n# 合并 (The Merge)\\n\\n## 十一月合并冲刺计划——Kintsugi🍵测试网\\n\\nEth2 开发者 Danny Ryan 发布了文章《Kintsugi🍵 里程碑》，宣布 Kintsugi🍵测试网 为 11 月份的合并冲刺计划，旨在在整个 11 月里让执行层 (EL) 和共识层 (CL) 客户端达到规范，进行初步的互操作练习，构建一系列每周的开发测试网，最终在 11 月底发布一个持久的开发测试网，以在整个假期观察 (和挑战！)\\n\\n像 Amphora 一样，这次 Kintsugi🍵 也设置了里程碑追踪文档，EL 和 CL 客户端 (共 10 个) 都分别有如下 6 个里程碑：\\n\\n![](https://images.mirror-media.xyz/publication-images/CEOTN6uQHmBoH9AAp8MyM.png?height=560&width=662)\\n\\n* M0：实现开启\\n  * 通过创建一个追踪文档并在上面附上连接表明 Kintsugi🍵 元规范的实现启动了\\n* M1： 规范实现\\n  * EL/CL 通过所有发布的共识测试向量\\n  * \\\\[未准备好\\\\] 用 `[mergemock](https://github.com/protolambda/mergemock)` 来运行\\n  * 其他测试会尽快发布\\n* M2：1-1 Interop——一个 EL 和 一个 CL 团队配对进行基础互操作测试\\n  * 由至少两个不同团队执行以下内容：\\n    * 运行不涉及过渡的 1:1 开发测试网 (`TTD == 0`)\\n    * 运行包含过渡的 1:1 开发测试网 (`TTD > 10`)\\n  * 发送简单的 EL 交易 (ETH 转账)，这些都成功在链上执行了\\n  * 额外收获：运行 EIP-4399 交易\\n  * 在里程碑追踪文档上记录了团队的互操作进度，例如“✅ lodestar, teku”\\n* M3：多-多 Interop——2 个或以上 EL 和 CL 团队执行互操作测试\\n  * 运行包含过渡的多对多开发测试网 (`TTD > 50`)\\n  * 发送转账 ETH 的 EL 交易，并部署一个在链上成功执行的合约\\n  * 分开记录团队和开发测试网的配置和结果\\n* M4：每周开发测试网——构建用于更深度测试的每周开发测试网\\n  * 从 11 月的第二周开始，以太坊基金会的开发运维团队将在周四领导一个开发测试网构建。这个开发测试网 (如果成功的话) 将保持运行直到下一个周四\\n  * 一旦实现了 M3，就会加入到每周开发测试网\\n  * 要通过 M4，在合并过渡过程和处理 EL 上交易时客户端团队必须在开发测试网上\\n    * 请注意：会有越来越复杂的 EL 交易发送到每周的开发测试网上，以测试 EIP-4399\\n* M5：全部-全部持久测试网——在 12 月的第一周，所有准备好的 EL 和 CL 团队构建一个长期的开发测试网\\n  * 运行包含过渡的多对多开发测试网 (`TTD > 100`)\\n  * 开发测试网在假期保持运行，以便持续的测试和好玩\\n  * 创建基础的 README 文档，让公众接入\\n* M6：Kintsugi🍵 代码发布——所有客户端发布 Kintsugi🍵 代码给公众\\n  * 把 Kintsugi🍵 代码合并到主体\\n  * 创建基础的 README 文档，最好有 CLI 标识，让公众接入持久的测试网\\n  * 发布 Kintsugi🍵 代码给公众\\n\\n在 11 月，每周都会有 Kintsugi🍵 进度更新，分别在每两周举行一次的核心开发者会议和共识层会议交错进行。\\n\\nKintsugi 规范：\\n\\n[https://hackmd.io/@n0ble/kintsugi-spec](https://hackmd.io/@n0ble/kintsugi-spec)\\n\\n来源：\\n\\n[https://notes.ethereum.org/@djrtwo/kintsugi-milestones](https://notes.ethereum.org/@djrtwo/kintsugi-milestones)\\n\\n# **共识层 (Eth2)**\\n\\n**合并后交易费会去哪里？**\\n\\n10 月 14 日，Yearn 的 @bantg 发推表示，合并不仅会导致以太坊的碳排放和币释放量的大幅下跌。很多人没有意识到的是，它完全消除了卖出压力，因为验证者的提款会在下一次升级才开放。然后社区开启了关于合并后交易费用和锁仓的 32 个 ETH 会发去哪个地址。Tim Beiko 对这个问题进行了回应：\\n\\n![](https://images.mirror-media.xyz/publication-images/FrAMDbQFPazA7DQQ_faj9.png?height=681&width=597)\\n\\n这一点没有写在规范上：合并后，EVM 的执行保持不变，因此出块者仍然可以设自己想要的 coinbase (余额地址) (像今天的矿工一样)。这与验证者获得解锁的区块提议奖励是不同的。也就是说，验证者奖励是发往验证者，而交易费是发往区块提议者指定的余额地址，它可以是任意以太坊地址。\\n\\n来源：\\n\\n[https://twitter.com/bantg/status/1448334011324055563?s=20](https://twitter.com/bantg/status/1448334011324055563?s=20)\\n\\n# **执行层 (Eth1)**\\n\\n## EIP-1559 要出修改版？\\n\\n在 10 月 30 日举行的第 125 次以太坊核心开发者会议，研究员 @adietrichs 详细介绍了 EIP-4396：Time-Aware Base Fee Calculation (关注时间的基本费用计算方案)，旨在克服当前使用区块 gas 使用量作为指标存在的缺陷。目前 EIP-1559 的缺陷如下：\\n\\n* 合并后，slot 间的间隔是固定的 12 秒，不同于 PoW 大约 13 秒的间隔。但如果错失了一个 slot，区块间的时间就增加一倍，即使需求是没有变的 (例如，连续两个 100% 满的区块 vs. 一个空 slot +一个200%满的区块)。也就是说根据当前的更新规则，会发出一个虚假的需求峰期信号，从而导致小型不合理的基本费用峰期。\\n* 个别错过的 slot 的更严重问题可能由共识问题引起，因为 EIP-1559 只允许有 2 倍的区块容量弹性，如果错过的 slot 超过 2 个，它将阻止很大一部分区块提议者继续出块，这些情况会导致平均区块时间明显变长，从而以同样的倍率降低链的吞吐量。\\n\\n因此，@adietrichs 提议应该以单位时间内稳定的吞吐量而不是以区块为指标，在计算基本费用时使用区块时间。\\n\\n对于这份 EIP，与会的开发者展开了很长的讨论，主要的争议点在于信息泄露，即共识层上的 slot 信息可以透露多少给执行层，两者有越紧的挂钩，它们就越难各自独立更新。\\n\\n由于这个 EIP 关乎是纳入合并还是在上海硬分叉的问题，开发者们计划这周举行会议进行深入探讨。\\n\\nEIP-4396 :\\n\\n[https://github.com/quilt/EIPs/blob/time-aware-basefee/EIPS/eip-4396.md](https://github.com/quilt/EIPs/blob/time-aware-basefee/EIPS/eip-4396.md)\\n\\n来源：\\n\\n[https://twitter.com/TimBeiko/status/1454191295795130371?s=20](https://twitter.com/TimBeiko/status/1454191295795130371?s=20)\\n\\n## 通往无状态以太坊之路——Verkle Tries\\n\\n在第 125 次以太坊核心开发者会议上，研究员@dankrad 和 @gballet 介绍了让以太坊走向无状态的路线图，重点通过 Verkle Tries 来实现。\\n\\n根据 Tim Beiko 的记录，他们解释到，通往无状态以太坊的其中一个大障碍是，在节点不需要存储网络完整状态的范式里，节点上“缺失状态”的证明 (即 witness，见证数据）的大小。如果一个节点没有某账户相关的状态但想处理该账户涉及的交易，它需要该账户确实存在及具有它所声称的余额/存储的证明。为了生成这些证明，你需要检索存储在 Merkle Patricia 树 (MPT) 里的以太坊状态。每个账户都存储在树分支的叶子上，而要构建一个证明，你不仅需要分支，还需要该节点的所有同级节点。这意味着，如果我们要保留 MPT， 证明 (见证数据) 在以太坊的 p2p 网络上广播太大了，它们比区块大 10-1000 倍。\\n\\n而 Verkle Tries (VT) 是一种不同类型的树，可以通过它生成小得多的见证数据。简言之，如果我们想要无状态，我们就需要“轻量的”证明，也就需要更好的树结构，因此需要从 MPT 转为 VT。\\n\\n要从 MPT 转到 VT 并不容易，因为状态是在每个以太坊区块中访问的，将当前 MPT 转为 VT 需要多于 13 秒的时间，因此我们需要冻结链。而要是实现这点，他们提出了一个 3 步走的路线图来部署这些 VT。\\n\\n第 1 步：为了适应 VT，我们需要改变大量的 gas 开销和 SELFDESTRUCT 的影响。因为这些修改都很小，我们会在上海硬分叉引入。\\n\\n第 2 步：冻结现在的 MPT，新增一个 VT 并把所有未来的更新都写入该 VT，慢慢把更多的状态从 MPT 转移到 VT。\\n\\n第 3 步：把“冻结的” MPT 转为 VT。这一步有一个巧妙的地方，尽管确切的切换需要在一个网络升级区块上发生，这个转换可以提前在“链下”进行。\\n\\n第 2 步和第 3 步之间需要几个月，因此我们有足够的时间把我们在第 2 步冻结的 MPT 转换为 VT，并把��码写入客户端里。当第 3 步启动时，我们就已经把冻结的 MPT 转换到 VT 了。然后，客户端就可以把所有 MPT 的代码拿掉了。\\n\\n以下为相关资源：\\n\\nVerkle Tries 的演示 ppt：<https://docs.google.com/presentation/d/13bmmLbkKte5QGiJjqpIZLgvKxsYdravIgtytQMPBQ-M/edit#slide=id.g6518b43596c43d74_0>\\n\\n无状态以太坊路线图：\\n\\n[https://notes.ethereum.org/Yn_mwNa2SeeQHnKsRgekKg](https://notes.ethereum.org/Yn_mwNa2SeeQHnKsRgekKg)\\n\\n无状态影响的 gas 开销变更的 EIP 草稿：\\n\\n[https://notes.ethereum.org/-fJSOrnYQl-mqoWKpaTIsQ](https://notes.ethereum.org/-fJSOrnYQl-mqoWKpaTIsQ)\\n\\nVerkle Trie EIP 草稿：\\n\\n[https://notes.ethereum.org/5HDhQXstTaKtVqVbS7S9yw](https://notes.ethereum.org/5HDhQXstTaKtVqVbS7S9yw)\\n\\n无状态以太坊资源汇总帖：\\n\\n[https://notes.ethereum.org/@gballet/Sy-a6T5St](https://notes.ethereum.org/@gballet/Sy-a6T5St)\\n\\n来源：\\n\\n[https://twitter.com/TimBeiko/status/1454197335592816640?s=20](https://twitter.com/TimBeiko/status/1454197335592816640?s=20)\\n\\n# **Layer2**\\n\\n**L2 扩容解决方案 Optimism 推迟发布 OVM 2.0**\\n\\n此前，Optimism 团队宣布于 10 月 28 日在主网推出 OVM 2.0 版本。随后，团队又再发布声明表示，OVM 2.0 的上线主网的日期将推迟到 PST 时间 11 月 11 日早上 10:00 (即北京时间 12 日早上 2:00)。届时，Optimistic Ethereum 系统预计会有 4-6 小时的宕机时间。\\n\\nOVM 2.0 上线后，开发者将能够一键部署合约，大家习惯使用的工具也能在 Layer2 上运行。完整的开发更改设置：<https://community.optimism.io/docs/developers/l2/changeset.html>\\n\\n那些一直想要部署但无法使用自定义编译器运行的项目将可以直接部署，而无需对其代码进行修改。此外，任何可以在以太坊上运行的工具都将能够在 Optimistic Ethereum 上运行。也就是说，开发者能够在 L2 上使用 DappTools、Vyper、Tenderly、Hardhat 等。而在这个版本中，Optimism 当前的安全模型不会发生任何变化 —— OE 将仍然以单个定序者的模式运行。\\n\\n来源：\\n\\n[https://twitter.com/optimismPBC/status/1455645114269724675](https://twitter.com/optimismPBC/status/1455645114269724675)\\n\\n关于 OVM 2.0 版本，Optimism 团队发布了文章 Introducing EVM Equivalence，以介绍与 EVM 完全兼容的 OVM 2.0 的技术细节。文章链接：<https://medium.com/ethereum-optimism/introducing-evm-equivalence-5c2021deb306>\\n\\n**L2 扩容解决方案 Arbitrum 于 10 月 23 日正式开放无需许可的代币桥接功能**\\n\\n10 月 23 日，Arbitrum 团队宣布正式面向公众开放无需许可的代币桥接功能。这意味着，往 Arbitrum One 桥接添加任何代币将无需许可，且默认为标准的 ERC-20 代币实现。\\n\\n此前，L2 扩容解决方案 Arbitrum One 主网 beta 版本于 9 月 1 日向所有终端用户开放，但在一些功能上仍保留白名单限制 (如向 Arbitrum 的跨链桥接添加新的代币)。之所以这么做，是因为帮助确保项目获得适合其需求的代币类型：当桥接代币至 Arbitrum 时，L2 上的代币合约要么是标准 ERC-20 代币合约 (Standard ERC-20，支持基本的 ERC-20 功能以及在 L1 和 L2 之间的可传输性)，要么是自定义 ERC-20 合约 (Custom Gateway，可以与任何其他功能如治理、快照功能等一起部署)。Arbitrum 表示：如果桥接了某个标准的 ERC-20 代币之后，项目方随后选择创建一个自定义的 ERC-20 实现，我们就会得到同一个代币的不同实现。这虽然不会造成安全风险，但这带来了复杂性和不便，我们希望尽可能避免。因而，代币桥接功能的白名单限制将保留至 10 月 22 日。\\n\\n默认情况下，L1 上任何未注册到 Arbitrum 桥接网关的 ERC20 代币都可以无需许可地桥接至标准 ERC-20 代币合约网关。桥接代币至 L2 的脚本：<https://github.com/OffchainLabs/arbitrum/tree/master/packages/arb-ts#bridge-a-standard-token>\\n\\n来源：\\n\\n[https://twitter.com/arbitrum/status/1451661392281579530](https://twitter.com/arbitrum/status/1451661392281579530)\\n\\n[https://offchain.medium.com/continued-path-to-decentralization-bridging-tokens-into-arbitrum-42a94b054560](https://offchain.medium.com/continued-path-to-decentralization-bridging-tokens-into-arbitrum-42a94b054560)\\n\\n**L2 扩容解决方案 StarkNet 的首个证明 (StarkNet Proof) 在主网运行**\\n\\n此前，10 月 5 日，StarkWare 发布公告，宣布 StarkNet Alpha 将于 11 月上线以太坊主网。届时，主网版本的 StarkNet Alpha 将支持 Goerli 测试网版本的同样功能，功能的引入将分阶段进行。\\n\\n10 月 27 日，StarkEx 的开发语言 Cairo 官方推特 [@CairoLang](https://twitter.com/CairoLang) 宣布首个 StarkNet Proof 在主网上运行。但值得注意的是，这个 proof 只是一个初步的测试，还有一个月才能在主网上部署 StarkNet Alpha。\\n\\n这个 proof 的交易哈希：[https://etherscan.io/tx/0x2f8d3e844369dfa7695e846430e722d6680eddd1880d67acc499b1e3e1c7149b](https://www.notion.so/680eddd1880d67acc499b1e3e1c7149b)\\n\\n来源：\\n\\n[https://twitter.com/CairoLang/status/1453287662777929743](https://twitter.com/CairoLang/status/1453287662777929743)\\n\\n**StarkWare 团队公布 L2 解决方案 StarkNet Alpha 的路线图**\\n\\n11 月 2 日，StarkWare 团队在推特上公布 StarkNet Alpha 的路线图：[https://starkware.notion.site/StarkNet-Alpha-Features-Tentative-Roadmap-f2b8f5f25a2d4d1cb3265fb82a098c51](https://www.notion.so/StarkNet-Alpha-Features-Tentative-Roadmap-f2b8f5f25a2d4d1cb3265fb82a098c51)\\n\\n![](https://images.mirror-media.xyz/publication-images/dQBhhcGHBdIccY4uIe53T.png?height=833&width=755)\\n\\n该路线图为暂定的安排，旨在为 StarkNet 社区提供一个清楚的方向，让社区清楚哪些功能即将发布或者已经发布。其中，路线图中的 Alpha 4，cairo-v0.6.0 为上线主网的候选版本，并预计在 11 月中旬部署至测试网上。(请注意，路线图会根据开发情况更新，读者请以链接中的公布为主。)\\n\\n来源：\\n\\n[https://twitter.com/StarkWareLtd/status/1455512465018609671](https://twitter.com/StarkWareLtd/status/1455512465018609671)\\n\\n**L2 互操作性解决方案 cBridge 2.0 上线测试网，并于 11 月中旬上线主网**\\n\\n此前，7 月 22 日，以太坊扩容解决方案 Celer Network 的 cBridge 1.0 版本上线主网，旨在解决 L2 以及其他链之间的互操作性问题。\\n\\n9 月 22 日，Celer 公布了 cBridge 2.0 版本：它提供了更佳的跨链代币桥接使用体验。因为其为用户带来了更深的流动性；向 cBridge 节点运行者和流动性提供者提供了高效和易于使用的流动性管理方式；还有为开发者提供的跨链 DEX 和 NFT 使用的通用信息桥接功能。而以上提到的所有功能都是由 Celer 的状态守卫者网络 (State Guardian Network, SGN) 提供保障，而状态守护者网络则由 Celer 系统中的验证者和质押者组成。\\n\\n10 月 19 日，cBridge 2.0 正式推出测试网：\\n\\n[https://test-cbridge-v2.celer.network/#/transfer](https://test-cbridge-v2.celer.network/#/transfer)\\n\\n该版本完善了用户体验并且流动性提供者可以选择不运行节点，主网上线时间预估在 11 月中旬。\\n\\n来源：\\n\\n[https://twitter.com/celernetwork/status/1450249124331155458](https://twitter.com/celernetwork/status/1450249124331155458)\\n\\n# **生态**\\n\\n**以太坊域名服务系统 ENS 即将发布治理代币，并向 ENS 持有者空投**\\n\\n11 月 2 日，以太坊域名服务系统 ENS 宣布即将实行去中心化治理，并通过 DAO 和发行 ENS 治理代币将 ENS 的治理权移交给社区。具体来说，就是希望将 ENS 根的多签权移交给社区，社区的治理范围包括 ENS 金库以及其未来基金的控制权、.ETH 域名注册合约 (负责管理 .ETH 域名的定价和注册机制) 的控制权。对于 ENS DAO 来说，第一个要做的事情就是正式向 ENS 根多签密钥持有者请求获得上述控制权。\\n\\n此外，用户可以从 11 月 2 日开始申请成为 ENS 治理代表。ENS 治理代币将于 11 月 8 日开放申领 (空投域名快照已经于 11 月 1 日进行)，用户必须在 2022 年 5 月 4 日之前完成代币申领，否则将返回至 DAO 金库。\\n\\n![](https://images.mirror-media.xyz/publication-images/uXnLtCcDMZSL0bIxUbLEF.png?height=658&width=1284)\\n\\nENS 发行总量为 1 亿枚，总供应量的 25% 将空投给 .ETH 域名持有者 (> 13.7 万个地址)；25% 将分配给 ENS 贡献者 (>100 名个人和团队，加上数百名 Discord 用户)；剩下的 50% 将分配给 DAO 社区金库。\\n\\n其中，25% 空投给用户的规则为：分配给曾经注册过或目前有效的 .ETH 二级域名注册地址，空投权重按账户而非域名数量计算，公式为 0.27 乘以至少持有 1 个 ENS 域名的天数，再加上 0.067 乘以距离域名到期的天数（最多 8 年），如果账户额外设置了反向解析，则会将上述结果再乘以 2。\\n\\n来源：\\n\\n[https://twitter.com/ensdomains/status/1455283001248698376](https://twitter.com/ensdomains/status/1455283001248698376)\\n\\n**麦当劳也发 NFT？**\\n\\n麦当劳美国 (McDonald's USA) 首次推出有限的 NFT，以纪念其三明治 McRib 推出 40 周年。相关的获取规则请查看：\\n\\n[https://www.prnewswire.com/news-releases/mcdonalds-usa-unveils-first-ever-nft-to-celebrate-40th-anniversary-of-the-mcrib-301410515.html](https://www.prnewswire.com/news-releases/mcdonalds-usa-unveils-first-ever-nft-to-celebrate-40th-anniversary-of-the-mcrib-301410515.html)\\n\\n![](https://images.mirror-media.xyz/publication-images/kzyM7TNaqdaJT_EI6A2GW.png?height=476&width=471)\\n\\n**Devcon VI 要来了？**\\n\\n10 月 29 日，@EFDevcon 发推表示即将公布 Devcon VI 的相关消息，时间可能是 2022 年秋天在哥伦比亚的波哥大举行，或 2022 年春天北半球的某个城市。\\n\\n来源：\\n\\n[https://twitter.com/EFDevcon/status/1453783632208928770](https://twitter.com/EFDevcon/status/1453783632208928770)\\n\\n\",\"timestamp\":1635942822,\"title\":\"以太七日谈 • 2021/11/3\"},\"digest\":\"8JPHWmegOJfkF-1xa8iv5bEFn6SJKbQu-Xd9m6XLMWs\",\"authorship\":{\"contributor\":\"0x85ecCCF0495048873AdFd107343630C95d49F42C\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"NGGXCfMnUqN2bYcEm3QMZG8ognuqnFL5YlVJKv7ILwE\\\",\\\"y\\\":\\\"ftIGon4dlSLOjKZ_Qc79tfkxe4z1k1eHu1T15pYWkKA\\\"}\",\"signature\":\"UiwwV1NoTCjjh_XhEJPMQXXOYnXvyPhV3vhnwaOpyba3b03s7QWyp6TrF-CFzvk-nYbuN3j_kV0x4yoO2BbB2w\",\"signingKeySignature\":\"0x6d4faedbac5826eb6fd500f7c81dd1ca26e36fda8205b73cb92a45dfd075820d66ee1baf795530d567ea04f5e88529f40505d514e37ff5a8d5b66690920947741b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"NGGXCfMnUqN2bYcEm3QMZG8ognuqnFL5YlVJKv7ILwE\\\",\\\"y\\\":\\\"ftIGon4dlSLOjKZ_Qc79tfkxe4z1k1eHu1T15pYWkKA\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"8JPHWmegOJfkF-1xa8iv5bEFn6SJKbQu-Xd9m6XLMWs\"}"