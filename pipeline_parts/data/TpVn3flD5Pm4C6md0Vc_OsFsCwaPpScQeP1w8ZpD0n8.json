"{\"content\":{\"body\":\"最近社群里面讨论的最多就是Discord聊天机器人的事情，我说了好几遍了，不要点菜，要写哪些东西我都在众筹的那个页面写过了，催啥？\\n\\n你让我写啥我就写啥？我啥都会？凭啥给你写？\\n\\n各位老板，今天就是Discord聊天机器人编写教程\\\\~\\n\\n![](https://images.mirror-media.xyz/publication-images/CzZnwmWEvpM4tQtZj2F8_.png?height=843&width=945)\\n\\n其实之前已经分享过这个老哥的帖子了，但是很多人跟我说不会用，其实比较简单，我今天拆分一下，大家就能明白了\\\\~\\n\\n## 教程\\n\\n首先我们先看一下随机获取发言的方法：\\n\\n```\\nimport requests, random\\n\\ndef get_context():\\n    context_list = [\\n        \\\"hello bro\\\", \\\"let's go !\\\", \\\"to the moon!\\\", \\\"nice\\\", \\\"project\\\", \\\"have a good day\\\",\\n        \\\"good\\\", \\\"luck\\\", \\\"how's going\\\", \\\"so do i\\\", \\\"yeah\\\", \\\"same to me\\\", \\\"1\\\", \\\"cool\\\", \\\"so far so good\\\",\\n        \\\"hi~\\\", \\\"of course\\\", \\\"really\\\", \\\"cool~\\\", \\\"ok\\\", \\\"what?\\\", \\\"why?\\\", \\\"not bad\\\", \\\"well done\\\", \\\"great\\\",\\n        \\\"perferct\\\", \\\"thanks\\\", \\\"ture\\\", \\\"yes\\\", \\\"no\\\", \\\"here\\\", \\\"interesting\\\", \\\"it's funny\\\", \\\"i am tired\\\"\\n    ]\\n    text = random.choice(context_list)\\n    return text\\n```\\n\\ncontext_list里面就是准备好的剧本，你可以替换成你的剧本，然后random会随机取一条，返回。\\n\\n```\\ndef chat(authorization, chanel_id):\\n    # 伪装头\\n    header = {\\n        \\\"Authorization\\\": authorization,\\n        \\\"Content-Type\\\": \\\"application/json\\\",\\n        \\\"User-Agent\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.61 Safari/537.36\\\"\\n    }\\n    # 整理发送的内容、生成nonce\\n    msg = {\\n        \\\"content\\\": get_context(),\\n        \\\"nonce\\\": \\\"82329451214{}33232234\\\".format(random.randrange(0, 1000)),  # 923802142370693120 923802484009336832\\n        \\\"tts\\\": False\\n    }\\n    # 拼接频道地址\\n    url = 'https://discord.com/api/v9/channels/{}/messages'.format(chanel_id)\\n    res = requests.post(url=url, headers=header, data=json.dumps(msg), proxies=proxies)\\n    print(res.content)\\n```\\n\\n这段代码比较简单，就是一个post请求，上节课我们都用过了。proxies看大家的需求去加就行。\\n\\n使用的时候调用chat方法，传入authorization和chanel_id即可，authorization就是用户授权。chanel_id就是频道ID，下面我们说说这两个值如何取，我们打开discord网页版，登录你的账号。\\n\\n![](https://images.mirror-media.xyz/publication-images/qUKELquMNX8gblqwE0G_E.png?height=687&width=934)\\n\\n这时我们拿到了频道ID，再打开浏览器的控制台，打开方式如图：\\n\\n![](https://images.mirror-media.xyz/publication-images/YrNeFNPcu0WEeqKz299tq.png?height=531&width=633)\\n\\n然后选择network标签之后，再发生任意内容到频道：\\n\\n![](https://images.mirror-media.xyz/publication-images/j3m3de26ygyfxZ4pVYp_W.png?height=299&width=1031)\\n\\n这时候有个messages的请求，就是我们chat方法里面模仿的请求。\\n\\n![](https://images.mirror-media.xyz/publication-images/95PENjLnp3KaxrxyJyUQC.png?height=581&width=918)\\n\\n在这里可以看到authorization参数，每个用户的authorization是唯一的，所以我们可以保存长期使用。chanel_id要根据你发言的频道去取。\\n\\n好了，至此authorization和chanel_id都有了，直接运行 chat(authorization,chanel_id) 即可。\\n\\n另外messages的请求大家可以仔细看看，认真模仿，代码中去掉了很多参数。\\n\\n运行完我的代码，和上面的内容，再回头去看科学家DAO老哥的帖子你就会开朗很多，老哥做了一个循环，定时去发言，还可以多频道、多账户发言。\\n\\n[https://scientistdao.org/d/40-discord](https://scientistdao.org/d/40-discord)\\n\\n然后老哥的代码里面还有个get_context方法是去取频道中别人的发言照抄，大家也可以参考，剧本、照抄都是形式，根据自己的策略搞就行\\\\~\\n\\n## 最后\\n\\n这种机器人大家写的时候，一定要找聊天热门的项目去刷。剧本一定要写的非常好，要不然管理员可以看出来你发言的是机器人。\\n\\n也可以对接一些AI的接口，不过目前的AI没有那么智能，很容易被发现是机器人，所以策略一定要想好，被封出频道只能换号了。\\n\\n本文的代码和分析，只是帮助你去了解自动发言的方法，请不要用于恶意用途！技术无罪，请大家合理运用！\\n\\n感谢阅读，望认真学习。\",\"timestamp\":1640334651,\"title\":\"HTTP请求第二课：Discord聊天机器人\"},\"digest\":\"bHDRzMCNhcR1LhVnB4mIX9MnHwMyYZwjs6vFV8vx5Mc\",\"authorship\":{\"contributor\":\"0x7fed8d3000b3EB6c3bd27B584D78Da75a9B67266\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"F8kMShLjS7IKZVjpPo3bsSfC7Vty3Gg1V-tlz2ra1Zk\\\",\\\"y\\\":\\\"uQWJlRpJ_fAgnHj1F58k2lIUc65dNEdfST6P3Ev3adI\\\"}\",\"signature\":\"Mqfk8u8lcWbA6nVC_OMjigei9_iPaVVu1ivoAT6KoBzFOVOlcC5ymdMIh4HovQIJOCrAVGON8teJ7uuuFJx3DQ\",\"signingKeySignature\":\"0x13c235baa07d937c6986e2662df8b0316c871133e7f5ceea5e52e00f2897214638679ed4ef3c1af03d6e4ec6ea6ae08746097bfed35da42661fa50b280cb09e11c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"F8kMShLjS7IKZVjpPo3bsSfC7Vty3Gg1V-tlz2ra1Zk\\\",\\\"y\\\":\\\"uQWJlRpJ_fAgnHj1F58k2lIUc65dNEdfST6P3Ev3adI\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"CBeChHw5XqW8wAZdaJHNjPgq7VCvpz0KwJI56f02LfU\"}"