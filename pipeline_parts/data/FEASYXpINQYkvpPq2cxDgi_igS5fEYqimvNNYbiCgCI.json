"{\"content\":{\"body\":\"# 1、Paka Labs 万字\\n\\n<https://www.chainnews.com/articles/705831162815.htm>\\n\\n跨链技术被认为是区块链领域的圣杯，是实现万链互通的关键技术。人们往往将其重要性和互联网的 TCP/IP 进行类比。正是因为 TCP/IP 协议簇 提供了点对点链接的机制，将资料应该如何封装、寻址、传输、路由以及在目的地如何接收，都加以标准化，才使得全球的终端连成了一张网，演变成了我们今天所称的互联网。\\n\\n随着区块链行业的迅猛发展，各类公链，许可链不断涌现，百花齐放。然而，绝大多数链与链之间由于技术、生态、竞争等原因无法连接互通，这带来了用户、资产、应用、数据的割裂，形成了「孤岛效应」。从根本上讲，形成这种局面的原因主要是：用户需求的多样化和区块链扩展性的限制。为了将孤岛连成大陆，业界对跨链技术展开了积极的探索。\\\\`\\\\`\\n\\n## 跨链究竟要跨什么？\\n\\n### 2.1 通证交换\\n\\n每条区块链上都有自己的原生通证。通证因其封装了某种权益，而成为价值的载体。链内的通证可以进行可信的交换，然而链间的通证交换却“隔链如隔山”。只有实现链间通证的可信交换，才能实现区块链作为“价值互联网”的重要作用。\\n\\n目前通过中心化交易所可以实现跨链通证交换，例如将 BTC 充值到交易所，换成 ETH 之后，再提现到 ETH 钱包。但人们不满足于中心化的方案，希望能够直接在链上进行可信交换，例如用户 A 想要用 BTC，交换用户 B 持有的 ETH，这个过程会有个问题，如果两人约定了交易，但 A 进行了转账后，B 食言而肥怎么办？这就需要用到跨链技术，通过系统的撮合，让两笔转账能够同步进行。基于哈希时间锁的原子交换，是实现这一场景的典型技术。\\n\\n### 2.2 通证传递\\n\\n通证传递是指，一条链上的原生资产，流通到另外的链上。这是无法直接实现的，任何通证都只能依附于其宿主链。一般而言，通证传递是靠在源链上锁定原生资产，同时在目标链上发行等量模拟原生资产的锚定资产来实现的。如何保证这一过程的安全可靠，是跨链技术的一大挑战。\\n\\n通证传递和通证交换，都可以解决链间价值交换的问题，但这两者不完全是一回事。如果 A 想用 1 个 BTC 交换 B 的 10 个 ETH，这个过程只需实现通证交换，但如果 A 想要将这 1 个 BTC 拿到以太坊上使用，则需要通证传递。通证传递除了解决价值交换的问题，还有额外的效用。我们可以通过通证传递，实现链 A 上的资产参与链 B 上的 DeFi 应用，构建一个更普惠的开放金融，也可以将通证从一个昂贵的链，转移到一个经济链，节省交易费用，或者从一个缓慢的链转移到快速的链，实现扩容，亦或者，从一个非隐私链，转移到一个隐私链，实现交易隐私。可以说，**通证传递能解决的问题，是通证交换所能解决的问题的超集。**\\n\\n \\n\\n### 2.3 信息传递\\n\\n完全意义上的跨链其实应该能让链间的任何消息进行可靠的传递。任何跨链事务本质上都是一连串跨链消息传递组合而成的，例如，通证传递作为一类跨链事务，是由两次跨链消息传递组成的，先后是：\\n\\n* 源链锁仓通证，并将锁仓的消息及其证明，传递给目标链；\\n* 目标链接收到信息，验证其真实性之后铸造映射通证，并将回执发送回源链。\\n\\n因此，我们可以说，跨链信息传递包含了跨链通证传递。**跨链信息传递所解决的问题是跨链通证传递的超集。**\\n\\n通过跨链信息传递，一条链可以读取和验证另外一条链的状态和信息，一条链的智能合约可以将其他链的某个状态和信息作为执行的触发条件。因此，通过跨链信息传递，可以实现丰富的跨链功能，例如跨链借贷，跨链众筹，跨链支付，跨链衍生品，跨链 DAO 等。如果区块链间能够灵活调用彼此功能，使用彼此的服务，那么链与链将组合成一个巨大的服务协同网络，实现我们预期的万链互联的状态。\\n\\n \\n\\n## 跨链技术概览\\n\\n现在的跨链技术形态，有些只是实现了通证交换，例如哈希时间锁和跨链 DEX；有些则通过建立一组链上角色来转发消息，验证状态，有些是提出了一套通信协议 , 实现区块链间的通信；有些是提出了新的系统架构和造链协议， 支持更多区块链的接入。\\n\\n由于链和链之间互相独立，无法建立直接连接，链之间无法直接感知对方状态变更。因此需要搭建通信桥梁。在通信桥梁选择上，通常来说分为五大类技术形态，分别是**基于哈希时间锁的原子交换，见证人，轻节点侧链，中继链，共享验证人。**\\n\\n \\n\\n### 3.1 基于哈希时间锁的原子交换\\n\\n哈希时间锁是一套密码学方法，该方法可以实现去信任的跨链资产交易。比如我用的 1 个 BTC 和你的 10 个 ETH 交易，就可以通过哈希锁来实现交易的原子性。其原理大致如下：\\n\\n用户 A 生成随机密码 r , 并计算出 r 的哈希值 m=hash(r) ，将 m 值发给用户 B；\\n\\n与此同时，用户 A 发起一笔交易，向用户 B 转 1 BTC，该交易的成功是有条件的，须用户 B 出示密码 r 才能成功，否则超过预设的时间，交易将自动失败；\\n\\n用户 B 看到 A 发起的交易之后，也发起一笔交易，向用户 A 转移 10 个 ETH, 该交易的成功也是有条件的，需要用户 A 出示 r 才能成功，超过预设时间，交易也将自动失败。这里的关键是，用户 B 创建这样一个以出示 r 值 为成功条件的交易，并不需要拿到密码 r 的值，只需要知道 m 值即可创建，而我们知道，哈希运算是不可逆的，知道 m 无法推算出 r ；\\n\\n用户 A 看到 B 发起的交易之后，出示 r 值，使得 B 发起的交易成功，获得 B 转账的 10 个 ETH，r 值被披露；\\n\\n用户 B 在上个步骤中也拿到了 A 出示的 r 值，使得 A 发起的交易成功，获得 A 转账的 1 个 BTC。\\n\\n通过以上机制，在两条不同链上的交易，被耦合为一个事件，只能整体成功，或者整体失败，不会出现 A 给 B 的转账成功，而 B 给 A 的转账失败的情况，反之亦然。\\n\\n这种机制的实现，依赖于两个技术，那就是 「条件成功交易」和「条件失败交易」，在以上案例中，交易成功的触发条件是出示哈希原像 r，交易失败的条件则是超过预设时间未出示哈希原像 r ，我们也可以分别称为**哈希锁**和**时间锁**。\\n\\n在 BTC 中，可以通过 CLTV 操作码或 CSV 操作码来实现哈希时间锁，在以太坊等图灵完备的链上，则可以通过智能合约来实现哈希时间锁。事实上，智能合约可以实现远比哈希时间锁更多元、更复杂的条件成功交易和条件失败交易。\\n\\n我们可以看到，哈希时间锁实现了跨链双方去中介的原子交易，无需任何信任假设。同时，我们也意识到，这种交易方式在用户体验上并不友好，主要体现为以下三方面：\\n\\n* 交易双方必须同时在线，严格执行参与流程，因此，交易发起方，如果无法找到一个在线的交易对手方，则必须等待。\\n* 对于 BTC，创建带有哈希时间锁的交易，在底层是通过创建两笔交易完成的，由于底层机制比较复杂，在前文所述的交易过程中被简化表述为了一笔交易。如果交易成功，两笔交易都要上链，需要多付手续费。\\n* 实际交易中，会存在汇率问题，交易对手方可以根据汇率是否有利于自己来选择是否完成交易。尤其在金额较大时，交易对手方有很强的动力这么做，这导致原子交易可能不适用于大额交易。\\n\\n另外，在跨链的实现程度上，哈希时间锁有其局限性，只能实现跨链的通证原子交换，无法实现通证传递及更广泛的跨链信息传递，因此在实际跨链应用中，往往和其他跨链技术组合使用。\\n\\n \\n\\n### 3.2 见证人\\n\\n见证人，英文为 Notary，有时也被译为公证人，是为传递跨链信息，托管跨链资产而设置的一个特殊角色。2012 年 Ripple 发布了 InterLedge Protocol （ILP），首次通过第三方见证人的方式实现了跨链转账，在此之后，见证人机制陆续被应用在以 BTC 锚定资产为主的诸多跨链项目中。\\n\\n**不同的跨链项目对见证人有不同的设定**：见证人可能是单个主体，但大多数情况下是多个主体；见证人的产生方式可能是许可式的，也可能是自由准入的；为了实现资产跨链，见证人将不得不管理一个托管账户，管理托管账户的方法可能是独立控制或是多方控制；用户对见证人的信任基础，可能来源于见证人自身的信用，也可能来源于见证人做了超额抵押。\\n\\n##  \\n\\n### 3.3 轻节点式侧链\\n\\n侧链的产生，源于人们对于 BTC 扩容的努力。2014 年 10 月，BlockStream 团队发布了《侧链白皮书》，首次提出了“锚定”式跨链方案。锚定（Pegged），有时被翻译为“楔入”，表达的是被锚定链对锚定链的可读状态，这种状态也被称为“锚定链是被锚定链的侧链”。\\n\\n人们最早希望通过将 BTC 的交易从 BTC 主链，转移到侧链上，来降低 BTC 主链的压力，2016 年由 RootStock 团队开发的 RSK 被认为是 BTC 最早的侧链。侧链技术的本质是通过在侧链上融合主链轻节点来实现主链对侧链可读。该技术稍加转化，即可被应用于跨链，我们只需在目标链上部署源链的轻节点合约，即可将目标链改造为源链的侧链，实现由源链到目标链的单向跨链。\\n\\n**所谓轻节点，是指一个体积较小的，只存储区块头信息的节点。轻节点并不存储链上的全部交易，但是可以通过区块头信息，验证某个交易是否存在于链上。**轻节点合约则是包含了轻节点的智能合约。通过在目标链部署源链的轻节点合约，即可实现对源链来的消息进行真实性验证。其过程大致如下：\\n\\n当源链 A 有请求传递一笔跨链交易信息给目标链 B 时，交易发起者将该交易的明细内容、区块高度、以及该交易 SPV 证明（指该交易的 Mekre 路径）一并提交到 B 链；\\n\\n部署在 B 链上的 A 链轻节点合约，通过 SPV 证明，重新计算该交易所在区块的区块头哈希值；\\n\\n得到的哈希值与轻节点中对应的区块头哈希值进行比较，如果一致，则表明该交易确实发生在该区块中，若不一致，则说明该交易并不存在于该区块。\\n\\n尽管任何人都可以向目标链提交交易明细及其 SPV 证明，但实际跨链应用中，往往会有专门的角色来做这件事，而不是交易发起者来做。我们在本文中，我们称该角色为 Relayer （中继者）。Relayer 除了要负责帮助用户传递跨链消息，还需要负责将源链的区块头传递到目标链，以建立轻节点合约。\\n\\nRelayer 和见证人一样，都是为传递跨链消息而设的一个特定角色，但 Relayer 和见证人有两点不同：\\n\\n* Relayer 不负责托管资产，如果采用侧链机制来实现跨链，跨链过程中锁仓的通证会被托管到一个特定的托管合约中。\\n* 对于 Relayer 的信任假设，相比见证人而言更为宽松。我们必须相信大多数的见证人都是诚实的，但众多的 Relayers 只要至少有一个是诚实的，我们就可以相信跨链消息传递是可靠的。这点我们将在 3.3.3 小节进一步论述。\\n\\n不同跨链项目中对 Relayer 的称呼不同。有些项目中，Realyer 的角色被拆分，负责传递区块头的 Relayer （Head Relayer）和负责传递交易消息的 Relayer(Message Relayer) 被定义为两种角色。有些项目中不存在一个专门的 Relayer 角色，Relayer 的职能被合并入了其他角色，例如由源链的验证人直接承担 Relayer 的角色。不过，万变不离其宗，轻节点式侧链方案的技术本质始终是：Relayer 将源链的区块头传输到目标链，建立轻节点，然后 Relayer 从源链搬运交易信息到目标链时，用轻节点上的区块头信息验证交易信息的正确性。\\n\\n \\n\\n### 3.4 中继链\\n\\n为了建立更广泛的跨链网络，我们更多时候，需要连接的不止是两条链，而是很多链，如果在每两条链之间建立上述这种双向楔入，互为侧链的关系，其连接数和适配成本随着链的数量的增加，将会呈指数级增加，因此中继的思路被提出来：**建立一条中继链，其他所有链都与中继链建立连接**，就像家里的终端设备都和路由器连接一样。如此一来，成本立即从 n(n-1)/2 下降到了 n （n 为链的数量）。\\n\\n中继方案是侧链方案的变体，和侧链归为一类技术方案，也是合理的。中继方案具有很高的扩展性，是当前最被广泛应用的跨链方案，本文为了将中继方案充分展开阐述，将其单独列了出来。\\n\\n有时候，在双链跨链模型中，Relayers 会作为一条独立区块链的验证者而运行，该独立链被视为一个整体承担区块头搬运和跨链消息搬运的职能，Relayers 则在其内部对搬运的信息达成共识。这类独立区块链往往被称为桥接链，但它不是中继链。例 Polygon 的 PoS 桥，Near 的 PoA 彩虹桥，都只是桥接链，不是中继链。\\n\\n区分两者的关键，在于其跨链通信路径的不同：可以把桥接链理解为只是 Relayers 的容器，其职能依旧是搬运区块头和跨链消息，而中继链则是与各接入链都建立互为侧链关系的消息中转站。很多文献并没有对这两个概念做严格的区分，但这两者的实质是完全不同的。\\n\\n \\n\\n### 3.5 共享验证人\\n\\n同样作为通信协议簇+造链协议的 Cosmos 和**波卡**，都蕴含了中继的思想，但稍加留意我们便发现，两者区别十分巨大。\\n\\nCosmos 的 Hub 和 Zone 之间建立的是典型的“双向锚定”关系，Cosmos 的跨链消息传递协议 IBC，依旧是靠内置在接收链上的轻节点合约来对跨链消息做 SPV 验证，但波卡的跨链消息传递协议 XCMP 中，并没有采取轻节点式的技术来验证跨链消息的合法性，而是采用了另外一种方法，Paka Labs 将其提炼出来，称之为「共享验证人」，列为跨链技术的一个单独分类。（关于 XCMP 和 IBC 的更多辨析，将在后续的举例章节展开。）\\n\\n共享验证人方案是指多个链共享同一组验证人，并由这些共同的验证人负责验证跨链消息的方案。波卡将区块的搜集和验证解耦为两个职能，由两组角色负责，分别是收集者（Collator）和验证人（Validator），每条平行链都有自己的收集者，但平行链没有自己的验证者，区块验证由中继链的验证者负责。这相当于每条平行链都让渡了共识过程的一部分给中继链。因此，波卡的平行链间可以像同一个区块链的不同分区一样交互，不再需要额外的信任机制。\\n\\n需要说明的是，波卡并没有让所有的验证人验证所有的链，而是采取了一个更经���的做法。在一个具体的时刻，每条平行链的验证人组是不一样的，每条平行链的验证人组由中继链随机分配，每隔一段时间都会重新分配，通过这样随机分配的机制，让恶意的验证人集难以联合作恶。这种机制，可以拿中国古代宋朝的军事制度来类比：兵无常将，将无常兵。\\n\\n波卡的共享验证人本质上是一种分片机制，与以太坊 2.0，Harmony，Near 等采用分片机制提高可扩展性的区块链是类似的。但不同的是，分片链与信标链是终身一体的，而波卡的平行链可以和中继链随时解耦，随时耦合，当解耦时，平行链是一条可独立运行的区块链。\\n\\n \\n\\n## 跨链技术的认识框架\\n\\n现今活跃的跨链项目有近百个，不同的跨链桥采用不同的跨链技术方案，采用相同类型技术方案的项目对系统角色有着不同的设计，和不同的叫法，有对角色职能进行拆分，创造更多角色的，也有对角色职能进行合并，省略部分角色的，还有些项目综合使用了多个跨链技术，可以说是，眼花缭乱，但如果认识清楚了跨链技术的本质，则可以做到去伪存真，透彻理解。为此，我们需要一个理解跨链技术的认知框架。\\n\\n我们可以从跨链要解决的难题说起：\\n\\n### 4.1 如何保证跨链事务的原子性\\n\\n这个问题指的是，一个完整的跨链事务，必须作为一个整体，执行成功，或者执行失败，不能存在部分成功，部分失败的情况，否则使用跨链功能的用户将有可能面临资产损失。有两个思路可以实现这一点：一种就是通过密码学手段对一个跨链事务中的多个子交易进行耦合，例如基于哈希时间锁的原子交换方案；还有一种方法是让跨链事务的多个子交易具有严格的时序性，时序性包含三层含义：\\n\\n* 只有子交易 1 完全成功（完全成功意味着交易被打包进区块，并形成最终确定性），才能进行子交易 2，以此类推，只有子交易 2 完全成功，才能进行子交易 3；\\n* 如果子交易 3 失败，则保留子交易 2 的成功状态，让用户可以反复重试子交易 3；\\n* 如果子交易 3 始终失败，用户可以先后撤回子交易 2 和子交易 1。\\n\\n除了哈希时间锁，其他跨链方案大多情况下都是靠后一种方法，来保障跨链事务的原子性的。这里涉及到一个问题，如何判断一笔交易，已经形成最终确定性呢？区块链的共识机制有很多种，但依据其最终确定性形成机制，可以分为可证明最终性和概率最终性两种，BFT 类的区块链，通过验证人投票来确定区块，被确定的区块具有最终性，无法被逆转。但非 BFT 类的区块链，则认为最长链即最终链，但最长链有可能因为分叉而改变，因此，已经打包的交易可能被逆转，面对这种情况，普遍采取的方法是等待更多的区块确认，直到该交易所在区块被逆转的可能性降到极低。\\n\\n由此可见，**具有可证明最终性的 BFT 类区块链，对跨链是更加友好的，**因此，无论是 Cosmos 的还是 Polkadot，其造链标准都不约而同的采用了 BFT 类共识机制。需要说明的是，BFT 只是最终性确认的一种方式，是共识机制的一部分，尽管 BFT 类区块链一般都是 PoS 共识，而非 BFT 类区块链则一般是 PoW 共识，但并没有绝对的相关关系。\\n\\n### 4.2 如何感知另一条链\\n\\n一个区块链系统，对于另外一个区块链系统来说，是封闭的，独立的，每条链都是一个“Walled Garden”，无法直接感知另外一条链中的交易及其状态。一条链对于另外一条链而言，是一个链外系统，**因此一条链对另外一条链的感知，其实是个预言机问题。**\\n\\n因此，任何跨链技术，无论如何演变，都绕不开一个“**中间人**”的角色，系统与系统间相互独立，那发起跨链交易时，目标链在发行映射资产之前，如何才能确认源链的锁仓交易已完成呢？两条链之间会由可信的“中间人”来承担跨链消息的传递和验证的职能。这个中间人，在见证人方案中，体现为单主体或多主体组成的见证者集，在侧链 / 中继方案中，则体现为 Relayer 集，在共享验证人方案中则是共享验证人集，只有哈希时间锁技术在原理上是无中介的，但需要交易发起方和交易对手方同时在线，为了提高体验，我们需要有一个中间人充当一个公共的交易对手方，或者我们称之为流动性提供商。\\n\\n在交易验证这个环节，见证人方案中，由见证人通过运行节点或者连接其他节点来验证交易，侧链 / 中继方案中，则通过在目标链上部署源链轻节点，来实现对源链消息真实性的验证，在共享验证人方案中，则由共享的验证人在源链共识过程中完成验证，目标链可以无条件信任。\\n\\n### 4.3 如何安全的托管留置资产\\n\\n留置资产托管问题，存在于跨链资产传递的场景中。如前文所述，跨链资产传递的本质是，让资产在源链锁仓留置，并在目标链上生成模拟资产。那么留置资产的托管安全性就是跨链安全性的一个重要组成部分。\\n\\n有四种类型的托管地址，分别是独立控制账户，多方多签账户，多方私钥分片账户，合约账户，前三者和见证人机制组合使用，形成了不同子类型的见证人机制；侧链 / 中继式的跨链方案中，则采取合约账户来托管留置资产。事实上，侧链 / 中继方案，也可以和非合约账户的托管方案组合，但几乎不会有项目这么设计，因为合约账户具有更高的安全性，即便有项目实际这么运行，更有可能是作为托管合约开发完成之前过渡方案。\\n\\n实际上，跨链资产传递的场景中，还有一种方案是不需要托管资产的，即销毁-铸造（Burn-Mint）方案，源链上的资产不再锁定，而是直接销毁，进而在目标链上发行锚定资产。这种方案仅适用于耦合度很高的链，否则燃烧的资产，无法再反向铸造出来，资产跨链后再也回不去了，这显然是无法被接受的。波卡的平行链间进行通证跨链，用的便是 Burn-Mint 机制。\\n\\n### 4.4 如何进行多链适配\\n\\n侧链方案进行多链适配的解决方案，便是中继方案，通过中继链，与接入链一一建立互为侧链的关系，比接入链之间建立这种关系，其适配成本要低很多。尽管如此，中继链主动兼容多个异构的接入链，还是很麻烦，需要分别去适配，不如一劳永逸，自上而下建立一套通信标准和造链标准，让更多的新链成为可直接被动兼容的同构链。\\n\\n见证人方案和哈希时间锁方案，相比侧链 / 中继链方案更通用，前者只要在新的接入链上设立一个托管账户，即可完成对新接入链的兼容，后者则只需接入链支持哈希锁和时间锁功能即可兼容。\\n\\n共享验证人方案则仅适用于同构跨链，无法对已存在的异构链进行主动兼容，如果需要兼容，还需采用其他跨链方案。\\n\\n \\n\\n### 4.5 小结\\n\\n通过上述跨链技术概览 5 个分类：\\n\\n* 基于哈希时间锁的原子交换\\n* 见证人机制\\n* 轻节点式侧链\\n* 中继链\\n* 共享验证人\\n\\n以及跨链技术的认识的 4 个维度：\\n\\n* 跨链事务原子性\\n* 跨链消息验证\\n* 资产托管\\n* 多链适配\\n\\n我们基本可以准确把握一个跨链方案的脉络，形成框架性认识。\\n\\n \\n\\n \\n\\n# 2、风投Paradigm如何看待多链趋势下的跨链桥发展？\\n\\n<https://news.huoxing24.com/20210917150156612526.html>\\n\\n随着公链市场进入群雄并起的“多链时代”，市场对跨链的需求也变得越来越清晰。无论是新公链，还是以太坊Layer 2，用于跨链的资产桥似乎已变得不可或缺。\\n\\n \\n\\nCosmos Network 是一个连接彼此独立运行的区块链的去中心化网络，它是一个可扩展的的区块链生态系统，在其生态中的区块链可以相互交互，而在Cosmos 网络中用于转账的数字资产称为 Atom。\\n\\nCosmos 使用名为 Hub 的主链，而其他称为Zone的链与该Hub主链进行交互，但每个 Zone链都有自己的验证者。\\n\\nCosmos 运行着名为 Cosmos Hub 的协调和验证中心，以使整个系统协调工作。在 Cosmos 网络上发生的 Tendermint 交易使用权益证明 (PoS) 算法进行验证。使用 Tendermint 核心的应用程序通过应用区块链接口 (ABCI) 与 Cosmos Hub 通信，区块链之间的通信协议 (IBC) 通过连接与Cosmos Hub 相连的zone和网络中心（hub）来调解区块链之间的传输交易。\\n\\n \\n\\nPolkadot建立在中继链主链上，所有验证器都在这个主链上，而平行链在主链上工作。此外，数据和资产可以在 桥链（Bridgechain） 和比特币等区块链之间转移。\\n\\n要了解 Polkadot 的基本工作结构，首先要了解一些概念。第一个是中继链（Relay chain），它是连接所有独立链的中继区块链。因此，它们可以有机地解决这些区块链之间的互操作性问题。而另一个概念是平行链（Parachain），这个概念指的是在 Polkadot 网络上运行的并行区块链。这些有助于通过并行化交易来扩展系统。最后一个概念是桥链（bridge chain），它是用于连接不使用 Polkadot 治理协议的不同区块链。\\n\\n## Polkadot与Cosmos的设计差异\\n\\n下面我们来简单聊聊Polkadot与Cosmos的不同，注意，这里讲的都是以前的情况，未来可能会发生一些变化。\\n\\nPolkadot专注于共享安全性，而Cosmos则优先考虑互操作性。\\n\\nCosmos 网络上的成员资格没有固定的规则，任何人都可以建立一个Zone或Hub。\\n\\nPolkadot 区块链无需硬分叉即可更新，而 Cosmos 区块链的增强和改进需要通过分叉来实现。\\n\\n尽管Polkadot与Cosmos都有质押代币赚取收益的设计，但它们的代币经济是完全不同的。\\n\\nCosmos 生态系统的 ATOM 原生代币被质押用于保护Cosmos hub，并且质押者会收到交易费用作为报酬，除了治理和收取交易手续费之外，ATOM暂时还没有被赋予其他的功能，而ATOM生态系统中独立的区块链，可以使用自己的代币（例如Terra的luna），而无需用到ATOM，这使得ATOM最初似乎捕获不到什么价值，也使得其早期代币的表现落后于DOT。\\n\\n相比之下，Polkadot网络的所有交易都是以DOT支付的，因此，它确实创造了对代币支付费用的需求，另一点区别是，Polkadot要求平行链质押DOT，所以如果你想让平行链连接到Polkadot 中的中继链，本质上，你是要锁定Dot代币的，这创造了市场对DOT代币的需求，并锁定了供应。\\n\\n从上面的设计来看，似乎Polkadot在市值方面暂时领先于Cosmos是有原因的。\\n\\n#  \\n\\n# 3、\\n\\n<https://www.chainnews.com/articles/344960731185.htm>\\n\\n \\n\\n## 3.1「桥」很重要，因为它们使用户能够访问新平台、使协议之间实现相互操作，开发者也可以协作打造新产品。\\n\\n#### 提高现有加密资产的生产力和实用性\\n\\n「桥」使现有的加密资产能够流向新的网络，并做新的事情。 例如：\\n\\n* 将 DAI 发送到 **Terra** ，以在 Mirror 上购买合成资产或在 Anchor 上赚取收益\\n* 从 Flow 向**以太坊**发送 NBA TopShot NFT，以用作 NFTfi 的抵押品\\n* 使用 DOT 和 ATOM 作为抵押品，在 **Maker** 上获得 DAI 贷款\\n\\n#### 现有协议实现更强大的功能\\n\\n「桥」扩展了协议可以实现的设计空间。例如：\\n\\n* 在 **Solana** 和雪崩 (**Avalanche**) 上加入 Yearn 机枪池进行收益耕种\\n* 以太坊和 Flow 链上的 NFT 可以在 Rarible Protocol 上共享订单薄\\n* 在 Index Coop 上推出 Proof-of-Stake 指数\\n\\n#### 为用户和开发者解锁新功能和用例\\n\\n「桥」也能为用户和开发者提供了更多选择。 例如：\\n\\n* 在 **Optimism**、**Arbitrum** 和 **Polygon** 等协议上的不同 DEX 之间进行 SUSHI 价格套利\\n* 使用**比特币**支付 Arweave 上的存储费用\\n* 在 Tezos 上进行 NFT 的 PartyBid 竞价\\n\\n \\n\\n## 3.2大多数「桥」的设计都包括几个组成部分 ：\\n\\n* 监控：通常有一个参与角色，或者叫「预言机」、或者叫「验证器」或「中继器」，负责监控源链上的状态。\\n* 消息传递 / 中继：监控角色接收到事件后，需要将信息从源链传输到目标链。\\n* 共识：在某些模式中，该信息中继到目标链之前，需要在监控源链的参与者之间达成共识。\\n* 签名：参与者需要个体或作为门限签名方案的一分子，对发送到目标链的信息进行加密签名。\\n\\n \\n\\n## 3.3四种类型的「桥」各有自己的优缺点：\\n\\n* 资产特定型 : 这类「桥」的唯一目的是提供从外部链访问特定资产的途径。 这些资产通常是「打包」资产，由底层资产以托管或非托管方式完全抵押。比特币是桥接到其他公有链的最常见资产，仅在以太坊上就有 [七种不同的「桥」](https://dune.xyz/eliasimos/btc-on-ethereum_1)。这些「桥」实施最容易，但功能有限，需要在每个目标链上单独部署。 示例包括 wBTC 和打包的 Arweave。\\n* 链特定型：两个区块链之间的这类「桥」，通常只涉及锁定和解锁源链上的代币以及在目标链上铸造任何打包资产的简单操作。由于这些「桥」的复杂性较低，通常可以更快地上市，但也不容易扩展到更广泛的生态系统中。一个例子是 Polygon 的 PoS 桥，它允许用户将资产从以太坊转移到 Polygon，反之亦然，但仅限于在这两条链之间运行。\\n* 应用特定型： 一个应用提供对两个或多个区块链的访问，但仅限于在该应用中使用。这类应用本身代码库较小是一个优势；不是在每个区块链上都有整个应用的单独实例，通常是在每个区块链上都有更轻的、模块化的「适配器」。实施了适配器的区块链可以访问它所连接的所有其他区块链，因此具备网络效应。缺点是很难将该功能扩展到其他应用（例如从借贷到互换）。 具体例子包括 Compound Chain 和 Thorchain，它们分别构建了专门用于跨链借贷和交易的独立区块链。\\n* 通用型：一种专为跨多个区块链传输信息而设计的协议。由于复杂度低，这种设计享有强大的网络效应，仅需要「单点集成」就可以通过桥访问整个系统。缺点是一些设计通常会在安全性和去中心化之间进行权衡，以获得这种扩展效应，这可能会对生态系统产生复杂的意外后果。一个例子是 IBC，它用于在两个异构链（具有终结性保证）之间发送信息。\\n\\n \\n\\n## 3.4「桥」设计可以根据\\n\\n#### 外部验证器和联邦制\\n\\n通常有一组验证器监控源链上的「邮箱」地址，并根据共识对目标链执行操作。资产转移通常是将资产与地址锁定，并在目标链上铸造等量资产来完成的。这些验证器一般会使用不同的代币作为抵押，以此保证安全性。\\n\\n#### 轻客户端和中继\\n\\n参与者监控源链上的事件，并生成有关该链上所记录的过去事件的加密证明。然后将这些证明与区块头一起转发到目标链上的合约（例如「轻客户端」），然后验证是否记录了某个事件并在验证后执行操作。其设计机制需要某些参与者「中继」区块头和证明。虽然用户可以「自我中继」交易，但确实存在中继器将持续转发数据的活跃性假设。这是一种相对安全的桥接设计，因为它在不信任中间实体的情况下保证了无信任的有效交付，但它也是资源密集型的，因为开发者必须在每个新的目标链上构建一个新的智能合约，从源链解析状态证明，而��证流程本身需要大量 Gas 费用。\\n\\n#### 流动性网络\\n\\n这类似于点对点（P2P）网络，其中每个节点都充当「路由器」，持有源链和目标链资产的「清单」。这些网络通常利用底层区块链的安全性；通过使用锁定和纠纷解决机制，保证用户不会被路由器卷走用户资金。因此，对于转移大量价值的用户来说，像 Connext 这样的流动性网络可能是一个更安全的选择。此外，这种类型的「桥」可能最适合跨链资产转移，因为路由器提供的资产是目标链的原生资产，而不是衍生资产，它们之间不能完全替代。\\n\\n \\n\\n特别需要注意，任何特定网桥都是双向通信通道，每个通道中可能有单独的模型，且这种分类不能准确地表示出混合模型，如 Gravity、Interlay 和 tBTC，因为它们都在一个方向有轻客户端，在另一个方向有验证器。\\n\\n \\n\\n## 3.5根据以下因素对「桥」的设计进行粗略评估：\\n\\n* 安全性：信任和活跃度假设、对恶意行为者的容忍度、用户资金的安全性和反身性。\\n* 速度：完成交易的时延，以及最终性保证。通常需要在速度和安全性之间进行权衡。\\n* 可连接性：为用户和开发者选择目标链，以及集成额外目标链的不同难度级别。\\n* 资本效率：经济学概念，包括确保系统安全所需的资本和资产转移的交易成本。\\n* 状态性：能够转移特定资产、更复杂的状态和 / 或执行跨链合约调用。\\n\\n \\n\\n## 3.6安全机制在频谱中呈现广泛分布，可以粗略地将其归类为 :\\n\\n* 基于信任：参与者不投入抵押品，在系统故障或恶意活动的情况下用户无法收回资金，因此用户主要依赖于「桥」运营商的声誉。\\n* 抵押 : 类似于投保模式（例如，参与者的经济利益切实相关），除了用户因错误或不当行为无法收回资金的情况，因为被削减的抵押品可能会被销毁。抵押品类型对抵押和投保模式都很重要；内生抵押品（例如，抵押品是协议代币）的风险更大，因为如果「桥」发生故障，代币价值可能会崩溃，这进一步降低了「桥」的安全保证。\\n* 投保：恶意行为者能够窃取用户资金，但他们这样做可能无利可图，因为他们需要提供抵押品，而在出现错误或不当行为的情况下其抵押品会被削减。如果用户资金丢失，协议会通过所削减的抵押品对用户进行补偿。\\n* 无需信任：网桥的安全性与它所桥接的目标链和原链的安全性「绑定」。 除非底层区块链遭遇共识级攻击否则用户资金不会丢失或被盗。不过这其实也并非完全无需信任，因为所有这些系统的经济、工程和加密组件都是基于信任搭建的。\\n\\n \\n\\n## 3.7总结一下设计机制的权衡\\n\\n外部验证器和联邦制通常在状态性和连接性方面表现出色，因为它们可以触发交易、存储数据，并允许在任意数量的目标链上与该数据进行交互。不过这是以牺牲安全性为代价的，因为用户依赖于「桥」的安全性，而不是源链或目标链。\\n\\n虽然当今多数外部验证器都是需要信任的模型，但有些是抵押机制，其中的一个资产子集用于为最终用户提供资产保障。不幸的是，它们的保险机制通常具有反身性（reflexive）。如果将协议代币用作抵押品，即基于该代币的美元价值足以完整赔付用户的假设。而如果抵押资产与被保险资产不同，则还依赖于预言机，因此「桥」的安全性可能会降级为预言机的安全性。但如果不是需要信任的项目，这些「桥」的资本效率也是最低的，因为它们促进经济吞吐量增加的同时需要成比例地扩大抵押品要求。\\n\\n轻客户端和中继在状态性方面也很强大，因为区块头中继系统可以传递任何类型的数据。它们的安全性也很强，因为不需要额外的信任假设，尽管存在活跃性假设，因为仍然需要中继器来传输信息。这些也是资本效率最高的「桥」，因为不需要任何资本锁定。这些优势是以可连接性为代价的。对于所连接的每对区块链，开发者必须在源链和目标链上部署一个新的轻客户端智能合约，其复杂度介于 O(LogN) 和 O(N) 之间（介于这个范围之间，因为添加对共识算法相同的链的支持相对容易）。依赖欺诈证明的 Optimistic 模型也存在明显的速度缺陷，比如交易时延可能会达到 4 小时以上。\\n\\n流动性网络具有速度和安全性优势，因为它们是本地验证系统（不需要全球共识）。它们也比抵押 / 投保的外部验证器更具资本效率，因为资本效率与交易流 / 交易额而非安全性相关。例如，假设两条链之间的交易流相等，且有一个内置的再平衡机制，流动性网络可以促成无限大的经济吞吐量。利弊权衡是与状态相关的，因为虽然可以任意传递状态数据，但其功能有限。例如，它们可以跨链与数据交互，其中接收方有权根据所提供的数据进行交互（例如，使用来自发送方的签名消息调用智能合约），但对于传递没有「所有者」的数据或者广义状态一部分的数据（例如，铸造代表代币）并没有帮助。\\n\\n## 3.8仍悬而未决的问题\\n\\n构建强大的跨链「桥」是一个非常困难的问题。虽然在这一领域进行了很多项目的尝试，但仍有几个悬而未决的问题：\\n\\n* 最终性和回滚： 对于概率最终性可能导致的回滚问题，「桥」如何应对？ 以 Polkadot 与以太坊为例，如果其中任意一条链遇到状态回滚，从 Polkadot 向以太坊发送资金的用户会遇到怎样的情况？\\n* NFT 转移和溯源 : 「桥」如何为跨多个链「桥」的 NFT 保留溯源？ 例如，如果有一个 NFT 曾在以太坊、Flow 和 Solana 的多个市场上易手，其所有权记录如何包含进其中所有这些交易以及所有者？\\n* 抗压能力 : 在某条链拥堵或遭遇协议和网络级攻击情况下，各种「桥」设计会有怎样的表现？\\n\\n## 3.9区块链 「桥」的未来\\n\\n虽然「桥」为区块链生态系统开启了创新，但如果团队在研发方面走捷径，也会带来非常严重的风险。**[Poly Network](https://www.theverge.com/2021/8/23/22638087/poly-network-600-million-stolen-crypto-hack-restored-defi)** 遭遇的黑客攻击事件已经证明了漏洞和攻击的潜在经济损失规模，我预计情况在好转之前会出现更糟的情况。虽然对于「桥」建设者来说，这是一个高度分散和竞争激烈的格局，但各个团队应该高度自律，优先考虑安全性而不是上市时间。\\n\\n虽然理想状态应该是能够为所有事物通用的同构「桥」，但很可能不存在单一的「最佳桥」设计，不同类型的「桥」最适合特定应用（例如资产转移、合同调用、铸造代币）。\\n\\n此外，最好的「桥」将是最安全、互连、快速、资本效率高、成本效益高且抗审查的「桥」。如果我们想实现「区块链互联网」的愿景，上述要素都是需要最大化的属性。\\n\\n到目前为止，我们并没有搭建出所谓的「最佳桥」。而所有「桥」类型都有几个有趣的研究和开发方向：\\n\\n* 降低区块头验证的成本：轻客户端的区块块验证成本很高，如能找到降低这些成本的方法，可以让我们更接近于完全通用且无需信任的互操作性。一种有趣的设计可能是桥接到 L2 以降低这些成本。 例如，在 zkSync 上部署 Tendermint 轻客户端。\\n* 从需要信任模式转变为抵押模式：虽然抵押验证器的资本效率要低得多，但要确保数十亿美元的用户资金安全，「social contracts」的可靠性难以令人恭维。 此外，花哨的门限签名方案并不会降低风险，在没有抵押的情况下，用户实际上是将他们的资产移交给外部托管人。\\n* 从抵押模式转变为投保模式：在使用「桥」的过程中承受无端的亏损显然是用户最不希望看到的情况。虽然抵押资产的验证器和中继器可以抑制作恶，但协议应该更进一步，在发生意外时对用户进行资金补偿。\\n* 扩大流动性网络的流动性：流动性网络设计可以说是资产转移的最快「桥」，并且在信任和流动性之间存在有趣的设计权衡。例如，流动性网络可能实现使用抵押验证器类型模式来外包资本供应，其中路由也可以是具有抵押流动性的门限多签。\\n\\n \\n\\n# 4、跨链桥：多链和多L2时代的重要参与者\\n\\n<https://news.huoxing24.com/20210930162731703636.html>\\n\\n### 跨链正在成为加密用户日益重要的需求\\n\\n人们经常听到的公链大约二三十个左右，但实际上迄今为止，已经有109个公链在运行。虽然以太坊目前位居合约公链之首，但也无法一统所有链，目前多链时代已经成为现实。且公链也有细分化的一种方向，比如加密游戏公链、社交网络公链等。\\n\\n#### \\\\*非以太坊公链或L2的TVL上升\\n\\n由于一些公链上的资产已经达到相当规模，不同链之间进行资产等跨链的需求越来越强，尤其是不同链上DeFi项目、NFT项目、加密游戏在某个时期收益的波动，会让这些跨链需求愈加明显。开发者们也看到了这个趋势， 帮助用户在不同链和L2间实现资产流动的跨链桥开始越来越多，目前看已经有数十个桥。这些“桥”正在连接不同的公链和以太坊L2，最终形成一个更为庞大的加密网络。\\n\\n#### \\\\*用户对不同公链和以太坊L2有自己的需求\\n\\n今年BSC、Sonala、Pollkadot、Avalanche、Fantom等合约链的崛起，让人们看到了不同公链也有其需求。此外，随着以太坊L2（Arbitrum、Optimism、Starkware等）的推出，公链和L2也形成了一定的竞争关系。不同的公链和L2在安全、速度、费用等方面有不同的权衡。有些用户更关注安全，有些用户更关注效率（费用低和速度快），不同的用户都可以找到满足自己需求的链或L2。\\n\\n不同的链和L2因此也形成了不同的用户群和支持者。不过，随着不同链和L2之间的增多，用户在不同链和L2之间流通的需求在加大，而跨链桥则可以将这些用户和资产实现互通。例如DOT在以太坊的DeFi上实现抵押借贷，像NBA Topshot的NFT（基于Flow公链）在以太坊上流通和交易等。\\n\\n#### \\\\*跨链桥是满足新跨链需求的重要途径\\n\\n在不同链之间进行资产跨链，之前用户采用最原始的方法，就是通过CEX。如今，随着跨链桥的逐步推出，人们开始逐步利用跨链桥进行资产的流动。\\n\\n \\n\\n### 跨链桥是如何跨的\\n\\n简单来说，两个以上不同的链，这些链有不同的共识机制，有自己交易账本等。在不同链之间进行消息互通，需要一个“桥”。而要构建区块链的桥，需要传递消息的参与者或中继者。他们需要监视来源链上的状态，然后将状态信息从来源链传输到目标链。为了确保传输信息的正确，一般来说，监视来源链的参与者之间需要达成共识（或可验证）之后将消息发送到目标链。参与者需要对发送到目标链的信息进行加密签名等操作。\\n\\n当然，跨链桥也有不同的实现方式，以适应不同的场景需求。\\n\\n目前最常见的就是将一种资产通过“包装”的方式，将其在另外一条链上进行代币化发行，然后实现在其在目标链上的流通。其中wBTC就是典型的例子。用户将其BTC存入托管方，然后锁定，并在以太坊上发行相应的ERC20代币wBTC，这些wBTC有托管资产作为完全抵押进行支撑。\\n\\n将上述的方法再进一步，可以在两条链之间架构桥梁，可以通过在源链上锁定或解锁代币，并在目标链上对应生成或销毁包装资产，也可以实现两条链之间的资产转移。比如将资产从以太坊转入Polygon的侧链，它通过Polygon桥对两条链资产进行锁定或解锁等操作实现代币的转移。这里的托管方变成了多个主体，在一定程度上，提升了安全性。\\n\\n而通用的跨链桥最为复杂，需要跨多个链之间进行信息的传输。不过，由于不同链之间的安全性和去中心化程度都有不同，且异构链之间的连接也更难，局面会更加复杂。\\n\\n跨链桥的核心是桥的参与者，他们是谁？他们如何互动或博弈？如何保证信息互通的正确性？跨链桥的模式并不完全相同，每种模式都有其权衡。如从验证角度，大概可以分为三类。\\n\\n**\\\\*第三方验证模式**\\n\\n第三方验证模式，其参与者会有一个或一组验证者。验证者需要监控源链的特定地址。用户向源链特定地址发送资产，然后锁定。第三方验证者会对这些信息进行验证，需要达成共识。一旦达成共识，则会在目标链上生成相应的资产。这类模式的跨链桥，有Synapse、Thorchain、Anyswap、PolyNetwork、WBTC、WormHole、Qredo、Ronin等等。\\n\\n那么，如何相信验证者？一种是完全中心化的模式，有一个托管的主体。由托管者保管转入的资产，这个需要对托管主体有完全信任。这种模式完全取决于“桥”运营者本身的信誉，本质上他们可以取走用户的原生资产，让其跨链资产失去价值。例如，wBTC的托管方，如果将支撑wBTC价值的BTC全部取走，那么，wBTC会一文不值（当然，这种概率很小，只是理论上是可能的）。\\n\\n还有一种是一组验证者。为了成为验证者，他们需要绑定资产，以防止他们做恶。而绑定的资产，还可以分为两类。一类绑定的资产对应于跨链的资产。比如，为实现BTC或ETH的跨链，验证者绑定BTC或ETH。还有一类是绑定自身协议的代币资产。比如Thorchain绑定RUNE，Synapse也计划未来绑定其自身的代币SYN来确保其链的安全。这种模式下，桥的参与者有机会盗取用户的资金，但由于存在博弈机制，他们不会这么做，因为他们质押了资金，盗取资金遭受惩罚的损失更大。\\n\\n当然，如果采用同一资产或优质资产质押（如BTC、ETH），那么其安全性更高些。如果采用协议代币本身，一旦桥出问题，可能会导致连锁反应，让其协议代币也下跌。那么，是否有足够时间来清算？这也是协议代币高超额抵押的原因。这类跨链桥的安全性取决于其验证系统本身的安全性，无法达到源链或目标链同等的安全性。不过，它也有优点，在费用、速度和多链连接的扩展上表现较好，且可以传输通用数据。\\n\\n**\\\\*原生验证**\\n\\n这种模式最大的好处是无须信任。它通过在目标链的VM内运行源链的轻客户端完成验证。例如IBC、BTC Relay、Near 彩虹桥、波卡SnowBridge、LayerZero、Movr、Optics、Gravity Bridge等。\\n\\n跨链桥的参与者对源链上的消息进行监控，然后将包括加密证明的监控记录和区块头转发到目标链上的合约。在对记录的事件进行验证之后，在目标链上执行操作。\\n\\n由于是无须信任的模式，安全性表现较好，也可以实现通用化的信息转移。不过，它需要开发者在每条新的目标链上构建新的智能合约，以对源链的信息进行验证，同时这种验证本身也会比较昂贵。因此，其不足主要在于费用高、速度慢、不容易拓展到更多链，在早期也会有一定的限制。\\n\\n**\\\\*本地验证**\\n\\n本地验证是局部验证模式，它也是点对点的流动性网络。每个节点本身都是“路由器”，路由器提供的是目标链的原生资产，不是衍生资产。此外，通过锁定和争议解决机制，路由器无法将用户资金取走。\\n\\n这种模式有Hop、Connext、Celer、Liquality等。可以看出，这种点对点的模式在安全性上表现不错。同时，其费用、速度和多链的连接扩展也还可以。不过，其主要缺点在于传递信息方面有局限，无法做到通用化。\\n\\n### 不同跨链桥的权衡\\n\\n根据上面的描述，总结来说，三种模式的跨链桥各有优缺点，存在不同的权衡。\\n\\n用第三方验证者模式构建跨链桥，好处是速度较快、费用较便宜、可以传递通用数据、可以更容易连接到更多链，用户体验较好。不过，这种模式的潜在不足在于其安全性方面的权衡。由于引入外部参与者的角色，用户的安全不仅取决于源链或目标链的安全性，也受制于桥的安全性。在跨链转移资产过程中，如果桥不安全，资产会存在风险。\\n\\n具体来说，中心化的托管，则受制于中心化机构的安全性；如果是验证者抵押模式，如果将协议代币作为抵押，则会涉及到该协议代币价值变化是否足以支撑用户的资产。这里还会涉及到预言机的安全性问题（为质押资产和用户资产提供喂价）。因此这种模式的跨链桥也会受制于预言机本身的安全性。这种模式需要对协议代币进行高超额抵押，它对其本身协议资产的要求较高，随着交易规模上升，其协议代币价值也上升，才能确保安全，这也需要权衡其资本效率。\\n\\n原生验证的模式，是无须信任的跨链桥，它不会有第三方验证者潜在的安全性权衡，可以传递各种通用的数据。跨链桥的安全跟其连接的区块链本身安全性相关。用户的资金安全不受桥本身的影响。如果有安全问题，也是链本身的问题。同时，也无须质押资产（资本效率较高）。不过，这种模式需要足够的活性，在多链连接性上也有不足，任何两条链之间，开发者都需要在源链和目标链上开发部署新的轻客户端智能合约。此外，它存在速度较慢和费用较高的短板。例如，遇到类似于依赖于欺诈证明的Optimistic模型（如Optimism），它会遭遇提取时间超级漫长的情况。\\n\\n本地验证模式，是流动性网络的模式，它采用局部验证，无须全局验证，因此其速度更快，费用更低。相对于来说，其资本效率高于外部验证模式，低于原生验证模式，同时，点对点的流动性网络的吞吐量也较大。当然，它也有不足，它在信息传递方面存在局限，无法做到通用化的信息传递。\\n\\n### 跨链桥的阶段性趋势\\n\\n跨链桥不同模式权衡不同。因此，在不同的阶段，根据用户对速度、费用、通用、安全性等方面的需求重点不同，不同模式的跨链桥可能会在不同阶段取得不同的成绩。比如，在早期，第三方验证者模式和点对点的流动性网络可能会因为在费用和速度等方面的体验优势，获得更快的发展速度。而随着人们对安全的重视，原生验证模式在后期也可能会逐步发展起来。\\n\\n随着时间的流逝，一些跨链桥会逐渐取得上风，并成为跨链桥市场的主要玩家。随着多链和多L2持续深入发展，跨链桥会成为未来多链和多L2时代的重要一环，不可或缺。\\n\\n \\n\\n \\n\\n# 5、\\n\\n<https://www.chainnews.com/articles/235417432798.htm>\\n\\n多层（链）结构在公链中成为众多公链的选择，例如多层架构和链下扩容方案。对于多层结构，层级之间的互操作性是实现可用的基础，更重要的是位于不同层的资产要达到统一的安全性。本文主要对目前流行的多层区块链结构进行分析，说明安全来源和互操作性问题。\\n\\n### 公链多层阶段的趋势\\n\\n公链及智能合约的诞生给区块链应用提供了载体，但应用场景也受限于公链。区块链大规模应用的障碍之一是可扩展性（Scalability），即区块链的性能。可扩展性会限制区块链交易吞吐量，导致拥堵和交易费上涨，以太坊就常常面临这个问题。扩容是解决网络拥堵的根本方案，多层结构就是实现扩容的主要方式之一。通过多层结构，数据可以在不同的网络分区并行处理，提高系统的处理效率。例如以太坊的 Layer 2 扩容方案，以计算过程放到链下进行，最终结果传回链上的方式，增强区块链的信息处理能力。公链多层结构有不同的表现方式，有平行链和中继链、分片、Layer 2、主网和子网等。\\n\\n公链中的数据和价值流转需要主网出块者达成共识，根据主网中的节点对多层结构是否感知，可以分为原生型多层结构和后天型多层结构两种模式。原生型多层结构的例子是 Polkadot，在设计之初就明确了信标链上的验证者负责维护网络安全以及平行链间的通信。在后天型多层结构中，主网对其他层级没有感知，不负责其他层上的任何功能，需要各层自行保证资产安全。无论是哪种类型的多层结构，它们的作用都是在保证资产安全和互操作性的前提下，实现整个系统的扩容，提高公链的处理效率。\\n\\n \\n\\n### 公链多层结构的资产安全和互操作性问题\\n\\n不同类型的公链结构在实现多层结构安全的方式有所不同，原生型多层结构需要上线时就对跨层机制和确保安全方面有完善的设计，在上线后很难改动。后天型多层结构会在主链的基础上进行改动，自行保证安全并且不需要主链参与，实施发现缺陷后可以及时更迭技术，更为灵活。在保证不同层间安全的前提下，多层结构的互操作是可用性的基础。与安全保证类似的，原生型多层结构中会预设跨层接口，而且互操作性的范围更广，后天型多层结构需要额外的桥连接才能实现跨片区的交互。\\n\\n#### 原生型多层结构\\n\\n**Polkadot**\\n\\nPolkadot 是一种异构多链结构，表现为中继链加平行链的方式，网络中共有三个角色，验证人（Validator）、提名人（Nominator）和收集人（Collator）。提名人可以将自己的 DOT 抵押给验证人，验证人负责维护中继链，中继链与多个平行链相连，每个平行链都会被分配一定数量的验证人，收集人负责收集平行链上的信息并生成验证证明发送给验证人。应用全部运行在平行链上，在网络需要扩容时，只需要增加平行链的数量。\\n\\n中继链负责维护平行链的安全以及之间的信息传输，分别通过验证证明和 XCMP （跨链信息传递）实现。平行链与中继链共享安全的同时需要共享状态，他们通过 BABE 和 GRANDPA 达成共识，只要超过三分之二的节点投票支持，区块就可以被认为是最终性的。为了保证网络安全，平行链中的信息会由验证人证实已经执行过后，才会记录到中继链上。收集人向负责的验证人提交候选区块和状态转换的验证证明，如果平行链区块是无效的，则会被验证人拒绝。最终是验证人维护整体网络安全，验证人数量越多网络越安全，与平行链上收集人的数量无关。转化状态证明的验证必须使用验证人储存在中继链上的已注册的状态转换函数。为了防止验证人和收集人共谋，验证人会每隔一段时间进行随机分配。\\n\\nXCMP 负责实现两条平行链的互操性，通过中继链上的验证者解决信息跨链问题。XCMP 由发送者和接收者组成，发送者的收集人会将跨链信息放入出站列中，负责的验证者验证后将其添加其进入接收者站列，接受者的收集人会看到这条信息后执行要求，并构建候选区块。接收链上的收集人最后将区块交给验证者，经由验证人验证消息已经被处理后，纳入中继链完成一次跨链。中继链既保证安全又协助跨链，因此 Polkadot 可以视为一个整体。\\n\\n \\n\\n**Cosmos**\\n\\nCosmos 通过 Hub 和 Zone 的形式来实现多层结构，网络通过增加 Zone 实现扩容，Zone 也可以成为 Hub 再连接上其他 Zone。相对于来说，Zone 就是网络中的分片， Zone 与 Zone 之间可以通过 IBC （区块链间通信）协议实现通信。\\n\\n每个 Zone 和 Hub 都是一个独立的区块链，网络的安全性由每条链自行维护，每条链上都设有独立的验证者节点，他们通过共识保障链上财产。Cosmos 网络多层结构交互独立，这有别于 Polkadot。在构建 Zone 时，Cosmos 提供了模块化的开发工具包 Cosmos SDK，允许开发者直接使用 Tendermint BFT 共识算法。Tendermint 的容错率为三分之一，并且在共识时可以实现同一区块高度上不会出现两个区块，避免了网络分叉以此实现安全。\\n\\nCosmos 中的 Zone 通过 IBC 机制进行信息交换，IBC 类似于互联网的 TCP 协议，目的是实现信息的可靠传输，需要共识算法的最终性防止双花，Tendermint 是最符合其要求的共识算法之一。在跨链实现前，双方需要了解对方的区块头信息，相当于保存了对方的轻节点。发送方在链上执行相关操作后，会生成相关证明传送给接收者。接收者验证后发送者的操作后，会执行下一步骤。\\n\\n \\n\\n#### 后天型多层结构\\n\\n对于后天型多层结构，原本就存在的区块链结构称为 Layer 1，后来在区块链本身上搭建的多层结构称为 Layer 2。并非所有链下方案都可以算作 Layer 2 层，否则中心化交易所也能算作多层结构。只有在机制设计上能完全保证用户资金安全的方案才可以归入 Layer 2 方案，例如状态通道、Plasma、Rollup 等。\\n\\n**状态通道**\\n\\n状态通道和闪电网络类似，将交易转移到通道中进行，等待通道内的交易结束后，再将资金转移到主链上进行清算。为了保证交易双方的资金安全，用户可以随时把资金撤走。在这种模式下，用户每进行一次资金转移都需要经过双方签名确认，最终版的签名代表了通道内的最终状态。用户需要凭借双方签名的证明提出提现请求，如果一方用户提交了请求，在规定时间内另一方拿出证明表明前者并非使用最新的交易结果，则提出质疑的一方获得所有资金（罚金机制）；否则按照提出方的结果进行分配。\\n\\n虽然状态通道的设置保证了资金安全，但影响了可用性和互操作性，而且状态通道内很难实现智能合约。用户无法对状态通道外的人转账，只能与通道内的人交互。通道只允许双方存在，如果想与其他人交易，只能再设立一个通道或者通过其他人作为路由节点进行交易。每条通道内都要锁定一定资金，这样的话影响全网的资金利用率，并且要求节点长期在线。\\n\\n**Plasma**\\n\\nPlasma 由智能合约和默克尔树结构组成，通过在以太坊主链（或者称根链）上创建一条或多条子链实现扩容。每个 Plasma 子链都是由独立的节点运营，他们可以通过不同于主链的共识算法验证和产出区块。运营者将交易数据以默克尔树的形式储存，并且将默克尔根发布到以太坊主链上，这样其他人能快速验证原数据是被储存在 Plasma 链中。\\n\\n用户在 Plasma 链上的进入和退出需要智能合约处理，这个智能合约包括了状态转换规则，用户可以随时与智能合约交互自行加入和退出 Plasma 链。因此在检测到 Plasma 链上运营者的作恶行为时，可以主动将资金退回到主链。在退出时，用户除了要向以太坊提交期交易记录的证明外，还需要提交保证金且有一定挑战期的限制。如果用户提交了错误的记录，需要有人在挑战期对其进行证明并扣掉他的押金。\\n\\n与状态通道不同，Plasma 允许将子链中的资产发送给不在子链上的用户，只需要用户在子链中提现，所以在 Plasma 链上的资产与主网没有互操作性。而且不同的 Plasma 链由不同智能合约设立，他们之间也很难实现资产跨链和互操作性。\\n\\n**ZK Rollup**\\n\\nRollup 是一种链下解决方案，主网中的计算放到链下进行，将可验证的结果传回链上，并且能够保证数据可得性。和 Plasma 一样，在链下交易前也需要用户将资金转入 Rollup 地址中。ZK Rollup 的验证者提交链下数据者需要附属一个证明，其内容的正确性可以快速得到主链验证。但有效性证明的成本与交易的复杂度有关，如果对智能合约的操作进行验证，成本会剧增。因此 ZK Rollup 很难支持通用智能合约，限制了它的使用场景。目前 ZK Rollup 的研究团队在开发适用在其上的标准智能合约。\\n\\nValidium 是一种类似于 ZK Rollup 的技术，同样通过有效性证明验证交易。不同的是 Validium 的数据储存在链下，需要运营者负责数据储存。运营者的存在让 Validium 更中心化，但有助于扩展链下效率，因此 Validium 更适用于低信任环境的高频交易场景。\\n\\nRollup 是主链上扩展出的 Layer 2 层，目前只能实现跨层资产转移，通过验证证明的方式保证 Layer 2 层的资金安全。由于资产跨到了 Layer 2 层，所以很难实现跨层的智能合约调用。不同的 Rollup 之间也很难实现互操作，目前的跨链方案多为设立双边资金池的方式。\\n\\n**Optimism Rollup**\\n\\nOptimism Rollup 与 ZK Rollup 同样采取了 Rollup 的方式，面临相同的互操作问题。与 ZK Rollup 的验证证明方式不同，Optimism 在保证资金安全上参考了 Plasma 模式，使用的是欺诈证明。链上信息发布者需要提交押金，并等待挑战期。其他人可以在链上提交欺诈证明揭露发布者发布了错误的数据，如果属实则会对交易进行回滚，并没收发布者的押金。挑战期结束前没有人挑战成功的话，就可以认为数据是正确的。即将上线的 Arbitrum Rollup 是 Optimistic Rollup 的一个变种，也设有挑战期的限制。如果有人认为数据是有误的，则要缴纳保证金并提交证明，链上合约会对其进行仲裁。他们之间最大的差异在于上传到链上的数据有所区别，在解决争端时的链上成本会不同。Optimistic Rollup 会在链上执行一次完整的合约调用，消耗较高成本，Arbitrum Rollup 缩小其中的争议范围，降低了链上解决争议的成本。\\n\\n### 多层结构的区别与联系\\n\\n很多公链都呈现出多层结构，根据区块链上验证者对其他层是否感知，它们在实现方式上有所不同。对于原生型多层结构来说，除了资产之外，在虚拟机存在的情况下，还可以在不同层中实现智能合约的调用。在多层结构中实现更多的互操作性有利于扩大生态规模，实现模块化的功能，节约开发成本，并且层级间的互通能够提高资金利用率。后天型多层结构中主链验证者不会响应 Layer 2 层上的请求，不过 Layer 2 层在非必要情况下也不会与主链进行交互，因为会占用主链资源，影响 Layer 2 的扩容效果。由于没有类似于原生型多层结构中的中继者或达成统一协议，在 Layer 2 之间实现互操作性是非常困难的。\\n\\n后天型多层结构在资金安全问题上会涉及到更复杂的问题，需要用户资产在链下能够实现和主链相同的安全性。在目前 Layer 2 的设计方案中，都保证了无论 Layer 2 上是否存在验证者，用户在链下的资产都可以随时提回链上，需要通过各种机制设计保证用户资产的安全性。下表是对不同多层结构在互操作性、跨层方式和层中角色方面异同的总结。\\n\\n### 思考与总结\\n\\n多层结构通常是公链实现扩容的方式，将原本在一条区块链上交易的信息分散到多层中，通过并行处理提高效率。多层结构有两种表现方式，原生型和后天型，他们在验证者对多层结构的感知上有所区别。\\n\\n在原生��和后天型多层结构中，信息通过不同的方式进行跨层传递。原生型多层结构例如 Polkadot 和 Cosmos 分别通过中继链和协议的方式实现跨层，对多层结构有严格的限制，Polkadot 要求平行链的结果由中继链共识决定，Cosmos 要求使用 IBC 协议的双方达成一致的共识安全，例如双方都使用 Tendermint 算法。Polkadot 中继链的验证者负责平行链的信息传递和资产安全，可以将多层视为整体。Cosmos 的多层结构则较为独立，每层均有独立的验证者。后天型多层结构只能通过资产映射的方式进行跨层，映射资产的安全性源自用户可以自行加入和退出 Layer 2，保证用户掌握控制权。为了实现链下交易与主链同等的安全性，不同 Layer 2 方案设计了各种机制。例如状态通道中需要用户交易后更新签名状态，Plasma 将原始数据的默克尔根发布在主网上，Rollup 将压缩后的交易传回主网，交易方或第三方可以直接验证。\\n\\n在更广义的互操作性上，原生型多层结构要优于后天型，因为他们可以实现信息流转及智能合约的调用。而后天型多层结构中由于信息源自链下，主链上验证者没有感知，在 Layer 2 和验证者之间不会存在直接交互。对于不同 Layer 2 而言，由于都是从主链上延展出的结构，跨层互操作性的难度不亚于两条异构链之间互操作。目前实现的资产跨层是双边资金池的方式，距离真正的互操作性还差很远。总之在区块链应用大规模部署前，多层结构依然是公链的趋势，接下来还将在互操作性以及生态扩展方面进行完善。\\n\\n \\n\\n \\n\\n# 6、\\n\\n<https://www.chainnews.com/articles/252138338927.htm>\\n\\n \\n\\n# 7、简析区块链桥的工作方式及四种类型\\n\\n<https://news.huoxing24.com/20211029164645262100.html>\\n\\n近10年前，比特币为区块链奠定了基础。十多年后的今天，有100多个活跃的区块链公共网络存在。\\n\\n然而，当构建在不同区块链上的去中心化应用程序无法相互交互时，这种增长也导致了一个根本缺陷。在一个网络上设计的应用程序只能在该系统内工作，这导致了广泛采用的被限制。在目前的状态下，生态系统通过给创新设置边界来限制技术进步。\\n\\n随着网络的数量可能进一步增加，建立连接这些网络的方法的需求也将增加。统一区块链格局的尝试之一是“区块链桥”。\\n\\n### 区块链桥是什么?\\n\\n区块链桥是一个帮助在两个或多个区块链网络之间传递信息的系统。信息可以包括资产、合约调用、证明或任意数据。桥接使不同网络之间能够互操作。\\n\\n在去中心化金融(DeFi)空间中，用户可以借助区块链桥接器，在不影响主链优势的情况下访问多个区块链网络的特权。这支持各种用例，如跨链抵押、改进网络可扩展性和减少交易费用。\\n\\n### 区块链桥是如何工作的?\\n\\n大多数区块链桥都是建立在一种“先造后烧”的协议上。当一个代币从一个网络传输到另一个网络时，协议销毁该代币并在另一个网络上铸造一个类似的代币。然而，除了传输代币外，桥还有多种功能。区块链桥能够交换任何类型的数据，包括智能合约单元、去中心化标识符和链下信息。\\n\\n有不同类型的区块链桥，并大致分为中心化桥和去中心化桥。联邦桥的运作依赖于中央权威机构。它们的工作方式类似于被许可的或私有的区块链网络。要成为联邦区块链桥梁的一部分，人们需要满足特定的标准。被选中的个人将监督区块链桥的交易。\\n\\n另一方面，无信任的桥是由去中心化的代理网络来操作的。任何人都可以加入去信任的区块链桥来监督交易。代理会因为正确验证桥接交易的努力而受到激励。这个过程类似于比特币或以太坊区块链网络中的节点功能。\\n\\n### 区块链桥的类型\\n\\n下面将讨论四种不同类型的区块链桥。\\n\\n**特定资产的区块链桥：**这种桥的唯一目的是从外部网络提供对特定资产的访问。通常，这些资产是打包资产，它们以托管或非托管的方式完全抵押。例如，比特币是一种常见的资产，通过以太坊上的7个不同的桥连接到其他链。虽然这些桥很简单，但它们的功能有限，需要重新实现。资产的例子包括打包的BTC和Arweave。\\n\\n**特定链的区块链桥：**特定链的桥支持在源链上锁定和解锁代币以及在目标链上创建打包资产的简单操作。它们使操作更快，也不那么复杂。但它们也无法扩展到更广泛的生态系统。特定链的区块链桥的最佳例子是Polygon的PoS桥。用户只能通过PoS桥将资产从以太坊转移到Polygon，反之亦然。Orbiter Finance也在逐步实现各链之间的转账。\\n\\n**特定于应用程序的区块链桥：**这些桥为两个或多个区块链网络提供了应用程序。特定于应用程序的区块链桥在每个区块链上都有更轻和模块化的“适配器”，而不是在每个区块链上都有单独的实例。这种桥具有网络效应，因为适配器可以访问所有连接的网络。特定于应用程序的桥的一个缺点是很难将功能扩展到其他应用程序。例如，为交换应用程序构建的桥不能向其用户提供借贷应用程序。\\n\\n**广义区块链桥：**这些协议是为跨多个区块链网络交换信息而设计的。这个设计将会有一个强大的网络效应，因为一个项目的单一整合使它可以接近桥的整个生态系统。然而，这种桥的主要缺点是，有时为了可扩展的目的，它们会危及安全性和去中心化。这可能会对整个生态系统造成意想不到的后果。IBC是用于在不同区块链之间发送消息的通用桥的一个例子。\\n\\n### 总结\\n\\n随着各个区块链网络的发展，它们将在不同方面发展自己独特的优势，如安全性、更快的收益、更便宜的交易、更多的隐私和特定的资源供应。区块链桥非常重要，因为它允许用户访问多个平台和协议，而无需选择网络。它们可以相互操作，协作构建创新产品。\\n\\n互操作性和开放协作对于构建一个开放、去中心化的网络至关重要。区块链桥提供了一种很有前途的方式来统一整个生态系统，以促进更大的创新和技术相关性。通过合作，不同的区块链网络可以帮助我们走向下一代去中心化网络。\\n\\n \\n\\n# 8、Paka Labs 万字报告（2/4）| 将孤岛连成大陆：BTC 锚定资产与以太坊跨层快速通道\\n\\n<https://www.chainnews.com/articles/897040586435.htm>\\n\\n在 [第一篇](https://www.chainnews.com/articles/252138338927.htm) 中，我们将跨链技术划分为原子交换、见证人、轻节点式侧链、中继链、共享验证人五大类别，并从跨链事务原子性、跨链消息验证、资产托管、多链适配四个维度分别进行了拆解和阐述，建立了跨链技术的认知框架和全景俯瞰。\\n\\n从本篇开始，我们将对跨链技术的应用形态进行举例。本篇将着眼于「BTC 锚定资产」和「以太坊跨层快速资产桥」两大应用形态，结合项目举例，进行纵深分析。\\n\\n \\n\\n### BTC 锚定资产\\n\\nBTC 是区块链世界的奠基石，BTC 因其在区块链领域的特殊地位，以及其架构中蕴含的深刻思想，聚集了很多坚定的信仰者。直至如今，BTC 在加密生态中的市场价值、流动价值、用户基础，都具有绝对的优势地位。因此，新生的公链，往往有极大的动力将 BTC 引入，为自身的生态注入强大的活力。于是，产生了众多的 BTC 锚定资产。\\n\\nBTC 锚定资产的基本原理是：\\n\\n* Lock-Mint：在 BTC 链上锁定 BTC，目标链上铸造锚定资产\\n* Burn-Unlock：在目标链上销毁锚定资产，在 BTC 链上释放 BTC\\n\\n由于 BTC 链不具备图灵完备性，在 BTC 链上锁定 BTC 的环节，需要通过一个托管账户来完成，该托管账户由见证人来管理；另外，BTC 链上无法构筑目标链的轻节点合约，当 Burn 交易发生时，必须由见证人手动去完成 Unlock 环节。\\n\\n目标链一般而言是具有图灵完备性的，所以在 Lock-Mint 环节上，可以有不同的选择。可以选择在目标链上部署 BTC 轻节点合约，当用户把 Lock 交易传递给轻节点合约时，轻节点合约验证并执行 Mint 动作，也可以选择依旧靠见证人验证 Lock 交易和触发 Mint 。一般而言，项目方倾向于选择前者，但如果目标链是 Gas 费昂贵的以太坊，项目方更倾向于选择后者。\\n\\nBTC 锚定资产设计的关键点在于见证人机制，不同的项目在见证人机制上做了不同的设计，整体上分为**信任式（无须抵押）和非信任式（需要抵押）**两大类。\\n\\n \\n\\n#### 信任式 BTC 锚定资产\\n\\n信任式 BTC 锚定资产的见证人不需要抵押保证金，这类项目往往设计简洁，费用低廉，因此占据了巨大的市场份额，他们靠着长期积累的链下商誉和公开托管地址接受监督来获得社区的信任。需要注意的是，信任式的 BTC 锚定资产的见证人不一定是单个主体，也有可能是多个主体组成的联盟。\\n\\n**RBTC/LBTC**\\n\\n最早 BTC 锚定资产，是发行于 BTC 的侧链上的。Rootstock Labs 于 2018 年 1 月开发上线的 RSK 是 BTC 的第一条侧链，紧随其后，2018 年 9 月，Blockstream 开发的 BTC 侧链 Liquid Network 上线。两者都在侧链上创建了 BTC 锚定资产，分别是 sBTC(SmartBTC) 与 LBTC(Liquid BTC) ，后来 Rootstock 在 2019 年更新其白皮书时，将 sBTC 更名为了 RBTC(RSK BTC) 。\\n\\nRSK 是采用 Solidoty 语言编写的兼容 EVM 的智能合约平台，旨在赋予 BTC 以可编程性。RSK 使用 DECOR+ + (中本聪共识的独特变体)，通过「合并挖矿」机制，鼓励 BTC 矿工来兼任 RSK 节点，使 RSK 达到很高的安全性。\\n\\nRBTC 是按照 1:1 的比例锚定到 BTC 的，RBTC 的铸造和赎回过程依赖被称为 PowPeg 联盟的见证人集来实现。\\n\\n* RBTC 的铸造过程如下：\\n\\n用户将 BTC 转入到由 RSK PowPeg 联盟控制的多签地址中，到达该地址的 BTC 被锁定，该转入交易的 SPV 证明被 PoWPeg 联盟发送到 RSK 侧链上的桥接合约（Bridge Contract），一旦桥接合约获得此证明，它就会将相同金额的 RBTC 发送给用户指定的 RSK 侧链地址。该过程被称为 Peg-in 。\\n\\n**Peg-In 过程是非信任式的，并不需要依赖见证人。尽管 PoWPeg 联盟要负责向桥接合约递送 SPV 证明。但该过程实际上可以由任何人进行，当 PoWPeg 联盟递送不及时时，用户也可以自己去递送。**\\n\\n* BTC 的赎回过程如下：\\n\\n用户将 RBTC 发送到 RSK 区块链上的桥接合约地址，由于 BTC 链无法验证 RSK 链上的交易，我们需要 RSK PowPeg 联盟协助签署 BTC 链上的赎回交易，当 15 个联盟成员，有 11 个完成签名时，即可从多签地址中向用户转出相同金额的 BTC，此过程被称为 Peg-Out 。\\n\\n**Peg-Out 过程是信任式的，我们需要相信 PowPeg 联盟不会串谋签署错误交易，盗取托管资产。**\\n\\nPoWPeg 联盟由 15 家知名的、信誉良好的、具有高安全标准和节点维护技术能力的区块链公司组成。现有联盟成员分布在多元化的地理单元和司法管辖区，他们通过 11-of-15 签名来管理成员的新增和清退。除此之外，RSK Labs 已经制定了联盟成员的详细章程，包括安全政策、备份要求等。\\n\\n为了保证安全，避免区块链可能的重组带来的损失，RSK 采取了非常保守的最终性原则。Peg-In 过程大概需要 14 个小时（100 个 BTC 区块），Peg-Out 过程大约需要 33 个小时（4000 个 RSK 区块）。鉴于 Peg-In 和 Peg-Out 操作需要较长的等待时间，许多机构用户（例如交易所）会直接铸造好现成的 RBTC，普通用户可以直接向他们获取。\\n\\nLiquid 与 RSK 采用了大体相同的设计，同样是 M-of-N 联盟多签式的资产托管方案，同样采用了「非信任式 Peg-In + 信任式 Peg_out」的非对称方案。\\n\\n不同的是，RSK 更侧重赋予 BTC 可编程性，而 Liquid 更侧重于提供一个 BTC 的快速交易网络。在这样的指导思想下，Liquid 被设计为了联盟链，负责资产托管的联盟实际上也是 Liqiud Network 的节点。此外，Liquid Network 支持隐私交易，通过 Liduid Network 交易，可以做到隐藏交易金额和资产类型。\\n\\nRSK 和 Liquid 都曾是天王级的项目，受到万众期待，但后来由于以太坊及其 DeFi 生态的崛起，RBTC 和 LBTC 的光芒被后来居上的 WBTC 所掩盖。\\n\\n> [RBTC 文档](https://developers.rsk.co/)\\n\\n> [LBTC 介绍文档](https://help.blockstream.com/hc/en-us/sections/900000129806-Understanding-Liquid)\\n\\n \\n\\n**WBTC ( Wrapped BTC )**\\n\\nWBTC 是 Wrapped BTC 的简称，2019 年 1 月由 BitGo 和 Kyber Network 联合发起。WBTC 是当前铸造量最大的 BTC 锚定资产，锁仓的 BTC 超过 200 万枚，占到了 BTC 锚定资产份额的 80% 以上，是无可辩驳的王者。如今 WBTC 已经有 WBTC on Etheruem，WBTC on Tron 两种格式。WBTC 通过 WBTC DAO 成员组成的见证人集来管理资产兑换的过程。\\n\\nWBTC 对见证人的角色进行了拆分，分为了托管商（ Custodian ）和兑换商 ( Merchant )。兑换商是介于用户和托管商之间的一个中介角色，将用户和托管商隔绝开来，用户与兑换商交互，兑换商和托管商交互。\\n\\n*图片源于 WBTC 白皮书*\\n\\n理论上，兑换商和托管商都不止有一个。每个兑换商和每个托管商都管理着一个独立控制的托管地址。无论是兑换商，和还是托管商，都必须是 WBTC DAO 的成员，而 WBTC DAO 成员的新增和清退则由现有成员通过 M-of-N 多签合约来进行许可式管理，但不一定所有的 WBTC DAO 成员都会成为兑换商或托管商。\\n\\n* 兑换商申请铸造 WBTC 的过程如下：\\n\\n兑换商发起一个 X 个 WBTC 的铸造请求，并将 X 个 BTC 发送到托管商的托管地址，托管商收到 BTC，等待 6 个 BTC 区块（ 1 小时左右）确认后，创建 WBTC 铸造交易，向兑换商发放 X 个 WBTC。\\n\\n* 兑换商申请赎回 BTC 的过程如下：\\n\\n兑换商发起一个 Burn 交易，销毁 X 个 WBTC （该交易是一笔多签交易，需要兑换商和托管商都签名才能正式完成），托管商等待 25 个以太坊区块（ 6 分钟左右）确认后，将 X 个 BTC 释放到兑换商的地址，最后托管商签名 Burn 交易，使得销毁正式完成。\\n\\n**用户无权申请铸造和赎回，只能向兑换商买入或卖出 WBTC，托管商也无权直接服务终端用户，只能服务于兑换商。**用户可以自由选择信任的兑换商，至于兑换商如何选择托管商，机制尚不明确，当前 WBTC 只有 BitGo 一家托管商。\\n\\n用户可以用 BTC 和兑换商通过基于哈希时间锁的原子交易换取 WBTC，也可以用同样的方式将 WBTC 换回 BTC。\\n\\n通过托管人和兑换商的角色拆分，用户体验被大幅改善了，如果允许用户和托管人直接互动，用户将不得不忍受 Mint 和 Burn 的缓慢过程，但兑换商却可以通过提前储备 WBTC 和 BTC，让用户的兑换能够快速完成。\\n\\n尽管 WBTC 相对中心化，还要求用户 KYC ，但它却是最成功的 BTC 锚定资产。Paka Labs 认为，有三个重要的原因可以给我们启示：\\n\\n其一：借鉴前人经验，将复杂性封装在兑换商和托管商之间，给用户简洁快速的体验；其二：WBTC 高度重视兑换商的商务拓展，兑换商实际上成为了 WBTC 的经销商，WBTC 成功构筑了商业利益链条；其三：WBTC 借助了以太坊的势能，并抢先拓展其在 DeFi 中的应用，反过来促进了 WBTC 的铸造需求。\\n\\n> [WBTC 白皮书](https://wbtc.network/assets/wrapped-tokens-whitepaper.pdf)\\n\\n \\n\\n**BTCB/HBTC**\\n\\nBTCB 是 Bitcoin BEP2 的缩写，是 Binance Smart Chain 发行的 BTC 锚定资产，托管了大约 10 万枚左右的 BTC，HBTC 则是 Huobi 发行的 BTC 锚定资产，托管了大约 4 万枚左右的 BTC。两者分别是铸造量 Top2 和 Top4 的 BTC 锚定资产。（ Top3 为 RenBTC ）\\n\\n两者都是中心化机构依托自身庞大的用户群体和长期经营的商誉而发行，拥有不错的用户体验，其技术路线是极端中心化的方式，由发行机构直接作为见证人，负责资产的托管和跨链事务的验证。\\n\\n \\n\\n**XBTC （ChainX）**\\n\\nXBTC 是跨链项目 ChainX 于 2018 年 5 月推出的 BTC 锚定资产。与 RBTC/LBTC 类似，ChainX 本身也被开发为了 BTC 的一条侧链，并采用了「非信任式 Peg-In + 信任式 Peg-Out」的非对称设计。\\n\\nChainX 的优势是基于 Substrate 框架开发，未来有机会成为波卡的平行链，将 XBTC 带到波卡生态。**ChainX 在链上使用 WASM 技术首次实现 BTC 轻节点，支持 BTC 交易的 SPV 验证，使得在 XBTC 铸造环节实现了非信任式的安全性。**\\n\\n在 BTC 赎回环节，则由多位「信托」通过链上多数派投票完成销毁-解锁流程。一共会有 15 位信托，他们通过多签来管理托管地址。第一批信托将从 ChainX 测试网的验证人中选拔产生，后续将通过「禅让制」进行更替。ChainX 的托管地址有 2 个，一个冷钱包地址，一个是热钱包地址，冷热分离，提高安全性，签名记录公开透明，接受社区监督。\\n\\nChainX 并不满足于当前的信任式的设计。ChainX 宣称，其资产托管方案还会持续不断演进，上述是 1.0 版本，后续将有 2.0、3.0、4.0 版本的资产托管方案，一步步走向去中心化。\\n\\n2\\\\.0 版本：采用 XCLAIM 机制，启用分布式的托管方案。\\n\\n3\\\\.0 版本：将账户控制技术由多签改为私钥分片。\\n\\n4\\\\.0 版本：让用户掌握托管账户的一个特殊私钥分片，该分片具有一票否决权。通过该设计提高资产托管安全性，让见证人免于超额抵押。\\n\\n> [ChainX 白皮书](https://www.chainx.org/static/ChainXWhitePaper-901b6b70f654c8f8824686a2277971c0.pdf)\\n\\n####  \\n\\n#### 非信任式 BTC 锚定资产\\n\\n尽管信任式 BTC 锚定资产在成本和体验上有优势，但业界对非信任式方案的探索更有热情，出现了很多具有独创特色的项目。这些项目在秉持去非信任理念的基础上，对见证人的准入机制、分组机制、抵押机制做了创新。\\n\\n**tBTC：早期的探索者**\\n\\ntBTC 是一个发行于以太坊平台上的 BTC 映射资产，是由 Keep Network 等多个团队支持的开源项目。tBTC 发行于 2020 年 5 月，是以太坊上第一个非信任式的 BTC 锚定资产项目。\\n\\ntBTC 由签名人责管理托管账户，签名人是自由准入的，但需要用 150% 价值的 ETH 进行超额抵押。由于用 ETH 作超额抵押，所以会涉及到预言机喂价和抵押债仓清算的问题，tBTC 直接参考了 MakerDAO 的机制，并通过 MakerDAO 的预言机喂价。\\n\\ntBTC 的签名人被随机分为多个 3 人小组，每个小组，通过 3-of-3 多签来管理一个托管地址。每个托管地址只托管 1 个 BTC 。\\n\\n可以说，tBTC 是一个非常极客化的开放系统，但设计上高度复杂，易用性上极其反人性。首先，用户一次只能铸造 1 个 tBTC，如果要铸造多个，则需分多次申请，而且用户无法铸造小于 1 个 tBTC，其次，多签账户的签名人更替是很麻烦的，所以 tBTC 没有设计签名人的灵活更替机制 ，为了让签名人能够退出，tBTC 系统要求用户每 6 个月必须赎回一次 BTC。\\n\\ntBTC 作为以太坊上第一个去中心化的，无须信任假设的 BTC 锚定资产，具有开创意义。但由于其糟糕的用户体验，tBTC 并没有获得成功。\\n\\n> [tBTC 白皮书](https://docs.keep.network/tbtc/index.pdf)\\n\\n \\n\\n**renBTC ( Ren Protocol ) ：MPC 网络**\\n\\nrenBTC 也是在 2020 年 5 月发行在以太坊上的 BTC 锚定资产。\\n\\nRenBTC 上的见证人，被称为暗节点（Dark Nodes），众多的暗节点，通过 BFT 共识机制组成一个 MPC （安全多方计算）网络。Ren Protocol 将该网络抽象的认知为了一个 Ren 虚拟机（RenVM）。\\n\\n**暗节点按照 100 个为一组，分成若干组，每 100 个暗节点组成一个 RenVM 的分区，负责管理一个私钥分片账户，托管一部分 BTC ，但分组不是固定的，每天会重新洗牌一次。**暗节点可以自由加入，也可以随时退出，并不需要像 tBTC 那样，在托管资产被赎回时才能退出。暗节点之所以「暗」，是因为它隐藏在 RenVM 之下，RenVM 作为一个抽象的整体，承担见证人的职能，与用户交互，但在实质上，还是由暗节点执行相关操作。由于 RenVM 是 BFT 共识机制，我们可以认为每个分区中的 100 个暗节点，只需有 67 个及以上签名（2/3），即可对托管资产进行操作。\\n\\n暗节点需要在 Ren Protocol 的以太坊合约中质押 100,000 个 REN 通证才能工作，直到退出暗节点时才能赎回。如果暗节点试图盗取资产，质押的 REN 将被 Slash。暗节点质押 REN 的数量，将随着网络中托管的 BTC 数量而调整，以维持一个安全的超额抵押率，该调整是通过治理完成的，不会用到预言机。\\n\\n值得一提的是，renBTC 和 Acala 之间建立了合作关系，Ren Protocol 支持在 Acala 上铸造 renBTC，Acala 是一个波卡生态的 DeFi 平台，其测试网 Karura 已经通过竞拍，获得了 Kusama 的平行链插槽。未来 renBTC 将有可能通过 Acala 流入波卡生态。\\n\\nRen Protocol 除了支持用户铸造 RenBTC on Ethereum 和 RenBTC on Acala 之外，还支持用户在这两者之间转换。假设用户要将 RenBTC on Ethereum 转换为 RenBTC on Acala，用户并不需要将 RenBTC on Ethereum 赎回为 BTC，再去铸造 RenBTC on Acala，而是直接可以**通过 Burn-Mint 逻辑**直接转化。这样的设计节约了操作步骤，也节约了转化费用，有效的提高了用户体验。\\n\\nrenBTC 是 Ren Protocol 支持的映射资产之一，Ren Protocol 还支持 renZEC，renBCH，机制与 renBTC 大同小异。\\n\\n> renBTC 介绍文档：\\n\\n> [RenVM](https://github.com/renproject/ren/wiki)\\n\\n> [DarkNodes](https://docs.renproject.io/darknodes/)\\n\\n \\n\\n**eBTC(DeCus) 重叠分组机制**\\n\\neBTC 是由 DeCus 在以太坊上发行的 BTC 锚定资产，eBTC 中的签名人被称为 Keeper，Keeper 可以无经许可，自由出入网络。当用户需要铸造 eBTC 或者赎回 BTC 时，由系统分配的一个 3 名 Keeper 组成的 Keeper Group 来处理。其过程如下图：\\n\\n每 3 个 Keeper 负责组成一个小组，管理一个 2/3 门限的托管地址。当前阶段，Keepers 是通过多签来管理托管账户，首批 Keeper 将通过拍卖活动产生，Keeper 无法自由退出，随后会迭代为由私钥分片技术控制的账户，Keeper 将可以自由进出。\\n\\neBTC 的最大特点是其独有的「重叠分组」机制。Decus 宣称：通过该机制，仅需低于 50% 的抵押率，即可实现相当于 100% 抵押率的安全性。\\n\\n假设有 6 个 Keeper，被分成两个 3 人小组分别负责管理 50% 的资产，这两组分别是 ABC 组，和 CDE 组，假设有 2 个恶意 Keeper ，那么这 2 个恶意 Keeper 被分到一组的概率是 40% ，**所能威胁的托管资产比例是 50%**；\\n\\n假设 6 个 Keeper，采用重叠分组方式分成多个三人小组，则可以分为 ABC、ABD、BCE…20 个组，每个组负责管理 5% 的资产。如果有两个恶意 Keeper ，他们被分到同一个组的概率是 100% ，其中两人同在一组的组有 4 个，所能威胁的托管资产比例是 20% 。\\n\\n我们发现， 2 个恶意 Keeper 的「危害概率 \\\\*威胁资产比例」是恒定的，没有被改变，**重叠分组的本质是增加了危害概率，而降低了威胁资产比例。**然而，这个改变非同寻常，Keeper 只需质押 20% 的抵押金，即可保障系统的安全。因为有抵押金的存在，危害概率即便很大，恶意 Keeper 也不敢妄为。\\n\\n以上是以 6 个 Keeper 中有 2 个恶意 Keeper 为例，Decus 计划招募 121 个 Keeper ，将产生 C(121,3)=287980 个 Keeper Group ，假设恶意 Keeper 的数量为 m ，那么他们可以破坏的组数为 (121-m)\\\\*C(m,2)+C(m,3)，当 m 为 10 时，可以破坏的组数为 5115 个，占总组数的比例约为 1.78% ，这意味着所能威胁的资产比例只有 1.78% ，其他 m 值的情况，我们也可以依次计算，并与常规分组方案对比：\\n\\n%% 重叠分组方案与常规分组方案安全抵押率对照\\n\\n由表中数值可知，**重叠分组方案相比常规分组方案，始终具有更低的安全抵押率。但我们也发现，Decus 所宣称的低于 50% 的安全抵押率，是有假设条件的**：只有恶意 Keeper 数占比不超过一半的情况下，安全的抵押比例才不用超过 50% 。\\n\\n* [eBTC 介绍文档](https://docs.decus.io/mechanism)\\n\\n \\n\\n**InterBTC 独立控制地址矩阵**\\n\\n2016 年，波卡在白皮书中提出要和 BTC 建立互操作关系，2020 年 1 月，Web Foundation 委托 Interlay 以 XCLAIM 为基础，设计并开发一个一款在波卡上的 BTC 锚定资产。因此，Interlay 开发的 PolkaBTC，可以被认为有波卡官方背景。后来，PolkaBTC 被更名为 InterBTC。\\n\\nInterlay 使用 Rust 语言和 Substrate 框架开发了一条 BTC-Parachain，计划在未来作为平行链接入波卡生态。2021 年 10 月，Interlay 的先行网络 Kintsugi 已经拍到 Kusama 插槽，并接入了 Kusama 网络。\\n\\n与 ChainX 相似，BTC-Parachain 上部署了 BTC 的轻节点，使得 BTC-Parachain 具备了验证 BTC 链上交易的能力。在 InterBTC 系统中，托管账户是众多独立控制的 BTC 账户，这些账户被称为 Vaults (金库)，见证人被称为 Vault 管理人。任何主体都可以通过质押 DOT 成为 Vault 管理人，质押 DOT 的金额与所能托管的 BTC 最大额度成正比。用户向 Vault 中转账 BTC ，BTC-Parachain 验证后，给用户发放 InterBTC。当用户需要赎回 BTC 时，BTC-Parachian 销毁 InterBTC ，Vault 管理人向用户返还 BTC 。尽管每个 Vault 都是一个独立控制账户，但 150% 的超额抵押可以保障这些 Vault 管理人不作恶。\\n\\n用户铸造和赎回，需要支付 DOT 作为手续费，费用将给到 Vaults 管理人作为激励。如果 Vault 管理人试图盗窃托管的 BTC，质押的 DOT 将被没收，赔偿给受损失的用户。超额抵押机制的存在要求系统配置预言机喂价，但由于 InterBTC 还未上线，预言机的供应商还未确定。\\n\\nVaults 管理人除了负责管理托管账户，还要承担 Relayer 的职能，负责将 BTC 链的区块头传输到 BTC-Parachain 。\\n\\n**InterBTC 系统允许用户选择自己建立 Vault ，来托管自己的 BTC ，对于需要将大额 BTC 转化为 InterBTC 的大型流动性提供商，这个功能十分必要。**\\n\\n尽管介绍文档中没有提及，但依照我们的理解，Vaults 管理人应该是无法随时退出的，需要等到托管的 BTC 被赎回时才能退出。不过，我们可以做一个猜想：如果支持 Vault 管理人出售自己的 Vault 会怎么样？\\n\\n> [InterBTC 介绍文档](https://docs.interlay.io/#/start/overview)\\n\\n####  \\n\\n#### 关于 BTC 锚定资产的小结\\n\\n以上我们介绍了 8 个具有代表性的 BTC 锚定资产，信任式的锚定资产具有经济效率优势，整体上也更加成功，非信任式锚定资产更符合区块链精神，但目前还处于探索中：tBTC 作出了最早的尝试；随后 RenBTC 通过采用私钥分片机制解决了见证人的退出机制问题，并用定期刷新的分组来提高安全度；eBTC 在抵押不可避免的情况，通过改变分组方式，降低安全抵押率，InterBTC 则着力于提高见证人的分布程度，为用户提供更多选择。\\n\\n整体上，非信任式 BTC 锚定资产，还有很大的创新空间，什么样的方案是最佳实践，也有待时间的验证。\\n\\n下表是对 5.1.1-5.1.2 中所提到的 BTC 锚定资产的一个特征对照表：\\n\\n [此处](https://docs.google.com/spreadsheets/d/1wCPAQ-dDs2KlUvz0n3RaP1d7x8hclQUUvaENdYCQfuE/) 复制链接查看大图。\\n\\n###  \\n\\n### 以太坊跨层快速资产桥\\n\\n如果说 BTC 是最成功的数字资产，那么以太坊则是最成功的智能合约平台。无论从资产规模，用户规模，还是生态规模上讲，以太坊无疑都是对 Dapp 的部署有最大吸引力的公链。Solidity 语言和 EVM 环境也成为区块链开发人员最习惯的开发工具。然而，以太坊的生态容纳量似乎已经达到瓶颈，交易缓慢、Gas 费高企成为阻碍其继续发展的核心限制因素。\\n\\n尽管以太坊 2.0 的分片方案已经在计划中，但实际落地尚需时日，于是各种扩容方案先后被提出来，包括侧链、闪电网络、Plasma、Truebit，状态通道、Rollup。其中，侧链虽然可以解决扩容问题，但其安全性是独立负责的，不能继承以太坊的安全性，所以侧链被认为是一个新的 Layer1，其余的扩容方案则被认为是 Layer2。\\n\\n为了行文简洁，后文将把 Layer1 和 Layer2 分别简写为 L1 和 L2。\\n\\nL2 的实现形式历经演化，最后 Rollup 成为了主力的扩容技术。Rollup 方案在 L1 级别安全性、数据可用性、可扩展性，用户体验等方面的综合表现最好，以太坊生态的大多数的扩容网络都选择了采用 Rollup 方案构建。后文所称的 L2 ，将特指 Rollup 二层网络。\\n\\nRollup 的基本路线是将二层网络的状态转换信息全部提交到 L1 ，但同时通过提供有效性证明或者欺诈证明的方式，让 L1 可以实现「懒惰验证」（仅仅验证欺诈证明或有效性证明即可等效于验证 L2 提交的所有状态转换），从而节约 L1 的计算资源。\\n\\n根据 Rollup 网络提交给 L1 的证明形式，Rollup 网络被分为两类，一类是通过挑战期生成欺诈证明的 Optimistic Rollup （ 后文简称 Op Rollup ） ，一类是采用零知识证明技术生成有效性证明的 Zk Rollup。\\n\\n####  \\n\\n#### 为什么需要跨层快速资产桥\\n\\n由于挑战期的存在，Op Rollup 有一个缺陷，那就是用户从 L2 向 L1 的提款周期较长，需要 7 天左右，ZK Rollup 则由于生成零知识证明的计算复杂度较大，用户提款时，也有大约 1 个小时左右的等待时间。然而，目前应用较广的是 Op Rollup ，因为 Op Rollup 对 EVM 的兼容较好，便于迁移 L1 Dapp，ZK Rollup 兼容 EVM 的难度较大，需要做大量的技术研究工作，目前尚未实现。另外，即使 ZK Rollup 未来成功做到兼容 EVM，1 个小时左右的提款时间，对于没有耐心的用户也是无法接受的。用户期待的是：几分钟，甚至几秒钟！\\n\\n除了快速提款之外，还有一个典型需求，那就是在 L2 与其他 L2 之间快速转账。常规的途径，是要先从 L2-1 提款到 L1 ，再从 L1 存入到目标 L2-2 ，但这样既缓慢，又不经济。\\n\\n鉴于上述需求，不少提供 L2→L1 快速提款和 L2⇋L2 快速转账的跨层快速资产桥被开发出来。\\n\\n####  \\n\\n#### 跨层快速资产桥的技术本质\\n\\n快速资产桥本身并没有加快原有的资产流转通道，而是另起炉灶，构建了一个新的资产流转通道。后文行文中，我们将分别称为**「原始通道」**和**「快速通道」**。\\n\\n在快速通道中，增加了一个新角色，来为用户提供流动性垫付。用户在源账本向流动性提供者付款，流动性提供者在目标账本上向用户的目标地址付款，然后，流通性提供者再通过原始通道，重新平衡自己的资产，实现流动性回归。\\n\\n我们发���跨层快速资产桥，除了支持 L2→L1 快速提款和 L2⇋L2 快速转账，往往也可以支持 L2 与其他 EVM 兼容链之间的快速转账，这是因为 EVM 兼容链往往与以太坊建立了桥接关系（包括成为以太坊的侧链），与 L2 之间，存在一条多跳的原始通道。\\n\\n有些文献把跨层快速资产桥的流动性垫付模式归结为了一种新的跨链方案，并称之为「流动性互换」，但 Paka Labs 认为，在进行跨链技术类型归结时，还是应该关注其核心——信任机制。根据其信任机制，所有的跨层快速资产桥，基本可以落入两个框架内，一个是**原子交易模式**，一个是**见证人模式**。我们将分别介绍几个典型项目：\\n\\n####  \\n\\n#### 原子交易型跨层快速资产桥\\n\\n**cBridge ( celer.network )**\\n\\ncBridge 是以太坊 L2 层扩容平台 celer.network 搭建的跨层快速资产桥。\\n\\ncBridge 采用了哈希时间锁方案，并让中继节点（Rely Node）作为公共交易对手方。一笔交易的完成过程如下：\\n\\n* Step1 : 用户在源账本上发起 TransferOut 交易，向中继节点转账，该交易设置哈希时间锁；\\n* Step2：中继节点在目标账本上发起 TransferIn 交易，向用户转账，设置同样的哈希时间锁；\\n* Step3 ：用户 Confirm 源账本上的 TransferOut 交易，哈希锁原象被披露；\\n* Step4 ：中继节点 Confirm 目标账本上的 TransferIn 交易，跨层交易完成。\\n\\n我们发现，**上述过程和典型的基于哈希时间锁略有不同**，典型的哈希时间锁交易应该是由中继节点 Confirm 源链上的 TranferOut ，而由用户 Confirm 目标链上的 TransferIn 。\\n\\n**cBridge 如此设计的目的是改善用户体验，避免用户在跨层交易过程中需要切换钱包。优化后的交易过程中，用户的所有操作都在源账本完成，将无须切换到目标账本钱包进行任何操作。**\\n\\n这样的调整，带来一个小问题：中继节点如果不进行 Step4 操作，等到 TranferIn 超时失效，便无偿的获得了用户 TransferOut 的资产。事实上，在 Step3 完成后，哈希原象已被披露，任何人都可以去完成 Step4 步骤的操作，cBridge 建议用户及时关注 TransferIn 交易的状态，如果中继节点迟迟没有完成 Step4 ，则需用户自己去目标账本上确认 TransferIn 交易。\\n\\ncBridge 实际运行下来，中继节点在绝大多数情况下都会忠实的履行 Confirm 操作。TransferIn 的交易金额会略小于 TransferOut ，其中的差价是中继节点收取的手续费。如果中继节点多次出现不确认交易的情况，将可能失去担任中继节点的资格。\\n\\n在 2021 年 9 月的 cBridge2.0 更新中，中继节点角色已经被合并到了 Celer 的状态守卫者网络 (SGN) 验证人中，以后将不存在单独的中继节点角色。\\n\\ncBridge 除了支持以太坊及其二层网络 Arbitrum 之外，目前已支持了兼容以太坊 EVM 的 BSC、Fantom、Avalanche、OKExChain、Polygon 等区块链网络间的资产快速转移。\\n\\n> [cBridge 介绍文档](https://cbridge-docs.celer.network/#/)\\n\\n \\n\\n**NXTP (Connext)**\\n\\nNXTP 由 Connext 团队发布，全称 Noncustodial Xchain Transfer Protocol ，中文译为非托管跨链转账协议。该协议使用类似于哈希时间锁的原子交易机制，但没有依赖哈希原象，而是基于智能合约，将一笔交易的触发条件直接设定为提供另一笔交易的签名。\\n\\n用户通过 NXTP 进行跨层交易时，交易将经历三个阶段：\\n\\n* Step1 : Router 招标\\n\\n用户向网络广播交易需求，Router 以承诺的交易完成时间和手续费金额秘密投标，用户选定具有优势的 Router （选标），进入下一阶段；\\n\\n* Step2 ：准备（Prepare）\\n\\n用户选标完成后，向源账本上的交易管理合约锁定要转出的资产（该交易中包含选标信息），中标的 Router 监测到该交易之后，向目标账本的交易管理合约锁定用户应得数量的资产（用户应得资产数量与系统中的总流动性分布有关，稍后说明）；\\n\\n* Step3 ：完成（Fulfill）\\n\\n用户提供签名，获得 Router 在目标账本上锁定的资产，Router 使用用户公开的签名信息，解锁用户在源账本上锁定的资产。为了避免用户切换钱包，其他的非中标 Router 会提供中继服务，用户并不需要亲自去目标链提供签名以解锁资产，而是可以将签名信息发送给中继 Router，并由中继 Router 在目标链上代为解锁。中继 Router 也会收取少量手续费。\\n\\nNXTP 中的 Router 与 cBridge 中的中继节点承担了相同的作用，不同之处在于，前者是自定义其服务价格并向用户竞标的，而后者的服务价格则由协议统一规定并通过治理调整。\\n\\n值得一提的是， NXTP 的流动性提供存在虚拟 AMM 机制，这意味着用户在源账本上付出 1 个 USDC，在目标账本上获得的，可能不是（1 - r）个 USDC ( 设手续费为 r ) ，而可能是（0.99-r）或是（1.02-r），具体的数值取决于源账本与目标账本上的总流动性比值。这样设计的目的是**增加一个负反馈机制，促进 Router 根据需求平衡不同账本上的流动性**。\\n\\n截至发文，NXTP 还在审计中，NXTP 发布后，将首先实现对以太坊、Optimism、Arbitrum One、BSC、xDAI、Polygon、Fantom Opera 的支持。\\n\\n> [connext 介绍文档](https://docs.connext.network/)\\n\\n \\n\\n**StarkEx Bridge**\\n\\nStarkWare 是一家零知识证明研发机构，也是 ZK Rollup 二层网络 StarkNet 的开发者。StarkEx 则是 StarkWare 为 StarkNet 开发的扩展性工具集，其中就包括 StarkEx Bridge。\\n\\nStarkEx 目前服务模式是 L2 as a Service，支持其他项目利用 StarkNet 技术，构建自己独立的 L2 网络，目前 StarkEx 的客户包括 Immutable X，DyDx，DeversiFi ，三者都在 StarkNet 的支持下搭建了自己的 L2 网络。因此，StarkEx Bridge 首先要解决的只是 StarkEx 生态内的 L2 网络的跨层交易问题，然后才会逐步扩展为适配所有 L2 的解决方案。\\n\\nStarkEx Bridge 采用了类似 Connext 的条件交易机制，通过该机制实现无信任的跨层原子交易。StarkEx Bridge 上有专门的 LiquidProvider (LP) 作为公共交易对手，提供流动性。其过程如下：\\n\\n▸ StarkEx L2→L1\\n\\n* Step1 : Alice 在 L2 向 LP 发起 1 ETH + 手续费的条件转账 T(X)，条件是 T(Y)：LP 在 L1 向 Alice 付款 1 ETH，在 T(Y) 生效前，T(X) 状态为 \\\\[invalid\\\\]；\\n* Step2：LP 签署 T(Y)，在 L1 上向 Alice 付款，Alice 立即可在 L1 使用该资金，LP 拿到 T(Y) 的生效证明；\\n* Step3：LP 使用 T(Y) 的生效证明，更新 T(X) 状态，T(X)\\\\[invalid\\\\] 转化为 T(X)\\\\[Valid\\\\] ；\\n* Step4 ：LP 通知 L2 节点打包 T(X)\\\\[Valid\\\\] 到零知识证明批次中，该批次抵达 L1 并被验证时，LP 正式拿到 Alice 的付款。\\n\\n▸ StarkEx L2→ StarkEx L2\\n\\n* Step1：Alice 在 L2-1 中向 LP 发起 1 ETH + 手续费 的条件转账_T(X)*，触发条件设为_T(Y)*: LP 将 1 ETH 转到 Alice 的 L2-2 账户。在_T(Y)_生效之前，_T(X)_为 \\\\[invalid\\\\] 状态 ；\\n* Step2：LP 签署_T(Y)_，在 L2-2 上向 Alice 付款 1 ETH，该交易立即生效，Alice 立即可在 L2-2 使用该资金；\\n* Step3：_T(Y)_被 L2-2 节点打包到零知识证明批次中，提交给 L1 并被 L1 验证，LP 拿到_T(Y)_在 L1 的生效证明 ；\\n* Step4：LP 使用_T(Y)*的生效证明，更新_T(X)_状态，_T(X) \\\\[invalid\\\\]_转化为_T(X)\\\\[Valid\\\\]*；\\n* Step5：LP 通知 L2-1 节点打包_T(X)\\\\[Valid\\\\]_到零知识证明批次中，该批次抵达 L1 并被验证时，LP 正式拿到了 Alice 的付款。\\n\\n注意：上述描述对条件交易过程进行了简化，事实上，如果要创建以 T(Y) 作为触发条件的 T(X) ，T(Y) 需要先被创建，只是处于未签署状态，或者可以称为 invalid 状态。可以将创建 T(Y)\\\\[Invalid\\\\] ，理解为一笔 Lock 操作。另外，StarkEx L2 作为非独立的状态机，一切交易的生效与否都以被 L1 验证为准。\\n\\n我们发现，与 Connext 不同，**StarkEx Bridge 采用了一种非对称的原子交易设计，用户可以立即拿到资产，但 LP 却需要等待一段时间，等到 LP 对用户的付款信息通过原始通道抵达，才能解锁用户的付款。**这个等待时间不会太长，大约 1 小时左右。这个等待时间就是 LP 的资金占压成本。\\n\\nStarkWare 还提供了 StarkNet L2⇄侧链 的快速交易通道，流程与 StarkNet L2→ StarkNet L2 大体相似。\\n\\nStarkWare 认为，ZK Rollup 相比 Op Rollup，有一个重要的优势：Zk Rollup 的跨层快速通道，对于 LP 而言，具有更优的资金效率，而 Op Rollup 的跨层快速通道，LP 的资金占压达 7 天之久，资金效率更低，这会转化为昂贵的流动性手续费。\\n\\n> StarkEx Bridge 介绍：\\n\\n> <https://medium.com/starkware/the-road-to-l2-interoperability-718ff69ec822>\\n\\n> <https://medium.com/starkware/a-trustless-sidechain-to-starkex-bridge-secured-by-ethereum-61e00f19f7e0>\\n\\n**小结**\\n\\n我们发现，**原子交易型的跨层快速资产桥，设计的关键点在于如何避免要求用户切换钱包操作**，cBridge、NXTP、StarkEx Bridge 采用了不同的设计。\\n\\ncBridge 选择将原子交易的执行顺序进行微调，NXTP 则选择让 中继 Router 代替用户去目标账本解锁资产。\\n\\nStarkEx Bridge 则进行了更彻底的改变：cBridge、NXTP 的原子交易都是让用户的转账触发流动性提供商的转账，而 StarkEx 则交换了两者，让 LP 的转账触发用户的转账，并让触发过程走原始通道，这样一来用户可以先拿到钱，而且不用手动去操作为 LP 付款的事情。\\n\\n#### 见证人型跨层快速资产桥\\n\\n除了原子交易型，还有一些跨层快速资产桥采用了以见证人为中心的设计方案。见证人可能是单一职能的角色，也可能兼任了流动性提供者的角色。见证人可能是非信任式（需要抵押）的，也可能是信任式（无须抵押）的。我们通过项目举例来说明：\\n\\n**Hop Exchange**\\n\\nHop Exchange，也称 Hop Protocol，由 Authereum 钱包团队打造，其创始人是以太坊编程语言 Solidity 的开发者之一 Chris Whinfrey。Authereum 团队在开发该钱包的时候发现了当时以太坊对于扩容的紧迫性，所以将精力转移至了 L2 相关的设施中。\\n\\nHop Exchange 设计了一个媒介通证：hToken，例如 hWETH，hDAI，hUSDC，并在各个支持的 L2 上部署了 hToken:Token 的 AMM 兑换池。\\n\\nHop Exchange 中见证人角色被称为 Bonder ，中文可译为连接者。Bonder 是实现快速提款和快速交易的流动性垫付者，也是在 Layer 之间传递消息的中间人。Bonder 要在 L1 上抵押原生 Token，以获得在 L2 上铸造对应的 hToken 的额度。（此处注意，只是获得额度，并不是 L1 抵押原生 Token ，立即在 L2 生成 hToken ）。\\n\\n下文我们将在 USDC 为例\\n\\n* 依照当前系统设置，设 AMM 流动池手续费 0.3%\\n* 依照当前系统设置，设 Bonder 提供的垫付服务手续费为 0.2%\\n* 假设 AMM 流动池是绝对平衡的，1 USDC 始终兑换 1 hUSDC\\n* 暂且忽略批量交易机制\\n\\n的情况下，阐述 Hop Exchange 的系统设计。\\n\\n▸ L2→L1\\n\\n当 Alice 需要从 L2 快速提款 1000 USDC 到 L1 时，需要经历以下过程：\\n\\n* Step1：Alice 通过 L2 上的 AMM 兑换池，将 1000 USDC 兑换为 997 个 hUSDC；\\n* Step2：Alice 通过 L2 的 HopBridgeContract (下文简称 HBC)，在 L2 上销毁 997 hUSDC，设该交易为 X；\\n* Step3：Bonder 监听到交易 X，在 L1 上从自己的抵押金里垫付 995 USDC 给 Alice ，Alice 在 L1 上拿到 995 USDC，对于 Alice 而言，交易已完成；\\n* Step4：交易 X 被提交到 L1，通过欺诈证明或零知识证明，被 L1 验证；\\n* Step5：L1 的 HBC 获取到交易 X 已被完成的信息，向 Bonder 归还 997 USDC。\\n\\n▸ L2⇄L2\\n\\n当 Alice 需要将 L2-1 上的 1000 USDC ，转移到 L2-2 上时，需要经过以下过程：\\n\\n* Step1：Alice 使用 L2-1 上的 AMM 兑换池，将 1000 USDC 兑换成 997 hUSDC；\\n* Step2：Alice 调用 L2-1 上的 HBC，销毁 997 hUSDC，设该交易为 X；\\n* Step3：Bonder 监听到交易 X，使用自己的 hUSDC 铸造额度，调用 L2-2 上的 HBC，为 Alice 铸造 995 hUSDC，Alice 将 995hUSDC，在 AMM 池中兑换为 992 USDC，此时，对 Alice 而言，交易已完成；\\n* Step4：交易 X 被传回 L1 ，经过欺诈证明或零知识证明，被 L1 验证；\\n* Step5：Bonder 监听到被验证的交易 X，同步给 L2-2 上的节点；（为了加快速度，Hop Exchange 建议 Bonder 自己运行 L2 节点）。\\n* Step6：L2-2 节点验证后，L2-2 上的 HBC 为 Bonder 铸造 997 hUSDC。\\n\\n**批量处理机制**\\n\\n如果每一笔兑换的流动性归还步骤，都需要走一遍 L1 的话，会耗费很多 Gas，所以 Hop Exchange 实际上是批量处理流动性归还的。系统会收集一段时间内的垫付，再把流动性归还的需求打包为一个 Transfer Root 处理，代价是 Bonder 的回款周期会延长一些。\\n\\n**理解 Bonder 的见证人性质**\\n\\nBonder 在提供垫付服务时，事实上充当了见证人的角色，因为垫付是提前发生的，早于目标账本自身对来自源账本的交易有效性验证。因此为了完成垫付，源账本上的交易会首先由 Bonder 进行监听和验证，并传递给目标账本上的 HBC。倘若恶意的 Bonder 向目标账本传递虚假交易，则可能造成不正确的垫付。\\n\\nBonder 在 L1 上的抵押金不光是其在 L2 铸造 hToken 的额度，也是其忠实履行职责的保证金。Hop Exchange 设定了专门的挑战者（Challenge Watcher），一旦发现 Bonder 的欺诈行为，Bonder 的抵押金将被没收，变成给挑战者的赏金。\\n\\n**AMM 与再平衡机制**\\n\\nHop Exchange 会在所有支持的 L2 上部署 AMM 兑换池，任何人都可以往兑换池里注入 hToken:Token 的流动性，以赚取兑换手续费。由于 hToken 和原生 Token 的价格属性是基本一致的，Hop Exchange 在 AMM 中选择使用类似于 Curve 的 Stablecoin 价格曲线，减小滑点。尽管如此，hToken 和 原生 Token 可能还是会存在微弱的价差，这当中会有套利者的空间。套利者并不是 Hop Exchange 当中的正式系统角色，任何人都可以充当套利者。套利者的存在将使得 hUSDC 和 USDC 的价格基本保持平衡。\\n\\n与 StarkEx Bridge 相似，Hop Exchange 也设计了一个不对称的系统，让用户可以立即获得资金，但让流动性提供者，也就是 Bonder 的，等待通过原始通道拿到回款。\\n\\nhToken+AMM 的设计是相对复杂的， 但 Hop Exchange 的前端界面上努力做到简洁，让用户几乎可以不用感知 hToken 和 AMM 兑换过程的存在。\\n\\nhToken + AMM 的引入，事实上降低了整体的资金效率，因为 AMM 中的流动性是需要额外占压资金的。Hop Protocol 之所以采取这样的设计，是出于技术性的考量，这样做可以避免去维护一个 L2 上的资产合约清单，详细的解释，可以参考 [这篇文章](https://zhuanlan.zhihu.com/p/404296680)。\\n\\nHop Exchange 目前已支持以太坊主网与 Arbitrum、Optimism、xDai Chain、Polygon 的跨层兑换。\\n\\n> [Hop Exchange 白皮书](https://hop.exchange/whitepaper.pdf)\\n\\n**Hyphen (Biconomy)**\\n\\nHyphen 是由 Biconomy 推出的跨层快速资产桥。Hyphen 目前的开发还处于早期阶段，仅支持 Ethereum 和 Polygon。\\n\\nHyphen 将 LiquidtiyPoolManager 合约（后文简称 LPM 合约）部署在所有受支持的账本上。LPM 合约中存储了所有的流动性。任何人都可以向 LPM 合约中存款来提供流动性，提供流动性的人我们称之为 LP ，LP 将获得流动性费用。\\n\\n用户需要跨层转账时，只需在源账本将资产存入 LPM 合约，Hyphen 网络的执行节点（Executor Node��会监听存入事件，并转发给目标链上的 LPM 合约，目标链上的 LPM 合约接收到之后，就会释放资产到用户提供的目标链地址。执行节点并不需要提供流动性，所有流动性都在 LPM 合约中，并通过 AMM 机制调节兑换价格比。但这个 AMM 机制有点特别，一个交易对的两种资产不在一条链上，AMM 想要计算出价格，还需要执行节点来提供另一种种资产的储备量。\\n\\nHyphen 的特色功能是：用户在源账本和目标账本上需要支付的 Gas，都会由 Hyphen 网络统一代付，并折算为用户要兑换的资产类型向用户收取。用户在目标账本收到的金额，将会是 源账本上的金额-源账本 Gas 费-目标账本 Gas 费-给执行节点的手续费-给 LP 的流动性费用。这样做的好处是，用户可以在没有 ETH 的情况下进行兑换，而且可以清晰的看到兑换的总成本。\\n\\n我们发现 Hyphen 的设计极其简洁，通过 Hyphen 进行跨账本转账也非常迅速，可以在几秒内完成。但我们细心留意，也可以发现，Hyphen 的设计，包含了对执行节点的信任假设，是一种相对中心化的方案。\\n\\n> [Hyphen 介绍文档](https://docs.biconomy.io/products/hyphen-instant-cross-chain-transfers)\\n\\n**Degate Bridge**\\n\\nDegate 的目标是创造一个更强大的 Uniswap，打造一个功能丰富程度可以比肩中心化交易所的去中心化交易所。Degate 将通过各个模块，分别支持 AMM 交易、订单薄交易、杠杆交易、跨层交易等功能。Degate Bridge 是 Degate 用以实现跨层快速交易的模块。\\n\\n*Degate Bridge 界面截图*\\n\\nDegate Home DAO 作为单个主体，承担见证人的角色，并以其锁定的资产作为担保。此外，Degate Bridge 的流动性是放在链下的，由 Degate Home DAO 直接在源账本上接收用户资产，并在目标账本上向用户输出资产。Degate 设置了虚拟 AMM 机制，采用类似 Curve 的 Stablecoin 自动做市曲线。\\n\\nDeGate 在白皮书中表示，当以太坊生态出现服务于 L2→L1 消息传递的成熟预言机服务后，DeGate Bridge 将依托该预言机服务，实现去中心化的跨层兑换服务。\\n\\nDegate 的开发还在早期阶段，仅支持了 以太坊 和 Arbitrum 之间的跨层交易。\\n\\n> [Degate 白皮书](https://common-resource.degate.com/doc/whitepaper_cn.pdf)\\n\\n**Optimism DAI Bridge ( MakerDAO )**\\n\\n为了扩大 DAI 的使用，MakerDAO 正在逐步推动在 L2 部署 DAI 的合约，目前已经在 Optimism 上部署，与此同步推出的是名为 Optimism DAI Bridge 的桥接器，该桥接器将支持 Optimism 上的 DAI （称为 oDAI）到 Ethereum DAI 的快速提款。\\n\\nOptimism DAI Bridge 本质上是依赖于一个中心化的预言机（Oracle）在 L1 和 L2 之间传递消息，来实现快速提款的。\\n\\n当用户需要把 oDAI ，提现为 L1 上的 DAI 的时候，会经历这样的过程。\\n\\n* Step1：用户在 L2 上通过 DAI Bridge 合约，销毁 oDAI；\\n* Step2：Maker Oracle 将销毁信息从 L2 传递给 L1 的 DAI Bridge 合约，L1 的 DAI Bridge 合约为用户铸造 fDAI；\\n* Step3：用户拿到 fDAI 之后，可以选择在 7 天（挑战期）后到 MakerDAO 的财政库中兑换 DAI，也可以选择拿 fDAI 作抵押，从 Maker 财政库借出 DAI (借出数量＜抵押数量)，当抵押的 fDAI 过了挑战期，债务将被自动结算。\\n\\n注意：没有 fDAI:DAI 的 AMM 兑换池，因为考虑到在不同时间的操作中获得的 fDAI 挑战期到期时间不同，fDAI 被设计为了 NFT。\\n\\n%% 图片源于 MakerDAO 博客\\n\\nOptimism DAI Bridge 尽管只支持 DAI 这一种资产的跨层兑换，但是以 DAI 为媒介，也可以实现其他资产的跨层兑换，不过，那样做在 Gas 费上不占优势。\\n\\n> Optimism DAI Bridge 介绍资料\\n\\n> <https://forum.makerdao.com/t/announcing-the-optimism-dai-bridge-with-fast-withdrawals/6938>\\n\\n> <https://github.com/makerdao/optimism-dai-bridge>\\n\\n**小结**\\n\\n以上，我们介绍了四个采用见证人机制的跨层快速资产桥项目。在 Hop Exchange、Hyphen、Degate Bridge、 Optimism DAI Bridge 中，见证人分别是 Bonder、执行节点、Degate Home DAO 和 Maker Oracle。其中，Bonder 的信誉来自于抵押，执行节点、Degate Home DAO 的信誉来自于链下商誉，包含了信任假设，Maker Oracle 则比较特别，如果 Maker Oracle 行为不当，承受损失的是 DAI 财政库，也就是 MKR 的持有者，相当于 MKR 持有者替 Maker Oracle 作了担保抵押。\\n\\n在流动性垫付职能方面，Bonder 和 Degate Home DAO 兼任了流动性提供者的功能，执行节点和 Maker Oracle 则只负责传递跨层信息，Hyphen 的流动性提供者是 LP，Optimsm DAI Bridge 的流动性提供者是 DAI 财政库。\\n\\n**整体上，见证人型快速跨层资产桥和原子交易型相比，做不到无条件信任，但见证人型有更大的开发空间，未来有可能不局限于跨层资产桥，还可以进一步支持任意状态转换的跨层传递，从而支持广义上的跨层互操作。**\\n\\n####  \\n\\n#### 跨层快速通道进阶演化：聚合、互操作\\n\\n前文我们介绍了不同类型的跨层资产桥，那在实际操作中，我们如何选择合适的桥梁呢？我们需要一个工具，能够聚合所有的桥梁，并根据我们的实际需求进行匹配和推荐，这就是 FundMovR 在做的事情。\\n\\n此外，上述所有跨层资产桥，都只实现了资产兑换的功能，没有实现对跨层互操作的支持。尽管见证人型跨层资产桥有实现跨层互操作的潜力，但尚且没有项目真正实现，DataMovR 正在这个方向布局。\\n\\nFundMovR 和 DataMovR，都出自同一个项目—— MovR Network，二者是 MovR Network 的两个独立模块。聚合和互操作是跨层快速通道进阶演化的两个重要方向，MovR Network 准确的抓住了这两个方向，可以看出对于赛道的理解非常深刻。\\n\\n**FundMovR ：跨层快速资产桥聚合器**\\n\\n跨层资产桥已经足够多了，FundMovR 选择做一个聚合器，将各资产桥聚合起来，并为用户推荐最优路径。由于各跨层资产桥都只支持同质资产的兑换（例如，USDT 只能兑换 USDT，不能兑换其他资产），FundMovR 不光聚合了跨层资产桥，还聚合了各账本上的 Dex ，以便用户可以通过 FundMovR 直接完成异质资产的兑换。\\n\\n假设 Alice 在 Arbitrum 上有 DAI，但她换成 Optimism 上的 ETH。她可以使用多种路径来实现：\\n\\n* 路径一：通过 1inch on Arbitrum，把 DAI 换成 ETH ，然后通过 Hop Exchange，把 ETH 从 Arbitrum 换到 Optimism ；\\n* 路径二：通过 Paraswap on Arbitrum，把 DAI 换成 ETH ，然后通过 Connext 将 ETH 从 Arbitrum 换到 Optimism；\\n* 路径三：通过 Hyphen，把 DAI 从 Arbitrum 换到 Optimism，然后通过 Uniswap on Optimism，把 DAI 换成 ETH ；\\n* 路径四：通过 cBridge，把 DAI 从 Arbitrum 换到 Optimism ，然后通过 Sushiswap on Optimism， 把 DAI 换成 ETH。\\n* 还有更多路径 ……\\n\\n对于不同的需求，上述路径可能各有千秋。\\n\\n假设兑换资金量很大，那么含有 AMM 机制的 Hyphen、Hop 会不可取，因为滑点会比较大，cBridge 会比较合适；\\n\\n假设兑换资金量很小，Gas 将成为主要成本，为了节约 Gas，Hop Exchange 可能是更好的选择；\\n\\n假设 Alice 对速度的要求是最优先的，那么采用中心化方式的 Hyphen 和 Degate Bridge 会更有优势；\\n\\n至于 DEX 兑换环节，是在源账本 Arbitrum 上完成，还是在目标账本 Optimism 完成，取决于哪边流动性更大，滑点更低。\\n\\n如果没有 FundMovR，上述权衡和考量，将由 Alice 自己完成。但通过 FundMovR ，系统会自动找到所有可用的路线，并分别以下面三条标准进行排序：\\n\\n* 目标链上的最大输出\\n* 最低 Gas 费用\\n* 最短时间\\n\\nAlice 只需轻松的选择她喜欢的选项，剩下的就交给 FundMovR。\\n\\n在有一定规模用户之后，FundMovR 还将推出**点对点结算层**，以实现更低成本的跨链交换。\\n\\n假设 Alice 想将 100 DAI 从 Optimism 转移到 Arbitrum，而 Bob 想将 50 DAI 从 Arbitrum 转移到 Optimism。FundMovR 将相互清算 DAI，并将剩余的 50 个 DAI 从 Optimism 转移到 Arbitrum。\\n\\n*图片源于 MovR Network 文档*\\n\\n对于跨层部署的 Dapp，桥接功能是其必要组成部分。Dapp 开发人员希望构建内置的桥接器，为用户提供无缝的用户体验。FundMovR 通过 SDK 和 API 使 Dapp 开发人员可以轻松集成 FundMovR，以实现内置的效果，例如，像 Aave、Instadapp 等 Dapp 可以轻松地允许用户从不同 L2 迁移用户抵押资金。\\n\\n**DataMovR 跨层互操作通用组件**\\n\\nDataMovR 将允许任意形式的状态转换跨层传递，这意味着 DataMovR 将支持任意形式的跨层互操作。DataMovR 有两个独立的组件，分别是负责消息传递的 MMF(MovR Messaging Framework)，和负责先于 L1，快速验证 L2 状态的一个见证人网络，该网络被称为 Finality Gadget （终结器）。\\n\\n与 FundMovR 相同，DataMovR 也将被开发为一个可内置于 Dapp 的模块。导入该模块的 Dapp 将在免于自己开发的前提下实现跨层互操作。例如：\\n\\n* Yearn Finance 可以在诸多的 L1，L2，乃至侧链上，寻找最优的收益率，并在此基础上采取行动；\\n* 可以允许用户在 Arbitrum 上的 Aave 销毁 aToken，并在 Optimism 上的 Aave 上提取质押；\\n* Uniswap 可以支持 LP 跨层快速挪动流动性，以实现各层价格的均衡。\\n\\nDataMovR SDK 将帮助 Dapp 在各 Layer 上部署的合约可以相互通信，以实现以上用例。\\n\\n更进一步，DataMovR 还有野心实现跨 Dapp 的跨层互操作，例如让用户可将 Aave on Optimism 当中的抵押品挪动到 Uniswap on Arbitrum 中提供流动性，或是让用户将 Compound on Arbitrum 的抵押品挪动到 Aave on Polygon。这点的实现，有赖于足够多的 Dapp 内置了 DataMobR SDK。\\n\\n关于 DataMovR 的更多技术细节，MovR Network 暂时没有披露更多，Paka Labs 将持续关注。\\n\\n#### 跨层快速通道与泛 EVM 网络\\n\\n2021 年以来，业界对以太坊扩容的努力方向发生转向，人们放弃了对改进以太坊本身的期待，而是将目光投向了 L2 和 EVM 兼容链，相关项目喷发式出现：\\n\\nOp Rollup 日趋成熟，主流 DeFi 项目陆续开始向之迁移；拥有巨大用户体量加持的 HECO，BSC 被构建为了以太坊的高性能侧链；EAR、Fantom、Avalanche、Substrate 等以底层创新著名的区块链也快速地加入了 EVM 版图；进展最慢的兼容 EVM 的 Zk Rollup 也呼之欲出。\\n\\n一个以 Ethereum 为中心的，众多 L2、EVM 兼容链组成的泛 EVM 多链网络已逐渐形成。尽管 EVM 的执行效率低于 WASM，但是在巨大的惯性力量和成熟的 DeFi 代码库的加持下，EVM 依旧凝聚起来了最大的势能。\\n\\n**在这样一个泛 EVM 多链网络中，跨层快速资产桥是其重要基础设施，也是其不可或缺的一部分。快速通道将承担大多数的资产交易，原始通道只负责流动性的结算，释放以太坊的压力。除此之外，我们更加期待，快速资产桥演变为快速互操作桥，让整个泛 EVM 生态的 DeFi 连为一体，产生乐高效应。**\\n\\n当然，我们也得认识到，泛 EVM 网络或许还不是以太坊生态演化的终局，还有很多其他方向的尝试，例如 Celer 开发的 Layer2.Finance 和 StarkWare 开发的 Caspin 正在尝试在不割裂 L1 流动性的情况下进行原地扩容，Polygon 则正在开发以自身为中枢的 EVM 分片网络，ETH2.0 虽然要等待很久，但终究会来，到时候，以太坊生态会是什么样，犹未可知，让我们拭目以待。\\n\\n### 本篇小结\\n\\n本文列举了两大跨链应用形态，分别是「BTC 锚定资产」和「跨层快速通道」。我们分析了两者的技术本质，并根据其核心技术特征，进行了分类，在分类的基础上，结合项目举例进行了深入分析。至此，我们在对跨链技术有全景式框架认知的技术上，对「BTC 锚定资产」和「跨层快速通道」两大应用形态进行了纵深探究。在后续的篇目中，我们将对更多的应用形态进行举例分析。\\n\\n本文已描述分析以下技术方案：\\n\\n* BTC 锚定资产\\n  * 信任式\\n  * 非信任式\\n* 以太坊跨层快速资产桥\\n  * 原子交易型\\n  * 见证人型\\n  * 进阶演化\\n\\n \\n\\n# 9、以太坊扩容与生态之争：跨链对垒 EVM\\n\\n<https://news.huoxing24.com/20211105183434526675.html>\\n\\n###  \\n\\n当下，跨链的重要性不言而喻。 \\n\\nDeFi 对于跨链需求起到了很强的推动作用。链上的强金融属性产品之间，对于流通和互转的需求非常强，这对于链与链之间的沟通互联要求极高。 \\n\\nDeFi 生态最先于以太坊生态中扩张，目前，数量过千的基于不同应用需求的团队发展了大量业务，奠定了以太坊生态的不可复制性，但由于以太坊网络拥堵情况，Layer2 等扩容方式及衍生产品应运而生，并推动了非以太坊公链的个性化发展方向。 \\n\\n能够看到，DeFi 项目对于扩容项目、跨链项目以及非以太坊公链上的 TVL 正在增多。  \\n\\n2020 年上半年开启的 DeFi 热潮，让不同公链及智能链上「爆款」DeFi、NFT、GameFi 游戏、元宇宙等概念的接连出现，这些各具特色的产品加剧了用户的跨链需求。在这之后，越来越多的技术开发者也顺应这一趋势，在各类同构公链、易构公链、以太坊 Layer2 等项目之间寻求更优的跨链解决方案。 \\n\\n长久来看，主流公链与多链生态共同生长，越来越多的跨链解决方案正在联通着不同的公链及以太坊 Layer2。让这些方案的快速增加，甚至让以太坊扩容都显得并不那么急切了。 \\n\\n跨链技术的头部团队 Polkadot 在数年前诞生于公链生态初步繁荣之时，跨链技术在当时的背景下被称为区块链技术的关键突破点，能够欧解决单个链与单个链之间的孤岛问题，试图在一个更加完整的体系中将应用进行数据互通，形成良性生态。 \\n\\nPolkadot 提出了一个灵活的异构多链系统，以「共享安全」以及「跨链交互能力」为主要特点，让区块链的可扩展性被放大。历经长久的发展，即将到来的 11 月 11 日是 Polkadot 平行链拍卖的拟定时间。这让 Polkadot 再次迎来一波热度。 \\n\\n目前来看，从某种程度上将，Polkadot 的竞争环境已经出现了变化，所面对的是一个充满了各类 EVM 链、以太坊 Layer2 生态、跨链桥项目、以及同样瞄准了 EVM 兼容方案的新兴公链们。 \\n\\n整理这些正在处理跨链需求的项目们能够看到，包含 Arbitrum/Optimism 等在内的以太坊 Layer2 解决方案、包含 BSC/Polygon 在内的 EVM 系同构链、包含 Multichain.xyz/Poly Network 在内的跨链桥技术团队、以及积极采用 EVM 兼容方案的 NEAR、Solana、Fantom 等异构公链，都迎来了阶段性的高速发展期。 \\n\\n这些方案不容小觑。Layer2BEAT 数据平台上，这些产品的数量仍保持增长。 \\n\\n \\n\\n### EVM 生态：限制与改进\\n\\n **Layer2 快速发展的同时，EVM 系产品的发展已经自成一派概念。**在海外社区讨论中，EVM 系的技术改进与应用发展很可能成为下一个技术关注方向。 \\n\\nEVM （Ethereum Virtual Machine）即「以太坊虚拟机」的缩写。作为可编程的区块链。以太坊能够让用户创建自己的操作，其核心就在于 EVM，EVM 可以执行任意算法复杂度的代码。开发者使用编程语言（Solidity）即可创建运行于 EVM 上的应用程序。 \\n\\n2020 上半年，DeFi 概念起势，众多开发者暂停了长久以来对于对公链底层技术的细节争论，并转向在提升用户体验、提高以太坊应用的流动性等方向。��何兼容 EVM 成为了重要一点。对于用户来说，EVM 兼容链的优点包括 Gas 费更低，结算速度快、地址格式与以太坊相同，让操作环境更加友好。 \\n\\n这种方式的效果显而易见：2020 年下半年，众多智能公链相继出现，推动了 EVM 的跨链新阵营，比起继续针对于跨链进行调整与迁徙，技术团队和用户开始选择 BSC、HECO 等智能链。这些产品依托资源优势与用户群体，进入快速发展期。智能公链兼容 EVM 后，快速「复制」着以太坊 DeFI 的整个生态，包含稳定币、Swap、借贷、资管等，扩大自身的 DeFi 生态。 \\n\\n同时，NEAR、Fantom、Avalanche、Substrate 等以底层技术有所创新的区块链也在快速进入 EVM，成为多链以太坊生态内的高性能分片。众多公链积极兼容 EVM，以获取更多的开发者和用户。同样，这些公链们也从 EVM 中有所受益，避免了生态资源的外溢。 \\n\\n这些兼容 EVM 的其他公链往往定位清晰，比如，BSC 以自建生态为主，目前已发展成一定体系；而 Avalanche、Fantom、Solana 更倾向对 EVM 的兼容，自有技术路线和生态体系同样在发展。 \\n\\n这种趋势在 2021 年延续并愈演愈烈，目前的以太坊 EVM 正在逐渐成为一种全球通用的「标准」，兼容 EVM 正在成为高性能公链的标配，从进度来看，公链们对 EVM 的兼容已经基本落地。EVM 主要面向终端用户，对于 NFT、GameFi、小额结算、降低用户开销的 Dapp 更适合被部署在侧链或兼容 EVM 的公链之上。 \\n\\n**不过，EVM 仍存在一些限制。**行业观点认为，EVM 实则为「半图灵完备」的，在合约调用、Gas 限制、内置操作导致漏洞等方面仍然存在问题。这也衍生出了「EVM 系改进」的新概念，这一赛道仍然有待发展。   \\n\\n \\n\\n###  \\n\\nPolkadot 也在适应这种新的跨链环境。在 Polkadot 近期向外传递的信号中，对于支撑各个公链做跨链交互颇具信心。通过转接桥或平行链等形式，很多主流公链都可以进行接入。 \\n\\n同时，Polkadot 对于 EVM 的研讨也在继续。多个公链兼容 EVM 之后出现的公链爆发热潮，成为了生态快速扩张的有效参考，这让 EVM 奠定了一定的爆发基础。 \\n\\n值得关注的是，Polkadot 在兼容 EVM 之后，还提出了对于 Wasm 的支持。Wasm VM 是另一种区块链常用的虚拟机。Wasm 最初原本是为浏览器设计的虚拟机，随着 Wasm 使用场景的拓展，Wasm 已成为比较通用的格式之一。EOS、Cardano、Ontotogy 等公链也在这个方向有所探索。eWasm 有时也被社区形容为「以太坊的下一代虚拟机」。 \\n\\nPolkadot 及许多链上项目选择了兼容 EVM 的同时支持 Wasm。对于 Polkadot 来讲，EVM 与 Wasm 之间的切换或将成为新的技术重点方向。 \\n\\n多链并行生态之下，相信在老牌跨链产品、Layer1、Layer 2、兼容 EVM 等不同的跨链主题相关赛道上，都将出现更多的技术完善与市场创新，这些产品或将共同促进 DeFi 之间的互通性，形成一个多链生态共同繁荣的理想环境。\\n\\n \\n\\n# 10、风投1kx：为什么说 Connext 有可能一统跨链流动性？\\n\\n<https://news.huoxing24.com/20211202160355332209.html>\\n\\n多链市场已经到来。由于多年的研究、开源开发和加密开发者生态系统的公开学习精神，我们现在发现自己处于异构 L1 区块链和 L2 扩展解决方案中，每个解决方案都有自己的扩展能力和设计权衡。\\n\\n随着区块链网络的激增，对互操作性解决方案的需求也随之而来。迄今为止，有超过 40 个跨链桥项目，仅从以太坊 L1 就桥接了 26B 美元以上的价值。\\n\\n这不到加密货币 3 万亿美元市值的1% 。随着跨链基础设施变得强大，随着跨链流动性变得过剩，我们可以预期这个百分比会更高。由于加密本身有足够的增长空间（相比之下，全球股票市场为 122 万亿美元），跨链基础设施市场也可能达到数万亿美元。\\n\\n今天的大多数桥接解决方案要么是特定于链的、特定于资产的，要么是特定于应用程序的。虽然它们是将以太坊用户加入 L2 的有效近期解决方案，**但当流动性不再分散时，加密网络的真正潜力就会被释放，并且应用程序从一开始就可以进行原生跨链。**\\n\\n[Connext](https://connext.network/)正在努力使这一愿景成为现实。Connext 是一种互操作性协议，可在兼容 EVM 的区块链之间实现快速、非托管的跨链传输和合约调用。\\n\\nConnext 是一个流动性网络：一个由节点（路由器）组成的链下点对点网络，这些节点（路由器）持有发送和接收链上的资产“库存”。用户通过与可以访问所需资产流动性的路由器网络进行交易来跨链转移资金。\\n\\n用户在发送链上“锁定”资金，并在接收链上“解锁”相应金额（减去费用）。反之亦然，路由器在交易开始时为用户锁定接收链上的资金，并在发送链上接收锁定的资金和费用。\\n\\n跨链传输的长期基础层应该具有**最大的可扩展性**，并且随着经济吞吐量的飙升而**高度安全**。流动性网络非常适合这一点，因为它们是：\\n\\n* **信任最小化：**由于锁定机制，用户可以保证路由器不会产生资金流失。Connext 的非托管跨链传输协议 ( [NXTP](https://medium.com/connext/nxtp-a-simpler-xchain-protocol-88760697ea04) ) 是唯一不添加新信任假设的通用互操作性解决方案。依赖外部验证器的桥梁从根本上来说不太安全，因为用户需要信任第三方验证者的资金和数据。\\n* **可扩展**：利用链自己的验证器集来验证交易的跨链桥具有更强的信任保证。但是，它们需要为每个链对定制，并且不能像流动性网络那样快速添加对新链的支持（例如，以太坊rollup桥只能在该rollup和以太坊 L1 之间使用）。Connext 可以轻松地将新链加入网络，从而快速扩展到其他生态系统。\\n* **资本效率**：有担保/有保险的桥接解决方案要求验证者抵押抵押品来为网络提供服务。这种抵押品需要与桥梁的经济吞吐量成比例地扩展，否则激励就会失效。对于像 Connext 这样的流动性网络，网络可以安全促进的经济吞吐量没有博弈论上限，因为资本锁定与安全模型脱钩。\\n* **良好的用户体验**：因为验证发生在流动性网络本地（交易对手之间，而不是需要全球共识），跨链传输速度很快。只要链与 EVM 兼容，该协议就与 L1 和 L2 无关。Connext 使用户能够进行直接的L2-L2传输，并完全避免 L1 交易成本。\\n\\n这些权衡使 Connext 处于跨链转移和合约调用的最佳位置。用户可以保证资金是安全的，网络可以迅速扩展到包括Dapp的新生态系统，交易速度很快，可以完全避免主网费用。\\n\\n### 套利激励下的流动性再平衡\\n\\n跨链交易量是流动性网络的关键增长指标。然而，一个方向的大量交易会迅速耗尽另一方面的流动性。\\n\\n为了解决这个问题，Connext在 AMM 曲线上[动态定价流动性](https://medium.com/connext/solving-the-liquidity-problem-88bde201501)，模仿像Curve这样的稳定​​币交易 AMM 。资产的价格作为每个链上可用流动性比率的函数而变动。流动性越不平衡，这个价差就越大。\\n\\n换句话说，用户支付更高的价格在流动性更强的链上获得资产，而在流动性较低的链上获得资产的价格较低（实际上，用户实际上有可能在流动性较低的链上获得报酬）如果路由器不够平衡！）\\n\\n这为做市商提供了诱人的套利激励，他们已经在Uniswap这样的AMMS利用了这样的机会。有了Connext的Virtual AMMS，还可以进行跨链套利。\\n\\n路由器拍卖机制将用户与他们想要的传输所能获得的最便宜价格相匹配。反过来，最好的价格来自最不平衡的路由器。虚拟AMMS和路由器拍卖一起不断重新平衡整个网络的流动性，从而在保持跨链价格均衡的同时实现规模扩张。\\n\\n此外，由于交易对手离线协商路线和定价，第三方不可能抢先完成交易。\\n\\n### 纵向和横向扩展流动性\\n\\n随着越来越多的路由器上线，整个网络的流动性加深，ConNext变得具有高度的防御性。\\n\\n今天，超过100个资产已经从以太坊连接到17个不同的区块链网络。随着Connext扩大其生态系统，新路由器有足够的空间来解决流动性瓶颈。路由器可以通过识别受欢迎但尚未流动的路由并为其播种流动性来发现有利可图的机会。\\n\\n流动资金增加了Connext横向扩展网络的能力，并整合了更多的链和项目。集成是诱人且具有粘性的，因为它使协议能够立即进入更广泛的用户生态系统，只需一笔交易即可。这就是流动性网络的可扩展性派上用场的地方，Connext 可以快速响应对新链和资产的需求。在主网上线仅 5 周后，Connext 的 NXTP已扩展到 9 条链，包括以太坊主网、Polygon、Arbitrum 和 Avalanche。不断增长的应用程序和最终用户群推动了数量的增长，进而推动了路由器收入和网络价值。\\n\\n同时，虚拟AMMS和路由器拍卖允许网络垂直扩展并促进不断增长的容量。成交量提供套利激励，吸引做市商进入并控制系统。该机制还使交易量与TVL之比保持较高。较高的容量/TVL比率表明资产周转率和资本效率较高，这意味着路由器的投资回报率较高，用户的费用较低。Connext目前拥有1100万美元的流动性，每周交易量为3100万美元。\\n\\n这些因素推动了流动性飞轮，该飞轮在水平（更多链和资产）和垂直（更多交易量，套利者不断重新平衡流动性）方面扩展了网络：\\n\\n \\n\\n### 跨链原生应用的基础\\n\\n虽然能够以低成本且无需信任的方式在链之间进行传输是很强大的，但我们只是触及了可以在 Connext 上构建的内容的皮毛。随着更多的链集成和资产支持，不同链上的协议网络也越来越广泛，以及尚未得到充分探索的跨链原生用例，如 AMM、收益农业、套利、流支付，以及最优惠的价格、收益率和跨多个链的贷款利率。\\n\\nNXTP是一种类似于 TCP/IP 的基础层协议，它支持最简单的操作，如跨链传输和合约调用。它是面向开发人员的基础架构，带有可构建的 SDK。该协议最终可以升级为链之间更复杂的通信，这取决于有哪些其他工具可用以及哪些链正在相互通信。\\n\\n例如，[Li Finance](https://li.finance/)正在与 Connext 合作构建一个跨链 DEX 聚合器，它使用户可以交易资产而无需关心他们在哪条链上，只要他们以最优惠的价格获得资产。Li Finance可以在chainA上插入Uniswap，进行一次交易，通过NXTP路由流动性，在chainB上调用Uniswap为用户跨链交换资产，无需进行单笔链上交易。\\n\\n### Connext 有什么特点\\n\\n* **去中心化路由器配置和扩展流动性**。Connext 目前正在运行一个路由器试点计划，逐步引入新的路由器，以确保该协议在向更广泛的公众推广之前按预期工作。\\n* **将流动性供应与路由器操作分离**。这将引入一种委托抵押机制，流动性提供者可以在其中抵押路由器并赚取一部分费用。\\n* **与其他跨链基础设施集成。**与其他跨链基础设施的合作，如[BWare](https://medium.com/connext/bware-labs-x-connext-partnership-c363b8429004)（一种用于 RPC 和子图的去中心化 API 服务），将为跨链原生应用程序在协议上构建提供更丰富的工具栈。\\n* **支持互操作性堆栈的下一层。**将 Connext 作为安全、可扩展的互操作性层，新协议可以建立在协议之上，以添加更多功能或针对更有针对性的用户案例进行优化，例如更便宜的传输和更多的通用性。\\n\\n### Connext 背后的团队\\n\\n该协议由[Arjun Bhuptani](https://twitter.com/arjunbhuptani)、[Layne Haber](https://twitter.com/LayneHaber)和[Rahul Sethuram](https://twitter.com/rhlsthrm)于 2017 年创立，此后一直是 L2 研究社区的核心成员，并于 2018 年构建了第一个使用状态通道的通用 L2 支付系统。 Connext 当前的迭代是这些多年开发可扩展性和互操作性解决方案的宝贵经验的产物。\\n\\n \\n\\n# 11、头等仓：深度解析跨链桥赛道发展现状及各项目潜力\\n\\n<https://news.huoxing24.com/20211206190330282240.html>\\n\\n**前言**\\n\\n如果纵观DeFi的发展，可以看到一条较为清晰的路径。从去年DeFi Summer开始，以太坊生态开始爆发，但另一方面，生态高速发展的同时，也暴露出了以太坊底层性能不足的问题，阻碍了生态的进一步扩张。与此同时，有些人“自救”将目光放到Layer 2，有些人“想出去看看”投身于以太坊之外的其他公链。\\n\\n而到了2021年，NFT的“JPG”行情以及GameFi的火爆，进一步加剧了该现象。一方面生态建设欣欣向荣，一方面原有的扩容问题已经到了刻不容缓的地步。于是我们在今年，看到了老牌公链的卷土重来 、新兴公链的强势崛起、Layer 2项目的相继上线。\\n\\n种种因素叠加在一起，促进了DeFi多链时代的到来。但是，多链格局下各链的DeFi生态仍然相对独立，多链互通成了适应发展的必然需求。跨链桥在这样的背景下成了顺应DeFi潮流的新风口，备受市场关注。\\n\\n跨链桥是一种链与链连接的桥梁工具，允许将代币、资产从一条链转移到另一条链。两条链可以有不同的协议、规则和治理模型，而桥提供了一种相互通信和兼容的方式来安全地在双方进行互操作。\\n\\n在此份报告中，我们主要对跨链桥赛道进行一个较为宏观的梳理，其中包括了赛道背景、赛道定义、发展现状、赛道核心要素、未来的发展方向等。并结合目前市面上不同互操作性的解决方案，列举了数十个跨链桥项目，以展现这一赛道当前的服务能力。\\n\\n跨链桥是当下多链时代的一个重要议题，在本文编写之际，各公链以及以太坊Layer 2上的DeFi生态已经锁定了价值超过2,583亿美元的加密货币。在未来随着跨链桥的逐步完善，我们将可以看到其为整个DeFi生态带来更多的可组合性的玩法。\\n\\n \\n\\n### 赛道解析\\n\\n背景  \\n\\n随着区块链的发展，目前已经进入了一个**多链并存**的市场架构，并逐渐形成了**以太坊为核心，其他公链众星拱月**的局面。\\n\\n近两年，我们率先在以太坊上看到了有实际需求的应用场景：DeFi、NFT、GameFi以及未来的Web 3，生态建设欣欣向荣。但另一方面，生态高速发展的同时，也暴露出了以太坊底层性能不足的问题，网络拥堵、高昂的Gas费用，阻碍了生态的进一步扩张。与此同时，有些人“自救”将目光放到Layer 2，有些人“想出去看看”投身于以太坊之外的其他公链。\\n\\n特别是在2020年的DeFi Summer、以及2021年“JPG”行情过后，能够明显感受到以太坊之外的公链赛道生态的迅速发展。诸多新兴公链（如：BSC、Solana、Near、Avalanche、Terra、Fantom等）在不可能三角上进行了相应的取舍，在可扩展性方面进行了补充和扩展，并且由于这些链大都是与EVM兼容，能够更容易的集成DeFi、NFT类型的项目，从而完成对以太坊已经成功落地的应用进行简单的复刻。\\n\\n虽然这些新兴公链提供了明显更低的费用、更短的交易确认时间和一些额外的功能，但以太坊仍然是大多数DeFi项目的首选，主要是由于该网络上的高流动性和交易量。在目前这个以“流动性为王”的DeFi时代，各大公链在早期为了吸引更多的用户，纷纷通过高额的APY来吸引用户，于是由内卷促成的流动性争夺开启了。据 DeFi Llama 的数据统计，截止2021年10月22日，**以太坊上 DeFi 的锁仓量已经超过 1615 亿美元，BSC、Solana、Avalanche 等其它公链也吸引了 780 亿美元的资金**，发展至今已形成不容小觑的规模。\\n\\n原本聚集在以太坊上的流量一步步被瓜分，形成了一个个被割裂的价值孤岛。而且，随着近两年开始涌现出越来越多的Layer 2项目，进一步加剧了该现象。截止2021年11月9日，以太坊 L2 总锁仓量突破 50 亿美元，较 10 月初翻倍。**多链并存是当下市场的格局，并且随着公链和Layer 2项目数量的增加以及各自生态的逐渐完善，链上用户资产跨链的需求也会快速增长，跨链桥势必会成为刚需。**\\n\\n \\n\\n发展脉络\\n\\n•**扩容**\\n\\n区块链扩容的需求以及区块链互联互通的潜在需求，促进了跨链技术的持续创新和进步。\\n\\n回顾扩容技术的分类大体如下表1-1：\\n\\n从扩容技术来看，比特币的扩容技术有：状态通道、侧链和原子互换。 \\n\\n以太坊的扩容技术大致经历了：从状态通道→侧链→Plasma→Rollup的一个过程，其实这也是一个Layer 2的发展历程，以太坊Layer 2经历了若干年的发展，现在已发展出多种不同的Layer 2，详情如下：\\n\\n注：以太坊分片（Sharding）是在以太坊内部进行扩容的性能解决方案，而Layer 2则是在以太坊区块链外部进行扩容的方案。\\n\\n**1）从Layer 1到 Layer 2**\\n\\n以太坊就是Layer 1，作为一个全节点公链，多节点共同协作，效率难免低下，这时候科学家想到了Layer 2的方案，即把一些以太坊上的交易移到Layer 2上去处理，处理完成以后再把结果返回给Layer 1，从而达到扩容的目的。\\n\\n雷电网络（Raiden Network）就是以太坊上早期的Layer 2，不过目前一直都是不温不火的状态。\\n\\n**2）侧链**\\n\\n在以太坊上由于早期的状态通道未能获得大规模的应用，所以可以说最初的Layer 2是侧链。优点是实现了Layer 2，减轻以太坊的负担。但侧链是独立运行的，如果侧链上出现问题，比如侧链节点作恶或遭到攻击，会导致侧链执行交易有误，返回给Layer 1的结果也是错误的，安全性不够。\\n\\n**3）Plasma**\\n\\n由于早期的侧链安全性堪忧，于是更安全的Plasma出现了，Plasma不是完全被托管的，它使用了欺诈性证明的退出机制，当检测到Plasma链上出现错误时，用户可以安全的从Plasma链上退出，因此plasma具有更高的安全性。\\n\\n但是也是由于Plasma允许将错误的结果发布到链上，然后进行投诉程序的缺陷，最终没能走向普及。\\n\\n**4）Rollup**\\n\\nRollup在Plasma的基础上**改进了数据验证的方式**，将二层区块中的大量交易数据，打包成一笔压缩的交易，发布到链上。为了确保其中每笔交易的有效性，各种 Rollup 方案设计了不同的机制以确保整个过程的安全性与 Layer 1 保持一致。\\n\\nLayer 2的形式都差不多，都是通过将交易移至另一个区块链来处理，再将最终的交易结果或交易信息返回到以太坊主链、即Layer 1上。\\n\\n**整体上，在早期主要提出的几种扩容技术原型，重点是针对 BTC 区块链容量限制及交易手续费高等问题，发展出闪电网络、Pegged Sidechains、分片等项目或技术；而后随着以太坊的逐步发展完善，侧重于面向更多种应用场景，例如：实现链上资产互换、链上匿名转账、增强区块的互操作性等，不断探索更强的可扩展性的通用跨链技术。**\\n\\n \\n\\n• **跨链桥**\\n\\n需注意的是**跨链≠跨链桥**。首先我们需要明确一个概念，跨链技术是指数据和资产可以在不同的区块链上自由流转，其中包含了两个维度：**资产和数据**。\\n\\n就像很多人混淆Polkadot、Cosmos和跨链桥的关系一样，Polkadot和Cosmos本质上都是使用**统一框架**的链，具备较高的互操作性，同时对框架外的链，不具备任何的跨链优势。\\n\\n**简单的理解，就是Polkadot和Cosmos的跨链更像是Layer 0，用户需要基于他们自身的标准才能实现跨链；而对于跨链桥来说，两条链可以有不同的协议，解决了不同资产不同网络之间的资产迁移问题。**\\n\\n当前资产跨链足以满足DeFi的需求，同时也是当下的热点话题。而我们本文主要讨论的跨链桥是资产跨链的一个主要途径，可以将其简单的理解成资产跨链的一个工具。另一个途径是跨链聚合应用Swap, 它通过将不同链上资产的流动性聚合起来，构建跨链交易池，用户可以在池中完成不同链上的资产兑换。\\n\\n注：目前有些地方也将资产跨链的两种途径统一归类为跨链桥，分类方式没有绝对，仅用于方便理解。\\n\\n**因此，本文后续暂不涉及信息、数据类型的跨链（如：波卡、Cosmos）, 只讨论资产跨链中的跨链桥。上述介绍跨链的发展仅方便用户理解大体脉络，后续不做进一步描述。若不特殊说明，后文的跨链桥皆指资产跨链桥。**\\n\\n而从跨链桥的发展脉络来看，详情可以参考下图1-2：\\n\\n注：Aurora 作为桥的部分具备一定的信息跨链的雏形。\\n\\n \\n\\n跨链的概念其实伴随着区块链的发展一直存在，而跨链桥是这两年才开始火热起来的板块。从跨链的发展脉络来看，大体是一个从中心化走向去中心化的过程（一定程度上，人们会将去中心化的程度约等于跨链的安全程度，但去中心化程度不是安全性的唯一影响因素，此处举例仅为方便理解）。**因为用户需求的不同，后面也可能催生出多种侧重点不同的桥。**比如：资金体量大的用户往往希望通过更加安全的桥进行资产跨链，而对于普通用户来说，则是更加追求桥的效率。\\n\\n早期，**中心化交易所（CEX）**是我们每个人最常使用的桥。此外，中心化的wBTC和HBTC占据了目前近9成的BTC锚定币的市场份额，像这类单点验证的桥，早期凭借着自身信誉，天然的可以吸引到很大一部分的流量。\\n\\n随着行业的发展，人们渐渐不满足于绝对中心化的管理方式，于是演变出了**多点验证**的方法，毕竟集体作恶的可能性相对中心化的方式更小，看上去更加可靠。像Polygon Bridge采用的PoS+Plasma，Solana的跨链桥Wormhole由19个独立验证者对网络进行验证等等都是采用的多点验证的跨链桥方式。\\n\\n在多点验证之上更加去中心化的方式，进一步演化成**依靠两条链上的矿工**来维持，这也是现在很多链上都可以看到的方式——即**铸造/销毁**，通过在A链上锁定相应的aToken，并由预言机告知B链上的智能合约，待矿工验证过后B链上铸造新的bToken；当用户从B链返回A链时，销毁B链上的bToken，释放用户原本锁定的aToken。目前在单链桥上很多项目也都是采用这种原生验证的方式。不过前提是铸造出的代币（bToken）能够直接在目标链上被使用，比如：用户通过AnySwap，将以太坊上的USDC转移到BSC上，这时候用户获得的是anyUSDC，该形式的代币无法直接在BSC上进行兑换，必须先通过其内置的AMM再多进行一步swap，将anyUSDC 1:1转化为USDC，而这种方式会受限于资金池的规模。所以该模式无法很好的支持多链桥的很多项目。\\n\\n而只要有“人”对系统进行干预，终究是不确定因素，如果能基于绝对公正的机器人，那么其安全性和去中心化程度，理论上都会更高，基于**哈希锁定的原子互换**就是这么一种机器人，也就是我们所称的路由器。目前像Anyswap V3、Shuttle Flow、Debridge便是采用此类方案。\\n\\n但原子互换也有其局限性，比如：开发成本大，需要在两条链上1对1开发，而不是1对N，不具有很好的通用性，且不是任意两条链间都可以实现原子互换，原子互换在相同算法的两条间比较好实施，这也是为什么原子互换这种看似完美的方案没有大规模实现的原因。\\n\\n \\n\\n### 赛道定义\\n\\n定义\\n\\n此前1kx 研究合伙人Dmitriy Berenzon对跨链桥进行了一个较为权威的定义：\\n\\n在抽象层面上，**人们可以将“桥”定义为在两个或多个区块链之间传输信息的系统。在这种情况下，信息可以指资产、合约调用、身份证明或状态。**大多数跨链桥的设计都包括几个组成部分 ：\\n\\n* 监控：通常有一个参与角色，或者叫预言机（Oracle）、或者叫验证器（Validator）或中继器（Relayer），负责监控源链上的状态。\\n* 消息传递/中继：监控角色接收到事件后，需要将信息从源链传输到目标链。\\n* 共识：在某些模式中，该信息中继到目标链之前，需要在监控源链的参与者之间达成共识。\\n* 签名：参与者需要个体或作为多重签名的一份子，对发送到目标链的信息进行加密签名。\\n\\n**简单的理解，跨链桥是一种链与链连接的桥梁工具，允许将代币、资产从一条链转移到另一条链。两条链可以有不同的协议、规则和治理模型，而桥提供了一种相互通信和兼容的方式来安全地在双方进行互操作。**\\n\\n \\n\\n### 赛道现状\\n\\n**跨链桥项目数量**\\n\\n此前在2021年9月8日，Dmitriy Berenzon在对跨链桥赛道进行系统的汇总时，已有40多个不同的跨链桥项目，详情如下图。而截至2021年10月28日，保守估计目前市面上至少已存在**近百个**跨链桥项目，虽然有些项目是此前未被Dmitriy Berenzon录入的，但整体上来看，近期新增的跨链桥项目也有不少。\\n\\n上图从左到右的3个生态分别是Cosmos、以太坊以及Polkadot生态，而图中列出的基本是各自生态中跨链桥的代表项目。\\n\\n结合目前跨链桥的项目来看，**现在市面上主要的跨链桥多为二层扩展型的跨链桥，且主要是建立在以太坊上**，如Arbitrum Bridges、Optimism Bridges、Polygon Bridges等。\\n\\n在以太坊DeFi生态较为成熟的情况下，其他公链搭建的跨链桥大多都是先与以太坊实现资产跨链为首要目标（目前的跨链桥主要服务于——通过跨链桥赚取收益的流动性提供者），因为这有助于为自身DeFi生态引流，当然前提是要有足够的APY吸引，比如：Avalanche、Fantom、Solana等。\\n\\n并且伴随着今年EVM兼容的链和Layer 2的快速发展，基于以太坊虚拟机的网络越来越多样化，这时候人们也逐渐意识到资产跨链是目前的刚需。\\n\\n \\n\\n**跨链桥整体规模**\\n\\n1）TVL\\n\\n根据Dune Analytics的数据监测，截至2021年11月1日，目前由@eliasimos收录的16个主要的跨链桥的锁仓总额已达到约**220.32亿**美元，约占DeFi总锁仓额的9.10%。过去30天TVL增加了37.40%，过去60天TVL增加了135.36%，从下图1-4中也可以看出一个明显的上升曲线。\\n\\n其中，当前锁仓总额最高的是Ronin Bridge（Axie Infinity侧链桥），达到了59.35亿美元；位居第二的是Avalanche Bridges，达到了52.60亿美元；位居第三的是Polygon Bridges，锁仓量达到了52.29亿美元；其次，Fantom Anyswap Bridge和Arbitrum Bridges当前锁仓额也都超过了20亿美元，位列第二梯队。而除此之外，其他大多数跨链桥当前的锁仓额都不足1亿美元，整体格局的分化十分明显。\\n\\n \\n\\n2）锁仓资产分布\\n\\n* 目前跨链桥上的主要交易资产可以分为以下几个类别：\\n* 1）WETH和ETH；\\n* 2）各种稳定币资产，如：USDC、USDT、DAI、UST等；\\n* 3）各类DeFi应用的治理代币，如：SNX、AAVE、CRV、DPX和rDPX等；\\n* 4）侧链生态的原生代币，如：AXS、MATIC等；\\n* 5）跨链预言机，如：LINK。\\n\\n其中，当前跨链桥锁仓最高的资产是WETH和ETH；AXS凭借着Play to Earn的模式吸引了海量的用户，目前位居第二；稳定币和DeFi应用的治理代币也占据了相当一部分的份额；此外，受到Polygon上DeFi生态蓬勃发展的影响，以及跨链预言机广泛需求的影响，MATIC和LINK在跨链桥上的锁仓总额也较高。\\n\\n整体上，从跨链资产的锁仓规模来看，我们可以明显的看出，**目前对于跨链桥的需求，主要集中在DeFi以及区块链游戏领域。**\\n\\n \\n\\n3）跨链桥独立地址数概况\\n\\n由PANews汇总出的上图1-6数据情况来看，近期跨链桥项目的用户规模增幅十分显著。13个跨链桥7月的独立地址总数约为4.71万个，8月约为6.28万个，9月已猛增至12.76万个，10月第一周的独立地址总数就已经达到3.46万个，若按当前用户规模预估，则10月的独立地址数将略高于9月达到约14.82万个\\\\[10\\\\]。\\n\\n此外，由@eliasimos在Dune Analytics收录的信息显示，截止2021年11月1日，目前以太坊上与跨链桥项目交互过的独立地址数，已经达到了**203,426个**。\\n\\n \\n\\n**赛道核心要点**\\n\\n跨链桥发展的核心主要有以下几点：\\n\\n1）**安全性（Security）**：信任和活跃度假设、对恶意行为者的容忍度、用户资金的安全性和反身性；\\n\\n2）**速度（Speed）**：完成交易的延时性，以及最终性保证。通常需要在速度和安全性之间进行权衡；\\n\\n3）**可扩展性（Connectivity）**：为用户和开发者选择目标链，以及集成额外目标链的不同难度级别；\\n\\n4）**资本效率（Capital efficiency）**：经济学概念，包括确保系统安全所需的资本和资产转移的交易成本；\\n\\n5）**状态性（Statefulness）**：能够转移特定资产、更复杂的状态和 / 或执行跨链合约调用。\\n\\n**不同的项目在安全性、效率、可连接性等维度有不同的取舍，为了更好的了解跨链桥项目发展的核心要点，我们可以先对该赛道进行大致的分类，然后在具体到各种解决方案不同的取舍，以及相应的优缺。** \\n\\n \\n\\n分类（跨链桥的解决方案)\\n\\n目前跨链桥设计大致分为四种类型，可以根据验证跨链交易的机制（不同的验证者类型）进行分类：\\n\\n**1）中心化交易所（CEX）**\\n\\n在跨链桥兴起之前，用户如果需要在不同链之间进行资产跨链，最原始的方法往往都会借助到诸如Binance、Huobi等中心化交易所。CEX的跨链过程只涉及跨链桥上各类资产余额的变动（反向跨回去也只需要改变桥内资产余额；若余额的控制权在少数个体手中，可能存在超发风险），而不涉及资产的铸造和销毁。\\n\\n严格意义来说，这根本不能算是桥，但这确实是个简单而又行之有效的方案。然而，虽然短期内我们可以选择相信Binance的口碑，但没有人能保证其永远不会出错，产生潜在的风险。于是有了后续的其他几种方案。\\n\\n**2）单点/多点外部验证**\\n\\n单点/多点外部验证，通常有一个或一组**验证器**监控源链上的特定地址。在资产跨链的过程中，用户先向源链特定地址发送资产，然后锁定。第三方验证器会对这些信息进行验证，需要达成共识。一旦达成共识，则会在目标链上**铸造**等量的资产。这些验证器一般会使用不同的代币作为抵押，以此保证安全性。外部验证技术通常的表现形式有：安全多方计算（MPC）系统、预言机网络、门限签名等。\\n\\n单点外部验证典型的代表就是**wBTC**。多点外部验证的代表有Anyswap、Synapse、PolyNetwork等，整体上与单点外部验证类似，只不过在资产质押+博弈的条件下，他们集体“出错”的可能性更低，**理论上**会比单点验证更加靠谱，**实际上**的效果需要看机制的设计和参与者。\\n\\n**3）原生验证**\\n\\n原生验证，从字面的意思理解就是由源链上的验证者（矿工/节点）进行见证和担保，无需依靠第三方的验证器、也不需要质押资产。这通常是通过在另一条链的以太坊虚拟机（VM）中运行一条链的轻客户端来完成的。\\n\\n这种模式最大的好处是无需信任，它**通过在目标链的虚拟机内运行源链的轻客户端完成验证。**跨链桥的参与者对源链上的消息进行监控，然后将包括加密证明的监控记录和区块头转发到目标链上的合约。在对记录的事件进行验证之后，在目标链上执行操作。整体上，由于是无须信任的模式，安全性表现较好。\\n\\n此外在目标链与源链两边矿工的见证下，用户不仅能够实现资产转移，还可以实现通用化的信息转移。\\n\\n不过缺点也很明显，任何两条链之间部署这种原生验证桥，开发者都需要在源链和目标链上开发部署新的轻客户端智能合约，以对源链的信息进行验证。同时这种验证本身也会比较昂贵。因此，其不足主要在于费用高、速度慢、不容易拓展到更多链，在早期也会有一定的限制。\\n\\n像Cosmos的IBC、Near的彩虹桥（Rainbow Bridge）、波卡SnowBridge、LayerZero、Movr、Optics、Gravity Bridge等项目都是采用原生验证的方案。\\n\\n**4）本地验证（流动性网络）**\\n\\n本地验证是局部验证模式，它也是点对点的流动性网络。每个节点本身都是**“路由器”**，路由器提供的是目标链的**原生资产**，不是衍生资产。此外，通过锁定和争议解决机制，路由器无法将用户资金取走。\\n\\n像现在很多新推出的跨链桥项目，都是采用这种模式，比如：Hop、Connext、Celer、Liquality以及一些简单的原子交换系统等。可以看出，这种点对点的模式在安全性上表现不错。同时，其费用、速度和多链的连接扩展也还可以。不过，其主要缺点在于传递信息方面有局限，无法做到通用化。\\n\\n举个简单的例子，通过流动性网络把多条链连接起来，可实现该架构中任意两条链之间的跨链，比如跨链协议接入了以太坊和BSC，这时候如果它接入Polygon，就可以提供Polygon 与以太坊、Polygon 与BSC 间的跨链，无需再一一建桥（如下图1-7所示）。**这种流动性网络的跨链桥形式，可能会催生出一个或多个跨链底层协议：对于想要提供跨链功能的协议或Dapp，只需接入这些跨链协议即可支持跨链。**\\n\\n \\n\\n如若按照上述思路区分市面上的跨链桥的话，可以得到以下表格中的结果：\\n\\n \\n\\n*表1-2 跨链桥项目分类*\\n\\n*上表数据截止2021年9月8日，来源：<https://medium.com/1kxnetwork/blockchain-bridges-5db6afac44f8>*\\n\\n需注意的是，任何特定网桥都是双向通信通道，每个通道中可能有单独的模型，且上述分类不能准确地表示出混合模型，如 Gravity、Interlay 和 tBTC，因为它们都在一个方向有轻客户端，在另一个方向有验证器。\\n\\n \\n\\n不同跨链桥的权衡\\n\\n根据上面的描述，总结来说，除去CEX之外，另外**三种模式的跨链桥各有优缺点，存在不同的权衡。**\\n\\n按照上述：安全性、速度、可扩展性、资本效率、状态性的维度进行评估，可以得到下图：\\n\\n \\n\\n*图1-8 跨链桥不同解决方案优缺对比*\\n\\n上图1-8，由Dmitriy Berenzon整理的数据，能够较为清晰的反映出不同跨链桥解决方案的优缺。具体展开来看：\\n\\n1）外部验证，好处是速度较快、费用较便宜、可以传递通用数据、并允许在任意数量的目标链上与该数据进行交互，可以更容易连接到更多链。不过不足之处在于这种方式是以安全性为代价，需要用户/LP完全信任外部验证器的资金/数据，依赖于桥的安全性，而不是源链或目标链。\\n\\n在某些情况下外部验证为了保证外部验证器不会作恶，往往都会采用额外的**质押（staking）或 bonding 机制**，来尝试为用户增加安全性。而这需要验证者超额抵押，以保证抵押资产>验证金额，并且随着吞吐量增加的同时，也会成比例的扩大抵押品的需求，因此在经济上资本效率低下。\\n\\n2）原生验证，对于链之间传递的数据，完全由底层链自己的验证者验证，由底层验证者直接负责桥的安全，是目前无需信任程度最高的跨链桥形式。如果有安全问题，也是链本身的问题。同时，也无须质押资产（资本效率较高）。\\n\\n不过这些优势是以可扩展性为代价的，对于所连接的每条链，开发者必须在源链和目标链上部署一个新的轻客户端智能合约。此外，原生验证还存在速度较慢和费用较高的短板。例如，遇到类似于依赖于欺诈证明的Optimistic模型（如Optimism），交易延时可能会达到4小时以上。\\n\\n3）本地验证，是流动性网络的模式，它采用局部验证，无须全局验证，因此其速度更快，费用更低。并且也是无需信任的，他们的安全性由底层链提供支持，因为Rollups共享了一些合理的保证，所以也具有安全性的优势。同时，点对点的流动性网络的吞吐量也较大。而不足之处在于，它在信息传递方面存在局限，无法做到通用化的信息传递（但对于目前的DeFi已经够用了）。\\n\\n注：并非每个本地验证的系统都是无需信任的。有些项目采取一定程度上牺牲无需信任的取舍，来改善用户体验或添加额外的功能。如：Hop通过在系统中需要一个快速的 arbitrary-messaging-bridge (AMB) 来添加一些信任假设：该协议在 1 天内解锁 Bonder 的流动性，而不是在退出 rollup 时等待整整 7 天。如果给定域不存在 AMB，该协议还需要依赖外部验证的桥。\\n\\n**跨链桥不同模式权衡不同。不同资金规模的用户对资金效率和安全系统的考量也不尽相同，各个桥着重的领域，都有相应的用户需求。因此，跨链桥未来大概率不会一家独大，更可能是多桥共同发展的一个局面。**\\n\\n \\n\\n### 赛道项目\\n\\n上面我们提到了，目前市面上至少存在70+跨链桥项目，面对如此繁多的项目，本章节，头等仓将盘点市面上具有���表性的一些的跨链桥项目，展现这一赛道当前的服务能力，并辅助用户做出投资选择。\\n\\n本章节对于跨链桥的分类，主要参考此前链闻潘致雄老师，对该赛道的划分：\\n\\n1）官方桥，包括 Solana 的 Wormhole、NEAR 的彩虹桥，**这类桥的安全是最有保障的。**\\n\\n2）偏专业的、资产类的桥，包括 Ren Protocol、Keep Network、DeCus、pNetwork 等等，专注于把比特币跨到其他网络，解决方案不太一样，资金效率还有待提高，但在过去 DeFi Summer 中获得了不错的增长。\\n\\n3）比较通用的第三方桥，比如 Poly Network、Celer、Anyswap、Hop Protocol、Synapse Protocol 等。**第三方桥也是目前普遍关注度较高的一个细分领域。**\\n\\n4）跨链桥聚合器，目前还较为早期，主打的概念是通过聚合主流的跨链桥，并根据用户的实际需求帮用户进行自动匹配和推荐最佳的跨链桥方案。\\n\\n官方桥\\n\\n目前发展较好的公链的官方桥情况，主要如下：\\n\\n \\n\\n### 总结\\n\\n除了上述列举的10个第三方跨链桥，还有更多的跨链桥因篇幅有限并未详述。本文仅对目前较为常见的跨链桥实现方式，进行选择性的抓取，并阐述。\\n\\n目前较为常见的跨链桥实现方式：比如采用外部验证的跨链桥项目，Hop Exchange的见证人是Bonder，THORChain的见证人是其网络上的节点，他们见证人的信誉皆来自于抵押；Synapse Bridge目前阶段的见证人是执行节点，其信誉来自于链下商誉，包含了信任假设；Optimism DAI Bridge的见证人是Maker Oracle，可信的第三方为MakerDAO本身，相当于MKR 持有者替 Maker Oracle 作了担保抵押。\\n\\n像专注于Layer 2之间实现资产快速流动，采用状态通道的Celer Network、Connext等，被人们基于厚望；跨链聚合应用Swap，如：AnySwap、O3 Swap，将不同链上资产的流动性聚合起来，构建跨链交易池。此外还有一些特殊的案例，诸如StarkEx Bridge，基于其独立L2网络安全性的原生验证；Layer1 跨链世界的独行者ThoreChain等等，都在不同的方向进行着各自的努力。\\n\\n**整体上，外部验证的跨链桥和原子交易类型的跨链桥相比，虽然做不到去信任，但也有很大的发展空间，未来有可能不局限于跨层资产桥，还可以进一步支持任意状态转换的跨层传递，从而支持广义上的跨链互操作。**\\n\\n**在赛道早期，不同模式的跨链桥权衡不同。因此，在不同的阶段，根据用户对速度、费用、通用性、安全性等方面的需求重点不同，不同模式的跨链桥可能会在不同阶段取得不同的成绩。比如，在早期，第三方的外部验证模式和点对点的流动性网络可能会因为在费用和速度等方面的体验优势，获得更快的发展速度。而随着人们对安全的重视，原生验证模式在后期也可能会逐步发展起来。**\\n\\n跨链桥聚合器\\n\\n前文我们介绍了多种不同类型的跨链桥，基于不同的需求，有多种不同的解决方案。但是从实际操作的角度出发，用户是难以一个个去对比，从而选择符合自己所需的跨链桥。**这时候可能就需要一个工具，不仅能够聚合所有或者是主流的跨链桥，并根据用户的实际需求帮用户进行自动匹配和推荐最佳的跨链桥方案。**\\n\\n需注意的是，跨链桥聚合器的发展目前还较为早期，需要跨链桥生态进一步发展的情况下，才可能有较为完善的产品出现。\\n\\n \\n\\n**未来**\\n\\n**随着公链数量和L2数量的增多，跨链桥会成为一个刚需的东西。**\\n\\n**未来的跨链桥发展完备的情况下，需要让用户可以无缝的在各个链上进行资产的跨链。**那么要完成这个无缝的过程，跨链桥需要具备以下几种要素：\\n\\n1）能够同时支持EVM和非EVM兼容的公链；\\n\\n2）解决互操作协议不可能三角（无需信任、可扩展性、信息通用性）的问题，实际上可能较难，但可以在相应的短板不断改进；3）跨链桥需要足够的安全性，最好是无需信任的。\\n\\nEVM和非EVM兼容\\n\\n2021年以来，我们明显能感受到以太坊生态上现有的性能的增长无法跟上规模的扩张。业界对以太坊扩容的方向发生转向，将原本的目光转向了L2和EVM兼容的公链，相关项目喷发式出现，但另一方面新链重新建立完善的生态也需要很长的时间，而跨链桥正好可以解决这些问题。\\n\\n目前来看，像 Optimism、Arbitrum 和 zkSync 等二层网络在今年都取得了不错的进展，主流 DeFi 项目开始陆续迁移；拥有巨大用户体量加持的BSC被构建为以太坊的高性能侧链；Fantom、Avalanche等在不可能三角上进行不同权衡的公链，也快速地加入了 EVM 版图；Polygon从年初到现在的巨大增长。\\n\\n一系列的迹象表明，一个以以太坊为核心，众多L2、EVM兼容链组成的EVM多链网络已逐渐形成。\\n\\n \\n\\n上图Messari收录的信息也显示了，目前TVL排名前10的智能合约平台中，有70%的平台兼容于EVM，30%不兼容。\\n\\n一方面，在目前这样一个EVM多链网络中，资产跨链桥是其重要基础设施，也是其不可或缺的一部分。快速通道将承担大多数的资产交易，原始通道只负责流动性的结算，释放以太坊的压力。除此之外，在未来我们也很有可能看到资产跨链桥演变为互操作桥，让整个EVM生态的DeFi连为一体，产生乐高效应。\\n\\n另一方面，我们也要看到EVM兼容为主的网络或许不是目前区块链生态演化的最终格局。就如苹果 vs 微软、安卓 vs iOS、Chrome vs Firefox一样，虽然终端用户产品/应用的数量有很多，但技术平台倾向于处于**双头垄断**的状态。目前区块链智能合约平台除了EVM兼容的，仍有大量潜在的解决方案，如Polkadot substrate、Solana WASM等等。\\n\\n对于dApps开发者们而言，选择兼容EVM还是不兼容EMV的虚拟机类型时，他们可能基于红海战略 vs 蓝海战略，即要么选择在竞争激烈的EVM生态系统中展开竞争，要么选择在一个日益增长的非EVM生态系统中进行产品克隆延伸和差异化。\\n\\n目前绝大部分公链与以太坊是相似的，希望未来能出现一些与以太坊不太一样的公链，不是在性能上的不一样，而是在能做的事情上的不一样。\\n\\n从长远来看，两种策略都有可能成功，正如目前冉冉兴起的Solana和Arbitrum所证明的那样。而如果未来从目前的寡头垄断逐步向双头垄断过渡，那么对于现在主流的基于EVM兼容的跨链桥来说，是否能够进一步发展，像Wormhole一样，构建一个双向的、去中心化的ERC-20到SPL代币（或者是其他非EVM兼容公链的Token）桥梁。从而为目前需要从零开始增长用户基数的非EVM链带来新的范式转变，也为两种不同的DeFi模式，带来更多的可组合性。\\n\\n不可能三角\\n\\n此前Connext 联合创始人，Arjun Bhuptani，在《The Interoperability Trilemma》提到过，与扩容性不可能三角类似，在以太坊生态系统中也存在一个互操作性不可能三角。互操作协议只能拥有以下三种特性中的两种：\\n\\n1）无需信任：拥有与底层域相同的安全性；\\n\\n2）可扩展性：任何域都可以支持；\\n\\n3）信息通用性：能够处理任意的跨域数据。\\n\\n上述我们也在1.4.2章节简单阐述了不同跨链桥之间的权衡，目前我们无法找到最优解，来获得所有三个互操作性属性的理想结果。不过另一方面，或许我们可以采用与以太坊解决扩容性不可能三角问题相同的方法，来解决互操作性不可能三角问题。\\n\\n以太坊 L1 以可扩容性为代价，优化了安全性和去中心化。这背后的基本原理是，这些属性可能对区块链的寿命和实用性最重要。而对于跨链桥来说，如果要达成用户无缝、安全的资产转移，从用户体验的角度出发，具体来讲就是要做到：**跨链桥的速度够快、有足够的流动性不会限额、支持多链之间资产一键式的互通、免去用户需要预留每条链Gas Fee资产的障碍、足够安全等等一系列体验感上的优化。**\\n\\n**对于目前赛道早期来说，制胜法似乎是在尽可能多的主流链上积累尽可能多的流动性。相比之下，桥是否具有技术上最合理的设计显得次要，因为多数外行用户不太关心底层架构，而只是简单地快速、廉价地转移他们的资产。**\\n\\n以用户为导向的产品，天然具有市场竞争力，就好比外部验证模式的跨链桥，虽然都需要信任，大部分也存在着有资金效率低的缺点，短期内无法解决不可能三角。但可以通过不断地优化，尽可能降低其缺陷可能带来的潜在风险。比如：采用门限签名的方式，共同管理资产来分散私钥的风险；采用PoS的机制，利用通胀、代币分发的机制，激励更多的节点参与到网络中，实现去中心化/弱中心化；外部验证模式下质押资产的利用，或者是降低超额抵押比例等等。\\n\\n而对于我们目前来说，是该投注于好用但是设计上存在一定缺陷的跨链桥，还是在设计上尽可能的追求完美但早期易用性可能不是那么好的跨链桥，是值得思考的。\\n\\n安全性\\n\\n虽然上述我们弱化了不可能三角之间的关系，但目前乃至未来于跨链桥而言，最突出的问题是安全性。\\n\\n今年伴随着跨链桥的快速发展，也成为了黑客重点关照的重灾区，主要原因可能有以下几点：\\n\\n1）随着赛道的高速发展，其承载的资金量也在快速膨胀；\\n\\n2）赛道仍处于新兴阶段，各项细节仍待优化；\\n\\n3）跨链相关协议往往涉及到多条链和多个合约之间的交互，流程上相对复杂，风险点较多。\\n\\n目前许多互操作性解决方案使用起来并不安全。很多桥被临时拼凑起来以满足用户的基础需求。但长期来看，他们终将被更好的产品取代，或演变为去中心化的解决方案或受信任的第三方。当然，理想情况下，肯定还是无需信任的跨链桥更好，因为其安全性直接取决于底层链的安全性。\\n\\n对于普通用户（主要指通过跨链桥赚取收益的流动性提供者）来说，在选择不同的跨链桥时，肯定还是首选各个链上的官方桥，其次才是选择审计状况更为完善、业务顺利运行更久的协议。不过现阶段的方案，效率与安全性较难同时实现，期待未来有突破性的创新。\\n\\n**总结：在当下这个多链时代，跨链桥是刚需，虽然目前尚未有最优的解决方案，但也在朝着更安全、更互连、更快速、资本更高效、成本效益更高且抗审查的方向发展。身处当下的我们，了解不同互操作协议正在做出的权衡很重要。**\\n\\n**跨链桥将各个链上的DeFi连通在一起，目前我们的思想仍然受到固有思维限制，相信在不久的将来，跨链桥会为整个生态带来更多的可组合性的玩法。**\\n\\n投资有风险，本文只作为演示参考，不作为用户投资决策的依据，用户需基于自身对于项目的理解与认知进行投资决策，**头等仓以及文章作者不对用户自身投资决策产生的盈亏负责**。\",\"timestamp\":1641117752,\"title\":\"跨链\"},\"digest\":\"XD4qDEvTpnIg68wGnXhefYgSxoB66w2uK0k7-4WnRcY\",\"authorship\":{\"contributor\":\"0x1CECd8ecB67a3E4776017f967ae8b4d4e4a1Cd79\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"syWoyjhTPpBjsCe4vLH0BnBc820jMk69AUK9uK1XVAQ\\\",\\\"y\\\":\\\"KLpwb7-I_BIx79WfGPJb_Ts1HvjnBUIZDS3s-a3OXhQ\\\"}\",\"signature\":\"V4DqvbU_w9igSKhszZyTb9_pUaQ2UzqrDWa666GMNUhRAQkVnOrcnt5Z00s6e2TVUIORux13yYxhiLo8RxWwnQ\",\"signingKeySignature\":\"0xc7fb77c57b178ef2f58514c2ffec46b8fffec0d82ea0522e4d646c273397b3317fc6d7c722e84f6dcd96526e0675c91e9cfae98730852e07b678e50ccc57ed621c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"syWoyjhTPpBjsCe4vLH0BnBc820jMk69AUK9uK1XVAQ\\\",\\\"y\\\":\\\"KLpwb7-I_BIx79WfGPJb_Ts1HvjnBUIZDS3s-a3OXhQ\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"XD4qDEvTpnIg68wGnXhefYgSxoB66w2uK0k7-4WnRcY\"}"