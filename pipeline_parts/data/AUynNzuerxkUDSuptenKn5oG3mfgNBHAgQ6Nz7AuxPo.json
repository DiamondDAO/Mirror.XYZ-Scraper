"{\"content\":{\"body\":\"[df-explorer](https://github.com/guild-w/df-explorer) 是黑暗森林（dark forest）游戏的一款开图软件，利用nvidia的GPU加速，开地图的哈希率比cpu快到不知道哪里去了，如果设备较优的话，游戏彻底变为了光明森林！但是由于安装df-explorer需要一定的配置环境支持，往往让大家非常苦恼。这篇文章的主要部分是为大家带来的是df-explorer的ubuntu20.04解决方案，大家可以按照自己的需求进行选择。\\n\\n**特别强调： 自由的代价是永远的警惕，安装GNU/linux系统以及编译软件请自行了解和承担可能的风险！**\\n\\n## 安装ubuntu20.04\\n\\n请利用搜索引擎完成ubuntu20.04双系统的安装过程。\\n\\nubuntu20.04是最新的稳定发行版，安装和使用的用户友好度较高。\\n\\n推荐镜像站 [清华大学开源软件镜像站](https://mirrors.tuna.tsinghua.edu.cn/)\\n\\n安装镜像选择 【20.04.3 (amd64, Desktop LiveDVD)】\\n\\n推荐镜像制作软件 UItraISO\\n\\n## 安装nvidia显卡驱动\\n\\n1\\\\.连接互联网\\n\\n2\\\\.【Ctrl+Alt+T】打开命令行，输入如下命令, 输出显卡具体的信息和推荐的的nivida显卡驱动程序。\\n\\n```bash\\nubuntu-drivers devices\\n```\\n\\n输出内容中后段如下所示（可能泄露隐私的数据均采用XXXXX表示）\\n\\n```bash\\nvendor   : NVIDIA Corporation\\nmodel    : GMXXXM [GeForce GTX XXXX]\\ndriver   : nvidia-driver-XXX-server - distro non-free\\ndriver   : nvidia-driver-XXX - distro non-free recommended\\ndriver   : nvidia-driver-XXX - distro non-free\\ndriver   : nvidia-driver-XXX - distro non-free\\ndriver   : xserver-xorg-video-nouveau - distro free builtin\\n```\\n\\n3\\\\.安装推荐的驱动程序，输入如下命令，注意后面的软件名称是标注 recommended 那个软件名。\\n\\n```bash\\nsudo apt install nividia-driver-XXX\\n```\\n\\n4\\\\.安装成功之后，输入如下命令重启系统\\n\\n```\\nsudo reboot now \\n```\\n\\n5\\\\.进入系统后输入`nivida-smi`来查看nividia驱动程序是否安装成功，如果安装成功会显示GPU的各种运行状态的参数。(可能泄露隐私的数据均采用XXXXX表示)\\n\\n![输入nvidia-smi之后正常的输出](https://images.mirror-media.xyz/publication-images/AvXXiH9tR_7ZEiRSmulGF.png?height=1324&width=1761)\\n\\n## 安装CUDA运行环境\\n\\n安装**C**ompute **U**nified **D**evice **A**rchitecture(CUDA)运行环境。\\n\\n参考 [nvidia官方指南](https://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&Distribution=Ubuntu&target_version=20.04&target_type=deb_network) 输入如下命令,  注意需要一行一行的输入。\\n\\n（由于mirror的渲染设置，此处的每一个代码块表示一行）\\n\\n```\\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-ubuntu2004.pin\\n```\\n\\n```bash\\nsudo mv cuda-ubuntu2004.pin /etc/apt/preferences.d/cuda-repository-pin-600\\n```\\n\\n```\\nsudo apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/7fa2af80.pub\\n```\\n\\n```\\nsudo add-apt-repository \\\"deb https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/ /\\\"\\n```\\n\\n```\\nsudo apt-get update\\n```\\n\\n```\\nsudo apt-get -y install cuda\\n```\\n\\n安装nvidia-cuda-toolkit, 执行代码nvcc --version测试cuda是否安装成功。\\n\\n```\\nsudo apt install nvidia-cuda-toolkit\\nnvcc --version\\n```\\n\\n如果输出nvcc的版本号等信息证明cuda安装成功，我的输出如下。\\n\\n```bash\\nnvcc: NVIDIA (R) Cuda compiler driver\\nCopyright (c) 2005-2019 NVIDIA Corporation\\nBuilt on Sun_Jul_XX_XX:XX:XX_PDT_XXXX\\nCuda compilation tools, release XX.X, VXX.X.XXX\\n```\\n\\n## 编译df-explorer并运行开图程序\\n\\n这里参考了df-explorer的readme，文件，对于一些步骤进行了更加细致的描述。\\n\\n1\\\\.安装git, libgmp-dev, cmake, openssl\\n\\n```\\nsudo apt install -y git libgmp-dev cmake openssl libssl-dev\\n```\\n\\n2\\\\.从github下载df-explorer仓库, 这里可能存在网络问题,懂的都懂。\\n\\n```bash\\ngit clone https://github.com/guild-w/df-explorer.git\\ncd df-explorer/thirdparty\\ngit clone https://github.com/NVlabs/CGBN.git\\ngit clone https://github.com/sogou/workflow.git\\n```\\n\\n3\\\\.打开相关的目录进行软件的编译\\n\\n```bash\\ncd workflow && make\\ncd ../../\\nmkdir build && cd build\\ncmake .. -DCMAKE_BUILD_TYPE=Release\\nmake\\n```\\n\\n4\\\\.等待编译结束之后，输入`./df-explorer`, 输出如下结果表示程序已经编译成功，而且能够正常运行啦！\\n\\n```bash\\ncuda block size :128\\ncuda device id: 0\\nstart server on port 8880\\n```\\n\\n5\\\\.remote explore 需要浏览器对zkga.me/play页面开启访问不安全内容的权限\\n\\n具体参考[Dark Forest完全攻略(技术篇)](https://www.dappchaser.com/dark-forest-guide3/)\\n\\nremote 插件推荐github上复制一下最新版的，支持chunk size的选择。\\n\\n[remote explore插件地址](https://github.com/darkforest-eth/plugins/blob/master/content/productivity/remote-explore/plugin.js)\\n\\n6\\\\.如果你是在运行df-explorer的ubuntu20.04系统当中访问zkga.me, 并且进行游戏操作的话，那么在remote-explore插件当中输入`http://localhost:8880/explore` 即可。\\n\\n如果是要给同局域网下的其他的电脑设备中开启的游戏开地图，那么需要安装net-tools软件, 并且执行ifconfig，得到运行df-explore的电脑的ip地址。\\n\\n```bash\\nsudo apt install net-tools\\nifconfig \\n```\\n\\n然后输入在remote-explore插件当中输入 `http://电脑ip:8880/explore` 即可。\\n\\n正常运行之后会显示哈希率的数值，同时运行df-explore的电脑风扇转速会迅速提高，建议做好**散热处理**。\\n\\n![](https://images.mirror-media.xyz/publication-images/sZUz7maCpK5iflRLrFe7K.png?height=374&width=684)\\n\\n恭喜你，走到这一步就安装成功啦 ！！！\\n\\n（本文作者： [byeddy](https://twitter.com/ddy_mainland)）\",\"timestamp\":1634999511,\"title\":\"df-explorer的ubuntu解决方案\"},\"digest\":\"J1YVGMtoSOlYMYKYTjJmOiuC9h3SZd8_eigktbv9gZg\",\"authorship\":{\"contributor\":\"0x4CEaa0A16d0831d7d46cb72006F959a87f618A47\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"K7aEc6d90g-strwIxFzSMHlJdr4EWijzwmolft-A1cg\\\",\\\"y\\\":\\\"cKu74c8Ej_QHiwRkbNo_A5dNtUS6h3vFSV7QRoN9I8s\\\"}\",\"signature\":\"R31d-uWZlAcuteC8MlQNtUtQUQEVrTFAn-0oOLrGfQB_LZwp10_8ADBKaPPWLKzpXG2vUTGOy1Vptn9-bxOUlA\",\"signingKeySignature\":\"0xa74e27b5bfabbcb665586a8b4559ccb81eeeb5acaf99ad055bdc76a59d757dc51688cd65bac26474e22108da85d96a182edf1227e32fc4c5c0ab5c0c2a1a34881b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"K7aEc6d90g-strwIxFzSMHlJdr4EWijzwmolft-A1cg\\\",\\\"y\\\":\\\"cKu74c8Ej_QHiwRkbNo_A5dNtUS6h3vFSV7QRoN9I8s\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"J1YVGMtoSOlYMYKYTjJmOiuC9h3SZd8_eigktbv9gZg\"}"