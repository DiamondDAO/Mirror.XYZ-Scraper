"{\"content\":{\"body\":\"(1) Ubuntu 20.04 添加源\\n\\n```\\n$sudo vim  /etc/apt/sources.list\\n\\ndeb http://mirrors.aliyun.com/ubuntu/ xenial main\\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial main\\n\\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main\\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main\\n\\ndeb http://mirrors.aliyun.com/ubuntu/ xenial universe\\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial universe\\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe\\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe\\n\\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-security main\\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main\\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-security universe\\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe\\n\\n$sudo apt update\\n```\\n\\n(2)安装依赖包\\n\\n```\\n$sudo apt install git python3 python3-distutils uuid-dev nasm bison flex\\n$sudo apt install gcc g++ build-essential qemu qemu-system\\n$sudo apt install libx11-dev x11proto-xext-dev libxext-dev \\n```\\n\\n(3)安装gcc-5 并配置多版本gcc\\n\\n```\\n$apt install gcc-5 g++-5\\n$sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 40\\n$sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-5 40\\n$sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 50\\n$sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-9 50\\n$sudo update-alternatives --config gcc\\n$sudo update-alternatives --config g++\\n```\\n\\n(4)获取源代码和编译\\n\\n```\\n$git config --global url.\\\"https://hub.fastgit.org\\\".insteadOf https://github.com\\n$git clone https://github.com/tianocore/edk2.git\\n$git clone https://github.com/tianocore/edk2-libc.git\\n$git clone https://github.com/acpica/acpica.git\\n$cd edk2\\n$git submodule update --init\\n$cd ..\\n$make -C edk2/BaseTools\\n$make -C acpica/\\n$gvim mybuild.sh\\n#!/bin/bash\\nexport WORKSPACE=$PWD\\nexport PACKAGES_PATH=$PWD/edk2:$PWD/edk2-libc\\nexport IASL_PREFIX=$PWD/acpica/generate/unix/bin/\\nexport PYTHON_COMMAND=/usr/bin/python3\\n$sudo chmod a+x mybuild.sh\\n$source ./mybuild.sh\\n$source source edk2/edk2setup.sh\\n$build -p  edk2/EmulatorPkg/EmulatorPkg.dsc -a X64 -t GCC5 \\n```\\n\\n(5)坑\\n\\n（a) 强制将Os 变成O0， 即不优化\\n\\n  (b)报 \\\\[RegisterFilterLib\\\\] is not found， 将自己的dsc文件中添加 \\n\\n!include MdePkg/MdeLibs.dsc.inc\\n\\n```\\n```\",\"timestamp\":1637666772,\"title\":\"Ubuntu 20.04 安装EDK2\"},\"digest\":\"J8AgkJM7G_WEaZBvxe41N3RWa3DnRgQAdr9JrDlTdkE\",\"authorship\":{\"contributor\":\"0x54158F81FF8adDA2617Ac4c726c3B37AFb21F6A2\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"dhBT1YiAYlffU83O5vfytrVFjySJXn4ATrqilQcOH6g\\\",\\\"y\\\":\\\"Joo_erjWQx3fyvAeFUrc4AvPi5tmBEu5m_Ix7GLJ6GQ\\\"}\",\"signature\":\"E5FJARoC__wxNwqfjOuGy810RybSb3ASURtT-0OT_TGxtNgqm24KRN3M-Gus4zi8CetusZYyqNNcsrB73MSwnQ\",\"signingKeySignature\":\"0x133d8a2e58447065fe23cb293c4cb4a82217929af99f285bd34555ec219b1f882320d3ffdcfea376d18d827cff36e668846cb28f980aa15789c78ee7a4252d511c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"dhBT1YiAYlffU83O5vfytrVFjySJXn4ATrqilQcOH6g\\\",\\\"y\\\":\\\"Joo_erjWQx3fyvAeFUrc4AvPi5tmBEu5m_Ix7GLJ6GQ\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"J8AgkJM7G_WEaZBvxe41N3RWa3DnRgQAdr9JrDlTdkE\"}"