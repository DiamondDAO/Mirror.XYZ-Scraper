"{\"content\":{\"body\":\"> 谁将引领 Layer2，获得热门 DeFi 项目的青睐？\\n\\n随着 ETH2 的推出，各个 Layer2 进入了开发阶段。终于在这个夏天，它们将正式上线。Polygon，Arbitrum，Optimism 到底谁会得到更多 DeFi 项目的青睐？\\n\\n在[上一期](https://link.zhihu.com/?target=https%3A//unblock256.substack.com/p/unblock-2021-7truebit) Truebit 的介绍中，我们简单讨论了 ZK Rollup 和 Optimistic Rollup，这一期为大家介绍的 Arbitrum 便是从 Optimistic Rollup 衍生而来。\\n\\n### **Optimistic Rollup**\\n\\n**Rollup** 指的是在链下进行计算，最后将结果打包压缩后提交至以太坊上。由于最后提交的数据进行了打包和压缩，这将大大减少手续费。同时在以太坊区块容量不变，每笔交易体积减少的情况下，Rollup 增加了以太坊的处理速度。由于所有交易都将提交到以太坊上，Rollup 也不会损害交易的安全性。根据如何保证提交到以太坊上的交易是正确的，我们可以将 Rollup 分为 **ZK Rollup** 和 **Optimistic Rollup**。\\n\\n**Optimistic Rollup** 的精髓就在于 Optimistic 这个词上。不同于 ZK Rollup 提交以加密学证明作为保证的交易，Optimistic Rollup 假设所有提交者都提交了正确的断言。在一段时间（挑战期）内，验证者可以对这个断言进行挑战，最后的争议结果将由链上合约保证。这段时间之后，断言将自动被认为是正确的。因此 Optimistic Rollup 至少需要一个诚实的验证者来保证只有正确的交易会被提交给以太坊。\\n\\n由于不需要额外的加密学证明，Optimistic Rollup 可以很方便的兼容 EVM，但是由于其挑战期的存在，从 Layer2 提款将需要更多的时间。\\n\\n### **‍⚖️ Arbitrum**\\n\\n![](https://pic2.zhimg.com/v2-9c315b9a515c1387cc1007139428e6d1_b.jpg)\\n\\n***[Arbitrum](https://link.zhihu.com/?target=https%3A//offchainlabs.com/)*** 的设计与 Optimistic Rollup 大致相同，只是处理断言争议上有所区别。在挑战期中，当验证者提出争议后，将会建立一个在验证者和提交者之间的可互动协议，由以太坊链上智能合约进行仲裁。可互动协议可以大大减少链上智能合约的计算量，降低仲裁成本。\\n\\n除此之外，Arbitrum 发扬了 Optimistic Rollup 的兼容优势，对开发者极度友好。从开发工具到开发语言，Arbitrum 全部兼容以太坊开发所使用的。\\n\\n对于 Optimistic Rollup 的较长提款周期，Arbitrum 提供了速度更快，但是安全性稍微低一些的选项，Fast Withdrawals。用户可以将在 Layer2 的 ERC20 代币打给第三方，第三方在 Layer 1 将代币还给用户。这种选项可以大大的降低提款周期，不用再等待漫长的挑战期。\\n\\nArbitrum 还原生支持域名服务，类似以太坊上的 ENS。\\n\\nArbitrum 如何与以太坊主网通信的技术细节我们将在未来和大家深入研究。\\n\\n### **Layer1 到 Layer2 通信**\\n\\n如果交易包含必要的手续费，Arbitrum 会自动执行从 Layer1 提交的交易。如果这笔交易第一次在Layer2 并没有执行成功，它会进入缓冲区中。在一段时间里，任何人都可以尝试重新执行这笔交易。\\n\\n缓冲区的设计可以解决在 Layer1 执行成功，但是在 Layer2 因为某些原因失败的交易。\\n\\n大家可以考虑一下这个例子，在 Layer1 上，用户 向 Arbitrum 在 Layer1 的智能合约转了 1 个 UNB。但是因为某些原因，例如突然飙升的 Gas 价格，在 Layer2 中，用户并没有收到新挖出地 1 个 UNB。此时便是 Layer1 的交易执行成功，但是 Layer2 失败了。\\n\\n有了缓冲区的加入，用户随时都可以重新执行失败的交易。\\n\\n### **Layer2 到 Layer1 通信**\\n\\nLayer2 到 Layer1 的通信延续了之前的设计，在一些规则上有细微的改变。例如提交至 Layer1 的交易必须等待挑战期的结束，才能被执行。\\n\\n我们在上期的 Optimistic Rollup 中解释了挑战期。挑战期之后，提交的交易可以在任意时间执行，不像 Layer1 到 Layer2 那样，执行提交的交易必须在一段时间之内。\\n\\n基于这样的通信机制，Arbitrum 实现了 Token Bridge，允许用户在 Layer1 和 Layer2 之间传递同质化代币。对于那些复杂的同质化代币，例如含有计算利率的功能，需要自定义 Token Bridege。\\n\\n此外，Arbitrum 团队开发的 Arbitrum One 主网已经上线。目前已经有超过 250 个项目希望登上 Arbitrum 主网，这其中包括 Sushi，Uniswap 等头部项目。\\n\\n从长期来看，ZK Rollup 有更高的安全性，更快的提款时间，但是目前基于 Optimistic Rollup 的方案以更好的兼容性获得了先发优势。它们的未来究竟如何，让我们一起拭目以待。\\n\\n### **相关阅读：**\\n\\n* *[Layer 2 Rollup](https://link.zhihu.com/?target=https%3A//ethereum.org/en/developers/docs/scaling/layer-2-rollups/%23optimistic-rollups)*\\n* *[简单理解 Arbitrum](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/c_LGjAUS3JyZUdzbhF6TYA)*\\n* *[谁将引领下一个「DeFi 夏季」：Polygon、Arbitrum 还是 Optimism？](https://link.zhihu.com/?target=https%3A//www.chainnews.com/articles/028812114075.htm%3Futm_source%3Dtelegram)*\\n* *[Offchain Lab Dev Center](https://link.zhihu.com/?target=https%3A//developer.offchainlabs.com/docs/special_features)*\\n* [Offchain Lab Dev Center](https://link.zhihu.com/?target=https%3A//developer.offchainlabs.com/docs/special_features)\",\"timestamp\":1633782151,\"title\":\"Arbitrum\"},\"digest\":\"zkpH6EYTbU9JzrTmhCg54GENs_kt73wFbjU-Nx8gTMM\",\"authorship\":{\"contributor\":\"0x7B076d7BcdE88Ec322B2D01AA1ADc1997b7724f6\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"-uhmdAZYxFgq_x4xq-zXdui7hRToWKgI3gCLaeRwzfE\\\",\\\"y\\\":\\\"e_jae50XeRHkDjBd1dCU7xTq7o4HjO4Idn3X9qLgXmA\\\"}\",\"signature\":\"g5H6SM6GDm7HQ9nGRTGWnhgi9k0maJJ9ZB3WNnB7D3Xupbe4mW7OoySOQKHMJu2QR9eorxIHoBxVGWrjEPUJng\",\"signingKeySignature\":\"0x0475273f3894cbe534b5ebf3dc9005f7b109c905b95b05fd0afb3d0dd6c056984938a186d9c56832d588e27230d06074bb752d52c6fbbffe3ddc0a71e38362d11c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"-uhmdAZYxFgq_x4xq-zXdui7hRToWKgI3gCLaeRwzfE\\\",\\\"y\\\":\\\"e_jae50XeRHkDjBd1dCU7xTq7o4HjO4Idn3X9qLgXmA\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"zkpH6EYTbU9JzrTmhCg54GENs_kt73wFbjU-Nx8gTMM\"}"