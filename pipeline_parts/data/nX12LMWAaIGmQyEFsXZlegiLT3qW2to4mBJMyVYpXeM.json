"{\"content\":{\"body\":\"# **全面解析zkRollup：以太坊扩容赛道格局**\\n\\n[以太坊](https://theblockbeats.info/topic/30)\\n\\n以太坊\\n\\nzkRollup\\n\\n11月19日 15:41\\n\\n分享\\n\\nRollups和以太坊之间相结合的全新创新动态被称为「模块化的区块链」。\\n\\n> 原文标题：《zkRollup 赛道，有何可期？》\\n\\n> 原文作者：Alex Beckett，Bankless\\n\\n> 原文来源：Unitimes\\n\\n以太坊在实现可扩展性解决方案方面一直面临挑战。经过多年的研发，以太坊开发者社区已经转向了一条以 Rollup 为中心的路线图。\\n\\n然而，并不是所有的 Rollups 方案都是相同的，当前主要包括 Optimistic Rollups 和 zkRollups 这两种 Rollups 方案。今天，我们来讨论一下 zkRollups。\\n\\n当前，zkRollup 领域中两大领先的相互竞争的团队是 Matter Labs 和 StarkWare。Matter labs 团队的竞争砝码是其 zkSync 1.0 和 zkSync 2.0；而 StartWare 团队的竞争砝码是其 StarkEx 和 StarkNet。\\n\\n让我们深入研究和对比一下这些项目。但首先，我们快速了解一下什么是 Rollups。\\n\\n注意！随着网络的不断发展和进一步使用，本文提及的有关各个网络的信息将会有所变化。\\n\\n# **01. Rollups 背景知识**\\n\\nRollups 是一种可扩展性解决方案，即通过在 Rollups (L2) 网络中将交易捆绑在一起并进行压缩，然后将它们发送到一个共识层 (比如以太坊 L1 主网) 进行验证。通过一次性验证多笔交易，这就增加了网络效率，同时通过增加可被执行的交易数量，从而实现了扩容。\\n\\n基于这种方式，突然之间以太坊可以在不牺牲安全性的情况下从 15 TPS (每秒交易量) 提升到 3000+ TPS。\\n\\n特别是，相比于 Optimistic Rollups，zkRollups 尤为独特，因为它们能够使用零知识证明技术来将隐私性整合进 Rollup 中。零知识证明技术通过允许一方向另一方证明某件事而不透露证明它所必需的信息，从而实现隐私性。然而，**并非所有的 zkRollups 方案都会利用零知识技术的隐私属性。**\\n\\nzkRollups 利用了规模经济效应，即**更多的交易用户使得网络的使用成本更加便宜**。这与典型的 L1 区块链网络 (比如当前的以太坊网络) 相反，以太坊网络会随着网络使用的增加而变得更加昂贵。\\n\\n这种 Rollups 和以太坊之间相结合的全新创新动态被称为「[模块化的区块链](https://mp.weixin.qq.com/s?__biz=MzU2MDE2MDU3Mg==&mid=2247506755&idx=1&sn=cb55cd2104567fa13786e024f643a646&scene=21#wechat_redirect)」。\\n\\n# **02. 主网上线的 zkRollups**\\n\\n### **1) StarkEx**\\n\\nStarkEx 是 StarkWare 团队在 2020 年 6 月推出的一个 **zkRollup 方案**，支持通用智能合约 (这里的通用是指智能合约具有运行任意逻辑的功能)。应用程序可以**部署在 StarkEx 上**，从而利用 zkRollup 带来的可扩展性优势，同时提供与以太坊网络类似 (如果不是更好) 的用户体验。\\n\\n截至目前，StarkEx 已经处理了 4,200 万笔交易，其托管的四个协议—— dYdX、Immutable X、DeversiFi 和 Sorare ——的累计交易量达 1850 亿美元。\\n\\n> \\n\\n借助于 StarkEx 上部署的应用程序的大量使用，StarkEx 网络已经证明了自身的交易速度超过了 9,000 TPS，转账速度达到了 18,000 TPS。鉴于以太坊主网的交易速度约为 15 PTS，这意味着 StarkEx 的可扩展性增加了约 600 倍。除此之外，StarkEx 在峰值时的单个交易批次中包含了高达 13,500 笔交易。\\n\\n由于 Rollups 部署在以太坊上面，这意味着它们的交易批次需要支付的交易费也受到了以太坊 L1 局限性的限制。因此，除了 zkRollup 模式，StarkEx 还推出了一种名为 Validium 的新系统，为使用该系统的应用程序和用户提供了更加便宜的选择。\\n\\nValidium 的机制非常类似于 zkRollup，唯一的区别在于 zkRollup 的数据可用性是放在链上，而 Validium 的数据可用性放在链下。这允许 Validium 实现相当高的交易吞吐量。-- Alex Gluchowski\\n\\n在采用 StarkEx 扩容方案的项目中，dYdX 选择 zkRollup 模式 (链上数据可用性)，而 DeversiFi、Immutable X 和 Sorare 选择 Validium 模式 (链下数据可用性)。\\n\\n![https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/7bc3017fd56f5529d89e1bcf4e3e70ceac2dea05.png](https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/7bc3017fd56f5529d89e1bcf4e3e70ceac2dea05.png)\\n\\n> 上图：以太坊联合创始人 Vitalik 在表格中对各大 L2 方案及其数据可用性进行了概述。\\n\\n**Validium 的交易费更加便宜**，实际上这些交易费已经被 StarkEx 上的协议抽离出去了。\\n\\n比如，采用了 StarkEx 方案 Validium 模式的 Immutable X 就是这样一个例子，在 Immutable X 上铸造和交易 NFTs 的 Gas 费用都是 0 美元；而相比之下，在以太坊上交易 NFT 的 Gas 成本从 20 美元到 50 美元不等。同样，去中心化交易所 DiversiFi 也提供了 0 美元的 Gas 费用，这使得该交易所提供了类似于中心化交易所的费用结构， StarkEx 还提供 SHARP 功能，即允许来自多个应用程序的 Rollup 交易批次聚合为单个交易批次，并一次性地发布到以太坊上。\\n\\n目前，该功能已经在 DeversiFi 和 Sorare 这两个协议中可以使用，允许二者能够进一步降低用户的成本。\\n\\n### **2) zkSync**\\n\\nzkSync 是 Matter Labs 团队推出的一个 zkRollup 可扩展性支付方案，用户可以将资金存入该网络中并与其他 zkSync 账户之间进行低成本转账，其成本仅为以太坊网络上的一小部分。自 2020 年 6 月主网上线以来，zkSync 网络已经处理了 400 万笔交易，转账费用低至 0.20 美元。\\n\\nzkSync 的交易可以使用任何受支持的代币 (比如 ETH、DAI、RAI 等) 来支付交易费，也可以使用正在被转移的这种代币来支付，从而使用户无需为了支付交易费而持有某种特定的代币。\\n\\n截至撰文时，zkSync 网络中存入的 TVL (总锁仓价值) 为 2400 万美元。 截至目前，zkSync 网络最高的交易量是在一次 Gitcoin 赠款轮期间，峰值时该网络负载为每小时 20,000 笔交易，也即 5.6 TPS。尽管这比起 StarkEx 的 18,000 TPS 要少得多，但这持续了整整一个小时。 今年 7 月，zkSync 还增加了针对 NFTs 的功能，包括 NFT 的铸造、兑换、转移以及撤回至以太坊网络上。\\n\\n> \\n\\n所有 NFTs 元数据都上传至 IPFS 上，且 NFT 的铸造/交易成本仅约为 0.25 美元。 虽然 zkRollups 不需要像 Optimistic Rollups 那样存在一个提款至以太坊 L1 主网的等待期，但 zkRollups 确实需要等待区块被填满之后才会发送到 L1。在实践中，这意味着如果交易量较低，那么 zkRollups 的提款可能需要几个小时。\\n\\n![https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/85a85c55cf65ce748ad844c0302b2f3430d4198f.png](https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/85a85c55cf65ce748ad844c0302b2f3430d4198f.png)\\n\\n> 上表对比了 zkSync 和 StarkEx 的累计交易量、总锁仓价值以及周交易量 (10 月 1 至 7 日这一周)。\\n\\n# **03. 部署在测试网的 zkRollups**\\n\\n### **1) StarkNet**\\n\\nStarkNet 是 StarkWare 团队致力于推出的下一个 zkRollup 迭代，计划在本月发布一个 alpha 主网。这将使得 StarkNet 成为首个支持通用智能合约的完全可组合的 zkRollup 网络，而原本这被认为是好几年之后才能实现的事情。 可组合性 (composability) 是指应用程序之间相互协作、构建在相互之上和相互连接的能力。\\n\\n到目前为止，具有智能合约功能的 zkRollups，比如 StarkEx，并不具备使应用程序可组合的能力。 StarkNet 的测试网从今年 6 月开始上线并支持通用智能合约，并从 8 月份开始支持可组合性。\\n\\n在该测试网上部署应用程序是无须许可的，因此任何人都可以使用 Cairo 语言编写智能合约并将之发布在该测试网上，Cairo 是 StarkNet 网络的本地编程语言。StarkWare 团队还与 dOrg 合作提供了一个简单的 DEX (去中心化交易所) 来展示 StarkNet 的功能，如下图所示：\\n\\n> \\n\\n为了提供一个与以太坊类似的开发者体验，以太坊客户端 Nethermind 的 Nubia 团队已经着手致力于 Warp (一个将以太坊 Solidity 智能合约转译为 Cairo 合约的转译器) 的开发工作，该团队已经演示了通过 Warp 将以太坊 EVM 代码转译为 StarkNet 合约的能力。\\n\\nStarkNet 测试网无须许可的环境已经使得该网络实现了富有成效的试验。Twitter 用户 Guiltygyoza 也在 StarkNet 测试网上演示了物理模拟 (见下图)，开启了构建原语来支持游戏的大门。\\n\\n![https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/4a1760e6ffddde56dd8fe22294d9fdd40b79a8ab.png](https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/4a1760e6ffddde56dd8fe22294d9fdd40b79a8ab.png)\\n\\n> 推文：<https://twitter.com/guiltygyoza/status/1450161069058560000?s=20>\\n\\n### **2) zkSync 2.0**\\n\\nzkSync 2.0 是最初的 zkSync 网络的下一个版本，目标是在 zkRollup 上支持完全可组合的智能合约。zkSync 2.0 的测试网已经在今年 10 月初上线，最初在该测试网上部署的应用是 Curve Finance。见下图：\\n\\n![https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/4265f1d28ef2984398927c5895b4a951cb7278f6.png](https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/4265f1d28ef2984398927c5895b4a951cb7278f6.png)\\n\\nzkSync 2.0 还首次引入了一个 zkEVM **测试网**。zkEVM 是一个模拟以太坊环境的虚拟机，允许以太坊智能合约部署到 zkRollup 上面。今年 10 月份，zkEVM 测试网宣布了首个迁移至该测试网的应用 UniSync (Uniswap V2 的分叉版本)，从而展示该网络的功能。\\n\\n自 10 月份上线以来，UniSync 已经在该测试网上处理了超过 590,000 笔交易。不过，zkSync 的所有测试网目前都处于封闭测试阶段，只允许被列入白名单的应用进行部署。\\n\\n# **04. 路线图**\\n\\n路线图对于项目在定义未来目标和简化旅程方面很重要。StarkNet 和 zkSync 2.0 都有一个展示各自目标的路线图，二者的路线图都是朝着成为一个完全去中心化的系统并为用户提供安全性和稳定性的最终目标前进。\\n\\n### **1) StarkNet**\\n\\nStarkNet 的路线图主要有四步： Step 0：基础阶段 (已完成)Step 1：Platnets (行星)：单应用 Rollup (已完成)Step 2：Constellations (星群)：多应用 RollupStep 3：Universe (宇宙)：成为一个去中心化的 Rollup 网络 如下图所示：\\n\\n![https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/290ae45174be6dc341d7989cd6d9ab064eef9687.png](https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/290ae45174be6dc341d7989cd6d9ab064eef9687.png)\\n\\n最初的步骤是**为 StarkNet 的构建奠定基础**，这包括 Cairo 编程语言和 SHARP 功能，从而允许开发者能够使用一种专门针对 zkRollup 优化语言来构建智能合约，同时还能分摊成本。\\n\\nStep 2 是 StarkWare 团队当前正在构建的阶段，这一阶段将随着 11 月份 StarkNet 主网的发布而完成，这也将标志着 StarkNet 作为一个支持通用智能合约的完全可组合的 zkRollup 网络的发布。\\n\\n最后一步是 StarkNet 成为完全去中心化的、无须许可的 Rollup 网络。StarkNet 在主网上线时不会完成这一步，因为其主网在 11 月份上线时该系统将仍处于 alpha 测试阶段，以确保任何 bugs 都能够在不会在损害系统的情况下得到缓解。\\n\\nStarkNet 是尖端技术，其安全性需要时间进行实战测试。在最初的主网版本中，StarkNet 将运行唯一的定序器 (sequencer)，并且存在需许可的智能合约部署。\\n\\n但一旦 StarkWare 团队认为 StarkNet 网络已经足够安全，那么该网络将实现去中心化，这样先前仅由 StarkWare 团队运行的任何部件都将转变为无须许可准入。\\n\\n### **2) zkSync**\\n\\nzkSync 路线图的第一个阶段始于 zkSync 1.0 的部署，也即部署一个专注于可扩展性支付的 zkRollup 网络。\\n\\n![https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/169a9b6bcee5231515cb306a50a31a0177af5f7d.png](https://blockbeats--client.oss-cn-zhangjiakou.aliyuncs.com/upload/2021-11-19/169a9b6bcee5231515cb306a50a31a0177af5f7d.png)\\n\\nzkSync 路线图的第二阶段是计划在一个称为 zkSync 2.0 的全新网络上支持可组合的智能合约，预计将在**未来几个月的某个时间在主网上发布**。此外，一种称为 Zinc 的新编程语言将作为 zkSync 2.0 智能合约的本地语言。\\n\\nzkSync 2.0 还将引入 zkPorter，这是一条允许 zkSync 2.0 用户将交易数据发布在 zkPorter (链下) 而非以太坊 (链上) 的 PoS 链，从而能够实现更高的交易吞吐量。由于 zkPorter 交易并不会受到以太坊交易费的限制，因此预计 zkPorter 将成为一个成本更加低廉的替代选择。\\n\\n第三阶段将引入**隐私性**，这将解锁 zkRollups 的另一个知名属性。这将会在零知识证明 (zk proofs) 不会给该系统增加大量成本的时候完成。\\n\\n最后的阶段涉及到将 zkSync 2.0 过渡到具备抗**审查性**，这将要求该系统实现去中心化，并通过消除 Matter Labs 对该网络的任何控制来使其成为无须许可的网络。\\n\\n# **05. 总结**\\n\\nStarkWare 团队和 Matter Labs 团队都致力于以 zkRollups 的形式提供具备尖端技术的网络，他们的 zkRollups 网络都正在区块链可扩展性、隐私性和高效密码学方面突破边界。\\n\\n就目前你可以使用的网络而言，StarkEx 已经上线了四个应用：DyDx 和 DiversiFi 用于交易，ImmutableX 和 Sorare 用于 NFTs；zkSync 则适用于简单支付，并通过 ZKNFT 市场推出了 NFT 功能。\\n\\n尽管在这两个方案中，StarkEx 的使用量和性能都明显优于 zkSync。鉴于 StarkEx 处理的累计交易量已经达到 1850 亿美元，并提供了可验证的 9,000 TPS 的交易能力，这使得 StarkEx **不仅成为使用量最高的 zkRollup，同时也是交易量最高的 Rollup** ——其交易量超过了 zkSync、Optimism 和 Arbitrum 逾 10 倍。随着 StarkNet 即将于本月主网上线，StarkWare 团队将推出一个支持通用智能合约的完全可组合的 zkRollup，而很多人原本认为这要好几年之后才会发生。\\n\\n最后，请关注 StarkNet 和 zkSync 2.0 的主网版本，因为这是我们所知道的**区块链扩容的未来**。\",\"timestamp\":1639210307,\"title\":\"全面解析zkRollup：以太坊扩容赛道格局\"},\"digest\":\"VlAzOb5dGAbn6zX6i9jsWsAjm_oXi25Vzmu8yzmMEUA\",\"authorship\":{\"contributor\":\"0xf3FE8c6c75bE4afB2F8200Fc77339abE4D7CFF33\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"jMBCqqQ-oG9HvvVCgi3AUypOhndSu9x03ivXkjS5rsA\\\",\\\"y\\\":\\\"dSfdNvTkULxhYfMLG8_0I65r4vcjXkSKEyR27inkK-c\\\"}\",\"signature\":\"LY3pVtvpwoN38j4x5Y1DSFA-ZieXxh7OQeMTxGT-45sAcwg5lH3baWayOSZ_IQ-0to-aGKsPBJGCkgVnXLPnJA\",\"signingKeySignature\":\"0x4d22044a2afbb8b1d1a98995ebf8225a4e2e88652e2965c0b59f06fc1c0c65bf0be3f7090db1775cfb6885d10d484aa89171d1bd95a1455cf39f9ddfbe6f894f1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"jMBCqqQ-oG9HvvVCgi3AUypOhndSu9x03ivXkjS5rsA\\\",\\\"y\\\":\\\"dSfdNvTkULxhYfMLG8_0I65r4vcjXkSKEyR27inkK-c\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"VlAzOb5dGAbn6zX6i9jsWsAjm_oXi25Vzmu8yzmMEUA\"}"