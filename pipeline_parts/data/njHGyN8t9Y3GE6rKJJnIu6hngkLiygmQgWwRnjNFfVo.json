"{\"content\":{\"body\":\"本文首次发布于2022-01-08，微信公众号IOSGVC\\n\\n![](https://images.mirror-media.xyz/publication-images/B-M_iKT8lowfud2-yAlCk.png?height=933&width=1400)\\n\\n> 前言\\n\\n\\n2021年12月18日的第八届老友记Scaling Summit上，我们很荣幸地邀请到了**imToken的首席科学家Chang-Wu Chen**，为我们带来精彩的主题演讲。\\n这次的主题演讲讲述了Layer2网络、DeFi协议的现在和将来以及这些技术如何结合在一起来开发下一代钱包。Chen首先指出L2提供了高TPS和低交易费用的安全扩展方案，钱包产品可以通过该方案拥有更多的用户和资产，并进一步对比了Arbitrum、Optimistic、ZK-rollups和StarkWare的开发者友好性，可组合性和更好的用户体验。Chen介绍了三种应用场景各自的跨链桥解决方案，以及imToken从开发者和用户的角度在通用性上所做的努力，包括EIP-3668标准方法允许开发者从不同的L2获取链下数据以及需要定义标准以拥有通用的钱包访问接口以改善用户体验。\\n\\n点击[此处](https://youtu.be/JZ14j91zx54)观看完整视频\\n\\n全文阅读：\\n\\n\\n大家好，感谢您邀请我参加 IOSG Scaling Summit。今天我将从钱包的角度谈谈L2生态系统的现在和未来。我是 imToken 的Chang-Wu。目前，我带领 imToken 实验室在中国台湾进行研究，包括我们的下一代钱包设计、DeFi 协议和 L2 解决方案，并了解如何应用这些技术使我们的产品变得更好。\\n\\n我们的使命和愿景是构建最可靠、最直观的数字钱包，让每个人都能平等地进入token化世界。所以这就是为什么我们认为 L2 解决方案对于我们在不牺牲安全性的情况下为用户构建高性能和低交易费用的环境非常重要。尤其是在今天，用户无法负担在以太坊主网上执行操作的费用。虽然我们可以看到很多新用户开始进入加密领域尝试 DeFi、GameFi 和 DAO 应用程序，但高昂的交易费用成为障碍，使他们转向其他链。\\n\\n幸运的是，L2 解决方案在最近几年变得更加成熟并且发展迅速。让我们来深入看一些数字。这是来自 [defillama.com](http://defillama.com) 的数据。我们可以看到，锁定在所有链上的总价值，前 5 名分别是 Ethereum、Binance、Terra、Solana、Avalanche。当你看到这些数字时，你会怎么想？为什么 Polygon 六月份很流行，但它却不在前五？答案是区块链市场竞争激烈且变化相当快。对于 L2 上的 TVL，目前约为 58 亿，是以太坊的 1/30，未来仍有增长潜力。如果我们看 L2 数字，我们可以发现 TVL 在 8 月底 Arbitrum 推出主网后，开始迅速增长。凭藉着 EVM 兼容的优势，越来越多的 DApp 部署在 Arbitrum 上，例如 UniSwap、Curve、Balancer 等。\\n\\n此外，从 StarkEx 的每周统计数据来看，StarkEx 上每周有数百万笔交易。与去年相比，L2 的应用程序更多，而不仅仅是token支付应用。对于交易费用，数据是来自 [L2fee.info](http://L2fee.info) 网站。L2 的费用比主网便宜。ETH 转账便宜  1/4 ，token兑换少了 95% 的交易费用。但是，rollup 的解决方案有很多，我们应该选择哪一种，有什么区别呢？现在主要有两种 rollup 解决方案：zk-rollups 和 Optimistic rollups。对于这两个方案，它们都将计算移到链外，并将压缩的交易数据存储在链上。唯一的区别是 zk-rollup 使用有效性证明，这意味着 zk-rollup 不仅将数据存储在链上，且带有密码证明来验证交易，并更安全。另一方面，Optimistic rollups 使用欺诈证明，并假设所有交易都是有效的，而无需验证数据的正确性，直到检测到欺诈交易。但也因此，当用户需要将资金提取回 L1 时，需要等待挑战期。目前，Arbitrum 和 OP 是 EVM 兼容的。从可用性的角度来看，它们对开发人员部署智能合约友好。因为开发人员不需要重写代码并且可以利用现有的开发工具。\\n\\n此外，DApp 的可组合性得以保留，因此我们仍然可以拥有 DeFi 乐高区块。只有挑战期是一个大问题。因此，Optimistic rollups 可以作为短期解决方案。对于 zk-rollups，与 Optimistic rollup 相比，它更安全且提款时间更短。但是，它目前不兼容 EVM。开发人员需要学习新语言来编写智能合约。而生成有效性证明也相当耗时，需要对硬件进行优化。但是，我们仍然可以期待它的发展。\\n\\n最近，由 StarkWare 开发的 StarkNet 主网上线，并可提供 DApp 组合性。尽管合约开发需要在 Cairo 语言编写，但 openzeppelin 已经提供一些合约模板，并且它们是开源的。StarkNet 的开发人员工具经常更新，并有完整的文档。我建议，如果您是开发人员，也许您可以去尝试一下。这也可以成为一个可行的解决方案。\\n\\n迄今为止，有许多 DeFi 项目已经部署在 L2 上。像是 Perpetual、Synthetix、Uniswap，部署在 Optimism 上。而 Arbitrum 上有 Sushiswap、Chainlink、Curve、Uniswap。由 imToken 孵化的 Tokenlon 也在 Arbitrum 上进行测试。此外，dydx、DeversiFi、Immtable X 都在 StarkEx 服务上运行。\\n\\n在我看来，一些项目可能会成为那些还没有决定在哪里部署项目的参考指标。例如 Uniswap 和 Chainlink，它们是 DeFi 协议的构建块，项目需要它们来进行token交换或上架。但对于那些不依赖他人的项目，如果钱包支持交互或可自行成为一个独立的生态系统，他们可以选择任何想要的方案。\\n\\n接下来，我们将探索 L2 上与钱包相关的主题。众所周知，用户加入 L2 的第一步是从 L1 存入一些token。用户只需对交易进行签名并等待其确认即可。对于所有 L2 解决方案，都是一样的。这一步很简单，然后用户会看到他钱包裡的余额。得力于 EIP-3085 的帮助，钱包可以很容易地与多个网络进行交互，从而用户可以获得更好的体验。\\n\\n用户在存款后，可以在 L2 做任何事情，直到他们想退出 L2。一旦用户想把他的资金提领回 L1，他会提出提款请求。因为 zk-rollup 和 optimistic rollup 的特性不同，使得提款时间也不同。特别是对于 optimistic rollup，用户取回他的资金，需要的挑战期为 1 周。而对于 zk-rollup 的解决方案，需要的时间是从几分钟到几小时。与 L1 上的用户体验相比，提现时间需要更长的时间。此外，不同 L2 解决方案的用户体验并不一致。\\n\\n因此，桥梁成为 L2 生态系统中的重要角色。跨链桥负责将资产保存在区块链上，而相同的资产在另一条链释出。我们需要桥的三种情况：\\n\\n1. 从 L1 转移到 L2\\n2. 从 L2 转移到 L1\\n3. 从 L2 转移到 L2\\n\\n让我们来看第一种情况，从 L1 到 L2 的转移只是存款，所以每个 L2 解决方案都提供了它们的原生桥。看似有没有桥是没必要的。但是有了网桥，用户可以在不同的 L2 上有一致性的用户体验。第二种情况，从 L2 到 L1，由于 optimistic rollup 的提款时间较长，如果有一个网桥可以帮助用户从不同的 L2 方案中快速提款，那就更好了。所以我们需要一个代理支付的角色，为用户提供资金，让用户能立即获得他们的资产，但作为交换，Bonder 会收取少量的费用，来承担定价风险。对于第三种情况，从 L2 转移到 L2。这就像用户将资金分配到不同的银行一样。如果有一天用户想买房子或什麽东西，但在一家银行内没有足够的资金。则用户需要在不同银行之间进行平账。 而这问题，我们称之为流动性破碎问题当我们处于有多个 rollup 的世界时，就会发生这种情况。对于一般用户来说，如果他不能在不同的 L2 之间简单移动资金，那么他可能会只留在一个 L2 上。现在有很多桥接解决方案，比如 Hop 协议、cBridge，或者像 AnySwap 或 XY 这样的跨链交换。\\n\\n最近，币安宣布支持在 Arbitrum 上充提。所以我认为未来会有更多像币安这样的 CEX 充当桥梁。除了 L2 解决方案外，EIP 提出 EIP-4488 和 EIP-4490 以降低 calldata gas 开销。正如我们之前提到的，rollup 解决方案需要将数据存储在链上，但区块有 gas 限制。Vitalik 和一些研究人员建议降低 calldata 的 gas 开销，这样一个区块就可以容纳更多的数据。\\n\\n这就像有一个相同大小的盒子，如果你可以在不超过体积的情况下填充更多的东西。问题是箱子会变得比以前重很多，只剩少数工人可以搬运箱子。因此，如果我们想存储更多数据，更大的区块会引入节点处理和同步的问题。这导致客户端需要更大硬盘空间的开销，因此 EIP-4444 建议修剪历史数据。此外，如果我们有一个 multi-rollup 的世界，我们需要考虑如何以通用的方式取得链下数据，尤其是有多种 L2 解决方案下。想象您是一名开发人员，您需要阅读不同的文档以了解如何从不同的 rollup 中获取数据。而 EIP-3668 提供了一种用于链下数据取回的标准方法。\\n\\n最后，让我做一个简短的总结。L2 很棒，是一个理想的世界，我们可以拥有更多的用户和资产。它提供了一种具有高 TPS 和低交易费用的安全扩展解决方案。但是基础设施正在构建中，我们需要一个桥梁快速提款或者做跨链交换而不退出 L2。同时，我们需要定义标准以拥有一个通用的钱包访问接口，这会使用户体验得到改善。抽象账户是较少触及的题目，但可以为用户提供更多功能，例如社交恢复或自定义验证方案。但它也需要一个标准让钱包知道如何验证交易。即使我们做了所有这些，我们仍然需要一个新钱包来吸引新用户。这就是 imToken 钱包的目标，即打造最可靠、最直观的数字钱包，让每个人都能平等地进入token化的世界。感谢您的聆听，希望您喜欢这次演讲。 谢谢！\\n\\n**关于主办方**\\n\\n\\n🌟 IOSG Ventures\\nIOSG Ventures成立于2017年，是由社区驱动的研究型早期美元基金，专注于开放金融、Web3.0和区块链基础设施早期生态。IOSG一直积极参与各种开发者社区和DAO社区建设，投资于全球最具潜力的创始团队。同时作为开发者友好型基金，我们秉持长期价值理论，推出了Kickstarter项目，为有想法并敢于创新的开发者提供资金和资源协助。我们坚持与合作伙伴及项目团队以及社区的密切合作，相信IOSG必将成为他们创业旅程的坚定陪跑者。\\n\\n\\n🌟 StarkWare\\nStarkWare是为大规模扩展区块链行业开发基于STARK的解决方案，使区块链应用程序的操作安全可靠。STARK有效性证明确保了以太坊安全、快速的结算时间和顺畅的用户体验。解决方案支持一系列数据可用性模式，包括StarkNet和StarkEx。StarkNet：一个无许可去中心化的Validity-Rollup。任何开发者都可以部署任何dApp，使用智能合约，实现更大的规模。StarkEx：一个独立的、可定制的rollupSaaS，dApps可以构建在StarkEx服务上。StarkEx服务支持一系列用例：NFT铸造和交易、衍生品交易、AMM、现货交易、支付和DeFi池。它目前扩展了dYdX(衍生品交易)、Sorare和Immutable(NFT铸造和交易)以及DeversiFi(现货交易和支付)。\\n\\n\\n🌟 imToken\\nimToken 是一款去中心化的数字钱包，用于承载加密数字世界的资产、身份和数据，成立于 2016 年，imToken 已在全球 150 余个国家和地区，累计为超过 1200 万用户提供了安全可信赖的数字资产管理服务。目前 imToken 支持管理比特币、以太坊等 12 条主流区块链，以及更多 EVM 兼容链，同时支持去中心化币币兑换功能与开放的 DApp 浏览器。\\n\\n\\n🌟 Arbitrum\\nArbitrum 是由 Offchain Labs 研发的以太坊二层扩容方案。采用 Optimistic Rollup 技术，在不牺牲以太坊安全性的前提下，Arbitrum 使超高速，低成本的交易成为可能。2021年8月底上线以来，Arbitrum 已有100+生态项目部署。Arbitrum 已全面兼容 Ethereum Virtual Machine。为进一步提高开发者体验，未来还将在 Arbitrum Nitro 升级中加入 WASM 支持。\\n\\n![](https://images.mirror-media.xyz/publication-images/VIztHqBZ0tWnt02JUhomb.png?height=798&width=1372)\\n\\n\",\"timestamp\":1642414909,\"title\":\"从钱包的角度讲述L2的现在和未来 | 第八届老友记Keynote精彩回顾\"},\"digest\":\"Lrc1rQzm6YgoEs8YXZCSwAQqN-Uiyh-96wv1KhAxii4\",\"authorship\":{\"contributor\":\"0x5Eba828AB4999825D8416D7EAd9563b64FD90276\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"vfbDo9LoM4JsLXJReImBKPScsREbsknZ3DBvIkTPuY8\\\",\\\"y\\\":\\\"VsJvWOFcjNa6PFy-H4RKKRIzzBkzrn2OqxDRrhfID0g\\\"}\",\"signature\":\"U0t4A0JO0pZfxgWNomHDopYGpu9Gxy2RLlVODFtx2TqQ5pCfpvNCP-jNyZJIeDy7kVV8Cl6N_sZTzuyHkoqacg\",\"signingKeySignature\":\"0x388807b7638e5119d43755be8f4323b255625a124080848b9edfcc905bc1d41e5e2d28df1d6eafbcbf89aa06acd81e7044dc7689851d7bc4f647207014893f8a1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"vfbDo9LoM4JsLXJReImBKPScsREbsknZ3DBvIkTPuY8\\\",\\\"y\\\":\\\"VsJvWOFcjNa6PFy-H4RKKRIzzBkzrn2OqxDRrhfID0g\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"Lrc1rQzm6YgoEs8YXZCSwAQqN-Uiyh-96wv1KhAxii4\"}"