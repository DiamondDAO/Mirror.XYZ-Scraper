"{\"content\":{\"body\":\"# 质押挖矿的奖励产生\\n\\n质押挖矿是将质押代币存入矿池中，矿池每分钟或者每个区块产生一些奖励代币，然后按照质押代币的份额将奖励代币派发给用户。\\n\\n# 质押挖矿的算法推导\\n\\n### 一般思路\\n\\n1. 将每分钟产生的奖励代币除以当时的质押代币总份额，计算每个份额的奖励；\\n2. 遍历所有质押的用户，按照持有的质押代币份额 \\\\* 每份额的奖励 给每个用户增加相应的奖励；\\n\\n这个思路在其他语言中可行，但是在solidity中是不行。原因就在于，EVM的状态改变是需要成本而且是有gas限制的，如果遍历的用户特别多，就会造成gas耗尽，导致失败。\\n\\n### 累加思路\",\"timestamp\":1642780984,\"title\":\"质押挖矿合约的奖励算法推导\"},\"digest\":\"06duAnkI67pImdo4BjH-TshZcR-qqp96yzIQmL3vdVE\",\"authorship\":{\"contributor\":\"0xA20e4d34EB73471acF4ECDe16917Eb9589aAcC3e\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"r2_JcsdxpDdSnekgMli6Q_LFESkDEDk6b9B_yLgNTm0\\\",\\\"y\\\":\\\"nlg5Q8A2acvqboavNkob2C7VRi1lKvXtlof3EFxDxo8\\\"}\",\"signature\":\"iObPUg1oN9ydhsC893G6UNsY-vFxBtt0CmPoYY-yqIGvm-M7WAgdKVHIyBcKnFpc0JBRsKlV2peHVfRy8i5A1Q\",\"signingKeySignature\":\"0xf25c3beeba0dfccbabfd75d794685600de3439a1184ad4a5e6438f31bea4abf55709e751ef3b929fef5bec3d53b96d6f25774dbf58c9ee7c6bd0dbaf861ca9c71b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"r2_JcsdxpDdSnekgMli6Q_LFESkDEDk6b9B_yLgNTm0\\\",\\\"y\\\":\\\"nlg5Q8A2acvqboavNkob2C7VRi1lKvXtlof3EFxDxo8\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"8_SxRihSUZMz9TUeHPkJHL_m24CoyAbzMQj5x_L5p6g\"}"