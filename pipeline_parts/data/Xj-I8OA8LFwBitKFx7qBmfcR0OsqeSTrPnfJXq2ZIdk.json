"{\"content\":{\"body\":\"近期网上流传着一份中国电信发布的《挖矿探测及阻断解决方案》的文档，让很多在国内偷偷挖矿的小散顿感惊慌，自从21年五月份国家打击挖矿以来，大部分地区的规模性矿工普遍迁移到海外，只有部分个人散户继续在家里挖矿，同时9月份各地出台的打击挖矿政策大部分是以企事业单位为主，面向个人的挖矿暂时还未涉及，而现在电信运营商开始对挖矿活动进行监控，一些散户也开始逐步减小挖矿规模，甚至退出挖矿市场，可见在网络层面上的打击，对很多散户还是有较大威慑作用的。\\n\\n![](https://images.mirror-media.xyz/publication-images/s06EeaWsN66oWM0wSqXNz.png?height=920&width=648)\\n\\n文件指出大部分非法挖矿主要是由于电费支出比较大，部分硬件比如1050Ti挖矿亏损，所以出现了使用单位计算机设备进行挖矿的行为。为此电信运营商提供了两种解决方案，分别为分析+管控部署方案和旁路分析部署方案。\\n\\n![](https://images.mirror-media.xyz/publication-images/NHGNU1UFbJ7YS1HB4ZWQX.png?height=465&width=660)\\n\\n![](https://images.mirror-media.xyz/publication-images/rd5Cm6LDG2ZwT7Y7RUxxr.png?height=463&width=648)\\n\\n 从网络架构图中我们可以看到第一种方案可以用于筛查挖矿行为，并对其挖矿网络进行阻断，阻止挖矿的发生，第二种则是用于筛查和监控挖矿行为，并未进行阻断。\\n\\n \\n\\n对挖矿行为的筛查和发现主要分为IP筛查、协议筛查两种，其中IP筛查主要是通过长时间、固定连接某个IP的设备进行重点监控，比如在凌晨等网络活动较低的时间段通过监控数据流量的方式来筛选挖矿设备。\\n\\n \\n\\n另外一种方式则是通过监控协议层，目前大部分挖矿行为是矿工接入矿池而进行的，矿工使用的协议主要有Stratum+TCP、SSL的两种方式。\\n\\n \\n\\nStratum协议于2012年出现，主要是通过TCP的形式来建立矿工和矿池的数据连接，其中矿工向矿池发送的数据如下：\\n\\n \\n  \\n\\n![](https://images.mirror-media.xyz/publication-images/MgDJAXD5E0jnrR2i1-Asv.png?height=373&width=720)\\n\\n \\n\\n矿池向矿工发送的数据如下：\\n\\n \\n\\n![](https://images.mirror-media.xyz/publication-images/uX5k6a0Lv9qlz0gpa6aGs.png?height=409&width=720)\\n\\n \\n  \\n\\n \\n\\nStratum协议目前来说，是非常不安全的，因此大部分小矿工都开始使用SSL的方式进行挖矿，SSL协议最大的特点是可以对数据进行加密，因此对于电信运营商来说，他们是无法获取具体传输的数据明文，这样从理论上来说是安全的。\\n\\n \\n\\n也正因为此，电信运营商提出的IP筛查就派上了用场，直接通过对IP地址和数据包进行长期监控，同时收集矿池的最新IP地址，这样可以杜绝大部分挖矿散户（使用最简单的比如轻松矿工软件的用户）。\\n\\n \\n\\n**实际效果分析**\\n\\n \\n\\n由于stratum是目前大部分矿池都使用的协议，而在其他网络数据传输中用的比较少，因此通过对stratum进行阻断可以有效的遏制挖矿。\\n\\n \\n\\n对于SSL协议，可能情况会比较复杂一些，一方面使用SSL协议的场景比较多，因此通过协议分析很容易会出现“误杀”的情况，因此结合IP和数据流量分析是一个不错的方案，但是这也有一定概率的“误杀”，因此还需要通过其他策略来进行配合，才能有效阻断SSL协议的挖矿模式。\\n\\n \\n\\n对于solo的挖矿方式，由于比特币、以太坊等加密货币的solo挖矿难度比较高，因此使用solo大部分是一些新兴的加密货币或POS币种的节点，散户几乎很难进行solo挖矿，这部分由于市场份额较小，同时币种比较多，对应的也有不同的技术和应对方式，因此需要耗费大量人力物力，投入产出比相对较低，因此暂时并没有获得电信运营商的关注。\\n\\n \\n\\n当然即使从理论上来说，不管stratum或者是SSL都有应对方案，但是实际上挖矿数据传输的方式也在不断更新，比如矿工通过开设海外服务器，将挖矿数据进行加密中转，或者矿池为矿工提供私池和专用的代理工具，这些都是很好的应对策略。因此挖矿数据传输的改进与电信运营商的网络阻断方式其实是一个猫与老鼠的游戏，而最终的结果并不能完全扼杀散户挖矿，只能不断提高门槛，让小白退出国内挖矿市场，这也是我们预期的结果。\",\"timestamp\":1642603900,\"title\":\"中国电信发布挖矿阻断方案，挖矿要凉凉？\"},\"digest\":\"CKaHOXUdowj4bmixrFG75gy5nhCF-yJjpDxXJWEFisg\",\"authorship\":{\"contributor\":\"0xDD1Ad64C7FAC74d015c6354f07Bd18B70643fae0\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"mgFz6tM5enZCIG9JdbQAq3A1Dcuv3aIzlxiW3ykh218\\\",\\\"y\\\":\\\"X7RQL3uyyHiIWKbBCFAr5edhOPdmgoWSO9BW8Kxc8Co\\\"}\",\"signature\":\"afAkWQYa2AZhLwMOa78KabzQv8rABstOQ50QyLrPkq19-DkL3VIIp4PeuDCjgf9ztXfLDBla-OEBHGrpWZpfQA\",\"signingKeySignature\":\"0x890dfa197f57920c58b2e57a710916e248fb2514a64b79d8c93b523083d942451409c2f1549fc96c1a532953a447fef73876aa4007f801971cc1e71804d84b1e1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"mgFz6tM5enZCIG9JdbQAq3A1Dcuv3aIzlxiW3ykh218\\\",\\\"y\\\":\\\"X7RQL3uyyHiIWKbBCFAr5edhOPdmgoWSO9BW8Kxc8Co\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"CKaHOXUdowj4bmixrFG75gy5nhCF-yJjpDxXJWEFisg\"}"