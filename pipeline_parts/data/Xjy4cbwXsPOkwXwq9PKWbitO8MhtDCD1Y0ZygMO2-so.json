"{\"content\":{\"body\":\"被视为比特币数年来“最雄心勃勃的升级”， Taproot 在业内尤其是比特币爱好者的眼中确实代表着着非比寻常的意义，甚至是“目前为止比特币协议升级提议中最具重要性的一次”。\\n\\n但与引起行业大辩论的以太坊 EIP 1559 提案相比，Taproot 升级引发的行业声量并不大，不少朋友甚至都没怎么听说过，那究竟什么是 Taproot 升级，它又将为比特币带来怎样的改变？\\n\\n01 \\n 什么是 Taproot 升级 ?\\n\\n \\n Taproot 激活\\n\\n比特币每隔段时间就会更新一次（网络软分叉），主要通过比特币改进提案（BIPs）的形式为比特币引入新功能和信息。\\n\\n而此次最新的 Taproot 升级，就是三个 BIPs 的汇编“升级包”，也即 Taproot 升级包含了 Schnorr 签名 (BIP 340)、Taproot (BIP 341) 和 Tapscript(BIP 342) 三个部分：\\n\\n1、BIP340 — Schnorr 签名\\n\\nSchnorr 签名计划长期以来一直列在许多比特币开发者的愿望清单上，作为由德国数学家和密码学家 ClausSchnorr 开发的密码学数字签名方案，主要以其生成短签名的简便性和效率著称。\\n\\nSchnorr 签名的主要优点之一是它们能够在复杂的比特币成交中获取多个密钥并产生唯一签名。这意味着涉及多方的签名可以被“汇总”成单一的 Schnorr 签名，所以被称为聚合签名。\\n\\n所以一言以蔽之，Schnorr 签名主要是节省空间、减少费用，也被誉为比特币 Segwit 后的最大技术更新。\\n\\n2、BIP 341 — Taproot\\n\\nTaproot 是在 Schnorr 签名基础上的解决方案，它可以包含复杂的成交条件和资金使用细节，再把所有这些内容作为一个新的资金使用条件（新的锁）提供给外界使用，这个新的使用条件和该使用条件下的解锁方法（新的钥匙）是通过 Schnorr 的线性特征来支持的。\\n\\n这就为用户提供了消费 (不是收款) 时，在复杂的任意脚本和简单地支付到公开密钥之间进行选择的能力，此外密钥聚合还使所有的 Taproot 输出看起来类似。\\n\\n所以由于多重签名输出、单签名输出和其他复杂智能合约在区块链上看起来都是一样的，许多区块链分析将不可用，从而为所有 Taproot 用户保留隐私。\\n\\n3、BIP 342 — Tapscript\\n\\nBIP 342 添加和更新了几个操作码，这些操作码是指定要执行的操作的机器语言指令的一部分。这些新脚本有助于验证 Taproot 开销和 Schnorr 签名，统称为 Tapscript，最大限度地提高了 P2TR 支出的灵活性，也有利于未来的升级。\\n\\n它将提高脚本功能和隐私，可以通过在支出时只显示合约的相关部分，来帮助使智能合约更加高效和私密。\\n\\n简言之，Tarpoot 升级的核心就在于 Schnorr 签名，而 Taproot 在 Schnorr 签名算法的基础，可以为比特币带来性能、隐私乃至智能合约方面的全新组合和可能性。\\n\\n02 \\n Tarpoot 升级 \\n 比特币协议升级提议中最具重要性的一次 \\n \\n\\n众所周知，比特币是通过数字签名来解锁 UTXO 中的未花费余额从而完成兑换，具体可以对一笔兑换进行简单拆解——以 A 转给 B 一个比特币为例，实际过程可分为“解锁”、“加锁”两步：\\n\\n1. 解锁：A 提供自己的私钥，而完成解锁，从而证明这一个比特币属于自己并可以调用；\\n2. 加锁：A 用 B 的公钥把这一个比特币加锁，然后转给 B，从而只有 B 能够用它自己的私钥进行解锁使用；\\n\\n也即比特币需要利用公钥进行加锁，利用私钥进行解锁，从而实现加密货币的转账兑换，而公钥、私钥的产生则是通过数字签名算法，而上面提到的 Schnorr 签名就是新的签名算法。\\n\\n它最突出的特点在于可以把多个公钥或多个私钥签名聚合成一个新的公钥或一个新的签名，可以简单理解为把多个需要同时解开的锁变成一个锁，把用于解锁的一串钥匙变成一把钥匙。\\n\\n所以从这个角度讲，被视为“比特币协议升级提议中最具重要性的一次”的 Tarpoot “升级包”，对比特币所能带来的改变可能是多方面的。\\n\\n* 性能——类似 Rollup 的扩容效果\\n\\n首先，性能角度的改善是最直接的。因为基于 Schnorr 签名的 Taproot，可以包含复杂的兑换条件和资金使用细节，再把所有这些内容作为一个新的资金使用条件（新的聚合签名锁）提供给外界使用。\\n\\n这样就减少在区块链上传输和存储的数据量，使得单个区块包含的成交更多，进而降低成本，起到了扩容的效果（其实笔者觉得有点像以太坊上的 Rollup）。\\n\\n* 隐私——增强比特币网络的隐私选择\\n\\n其次，隐私角度讲也将获得最大的加持。因为 Schnorr 签名虽然不会使公共区块链上的个人比特币地址更加匿名，但会使简单的兑换与那些更复杂、由多个签名组成的兑换难以区分。\\n\\n同时，这也能让用户将复杂的智能合约作为普通比特币兑换来掩盖，为用户带来更大的隐私性。\\n\\n03 \\n 比特币的“艰难支付”之路\\n\\n7 月即将迎来的以太坊伦敦升级，除了包含了 EIP-1559 这个翘首期盼的提案，还有 EIP-3198、EIP-3529、EIP-3541 和 EIP-3554 在内的共计 5 个提案。\\n\\n而不同于以太坊里无边界创新不断涌现的蓬勃生态，比特币的升级倒是向来声量很小，相信很多朋友甚至都已经觉得比特币的开发可能处于停滞状态。\\n\\n尤其是 2020 年以来，大家似乎已经逐步默认了比特币“数字黄金”的定位，而 淡忘了曾经引发业内激辩，乃至“BCH 分叉”背后“全球货币”的支付属性，看起来技术应用方面的升级也没那么重要了。\\n\\n闪电网络：比特币容量\\n\\n就像致力于比特币小额支付的“闪电网络”（Lightning Network），历经了近三年半的努力，锁定的比特币数量终于突破 1500 枚，相比 2021 年年初增长了 42%，创下历史新高，看起来成绩斐然。\\n\\n但与此同时，在过去的一年时间里，以太坊链上比特币锚定币总发行量则就已经几乎从 0 开始，突破了 25.2 万枚，比特币闪电网络数年辛勤推广，到底连“ERC20 比特币”的零头都比不上。\\n\\n而 Taproot 升级可以算得上是一场及时雨，强化比特币在支付性能、隐私方面的可用性，包括闪电网络，如果采用 Taproot，可以通过使渠道看起来像常规的比特币兑换来改善闪电网络的隐私，或许可以回补比特币作为“全球货币”地位，使其在与“数字黄金”的定位竞争中更具优势。\\n\\n不过无论是“数字黄金”愈受欢迎，还是“全球货币”才是初心，或许比特币已经和包括以太坊在内的其它所有加密货币，都已不是同类的物种。\\n\\n本文为旧文重发，附原文链接：比特币 4 年来首次重要升级，带来了什么重大变化？\",\"timestamp\":1638675532,\"title\":\"比特币即将迎来的Taproot升级，会带来什么重大变化？\"},\"digest\":\"htOMo4dXCD_NsIuqPcxko88PEPMITfNbX_JRacMIoVQ\",\"authorship\":{\"contributor\":\"0x6dfDa7ff46A2bA77726D3e774AAa89A70C591148\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"9DKXu68aJ_psXG-AO3HBlNv-oYZU6WfMzz_KIDtqZ_I\\\",\\\"y\\\":\\\"mBtx55DR-3gG1NECfVysXfodtJOSmfCu941VvTNMPPs\\\"}\",\"signature\":\"XJx1K5ejv2bLp1_dBUdTeRwULdpfBBK0mjH1gNiv_MFbZuDDzQrpll7-eFGxIModcJFaGhHhzcKK_cSRDqsn5Q\",\"signingKeySignature\":\"0xb231c4c4f6de7d1630d461c556744d5a542e623bb87eafb92c25748a4876c14374999d67911a5d4ae742829b723eb0d2f59125dc5d526eed94bb591dfe1ae4871b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"9DKXu68aJ_psXG-AO3HBlNv-oYZU6WfMzz_KIDtqZ_I\\\",\\\"y\\\":\\\"mBtx55DR-3gG1NECfVysXfodtJOSmfCu941VvTNMPPs\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"htOMo4dXCD_NsIuqPcxko88PEPMITfNbX_JRacMIoVQ\"}"