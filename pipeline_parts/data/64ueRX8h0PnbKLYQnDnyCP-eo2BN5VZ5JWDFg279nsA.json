"{\"content\":{\"body\":\"[![W3.Hitchhiker](https://miro.medium.com/fit/c/56/56/1\\\\*Ddy75jp9AU6OeEcnLKhY_w.png)](https://medium.com/@W3.Hitchhiker?source=post_page-----a0c92ec448e4-----------------------------------)\\n\\n作者：Rex |W3.Hitchhiker\\n\\n修订：Aaron |W3.Hitchhiker\\n\\n早在一年之前，以太坊就出现了网络拥堵和gas费用高昂的问题，那时候Layer 2的概念就一直在被提及。只不过在那个时候，L2带给我们的感觉，更像是以太坊为了和其他公链竞争市场，而做出一种的抵御手段。然而到如今，L2的话题越来越热，L2对整个加密世界的意义似乎也不再只是作为以太坊的“防御机制”了。\\n\\n## 不可能三角与单片式区块链\\n\\n首先，让我们追本溯源，从区块链不可能三角说起。\\n\\n区块链的不可能三角问题指出，由于技术上的限制，你只能同时提升区块链三个属性中的两个，必须牺牲其中一个属性。\\n\\n这三大属性（及其技术要点）分别是：\\n\\n1.去中心化：网络节点数量；是否有中心节点；\\n\\n2.安全性：攻击网络的难度；\\n\\n3.可扩展性：系统的数据吞吐量及TPS。\\n\\n![](https://miro.medium.com/max/930/1\\\\*gmz1ZDn23z54IOkebg5aqQ.png)\\n\\n此外，实现这三大属性需要相应的底层组件，分别是：\\n\\n1.共识：提供安全性，并界定存储数据的真实性。\\n\\n2.执行：将旧状态转换为新状态，这个过程需要通过计算执行完成。（区块N更新为N+1）\\n\\n3.数据可用性：通过主链保证被引用的数据(构成区块N的所有数据)的真实性。\\n\\nBTC在设计之初，就是因为看到了中心化机构的信任风险，所以选择了足够的去中心化程度，同时作为一套金融支付系统，也需要足够的安全性，所以不得不放弃了扩展性。而在此之后的所有公链，大都选择了POW机制（如ETH等），目的就是要足够的去中心化并且安全，所以扩展性都很差，因此使得区块链的普及一直是个难题。\\n\\n其实我们一直以来受到不可能三角的束缚，主要原因就是目前大多数区块链都试图在 L1 (主链) 上同时完成**共识、执行和数据可用性**这三件事，所以才造成了如今的困境。\\n\\n为了安全性和去中心化，我们**减少了区块空间的供应，并降低节点的硬件要求**，使所有人都可以参与到网络中来成为节点，但这样也延长了交易时间，使得扩展性很差。\\n\\n但是如果减少节点数量，虽然少了一堆计算机来进行冗余的计算工作，但也意味着，我们只能信任少数的几个节点，去中心化程度便被削弱了。\\n\\n总之，在过去的10年里，为了保证区块链的中心化和安全性，我们已经达到了其可扩展性的极限。\\n\\n![](https://miro.medium.com/max/1108/1\\\\*up4tb0K6Uj7EgWE7IYFdcg.png)\\n\\n这种同时要负责共识、执行和数据可用性三个底层组件的区块链，我们称之为做单片式区块链，单片式区块链的路似乎已经走到了尽头。\\n\\n## Rollups方案与模块化式区块链\\n\\n那么让我们转换一下思路，让负责共识的只负责如何做好共识，让执行交易的专门负责提高交易效率，大家分工合作，这样是否能解决单片式区块链“不可能三角”的困境呢？\\n\\n我们用以太坊L2的Rollups 方案来举例说明一下。\\n\\nL2会创建一个独立于以太坊 L1 的链下交易执行环境，并在处理完交易之后更新 L1 的状态。此外，Rollups可以将执行层的交易速度提升两个数量级，同时降低交易成本一个数量级（仍有优化空间），同时无须承担维护共识和数据可用性的成本。\\n\\n具体来说，Rollups 通过将交易批次压缩，不定期地向以太坊主网发布单个状态根更新，该状态根更新包含了发生在Rollups层的许多交易的结果。Rollups的L2不需要关注共识和数据可用性，只需要专注于提高交易效率,因为Rollup网络在任何时间都仅需极少数的节点（或者直接1个节点）处于活跃状态，所以其维护成本很低，但是也不必担心其安全性和去中心化问题，因为Rollups以加密的方式与以太坊L1紧密关联，由以太坊L1来负责安全性和去中心化。\\n\\n这种架构的区块链，我们把它叫做模块化式区块链。\\n\\n简单来说，模块化区块链的意思就是把目前L1主链要同时负责的共识、执行和数据可用性这三个底层组件进行拆分，让每个层面只专注于提升属于自己这个层面的工作效率，从而实现分工，形成模块化的形式。\\n\\n事实上现实生活中我们就有类似的运行模式。比如我们常用的支付宝和微信，它们作为平台就像是L2一样，负责执行交易，而我们银行卡上的现金的结算及安全性保障，实际上是由商业银行的系统负责的，商业银行就像是L1。\\n\\n模块化的形式能大幅提高我们的交易效率。\\n\\n## 以太坊的模块化\\n\\n我们在上面阐述了以太坊模块化的第一步 — — Rollups，接下来我们来看看另外两步 — — POS以及Sharding。\\n\\n通过PoS机制，以太坊不再需要特定的计算机来负责网络安全。现在理论上所有计算机都可以用于负责网络安全。目前以太坊的PoS信标链，将运行一个验证节点的经济成本降低至32 ETH和一台计算机，这增加了区块链验证者的潜在总数量。虽然32 ETH的成本依旧比较昂贵，但这已经比最小可行的POW挖矿(起步要数百万美元) 低了一个数量级。而且，像Lido和Rocketpool这样的去中心化质押池或第三方项目方，都允许用户将任意数量的ETH聚集起来进行质押，使得32ETH的限制不再成为硬性条件，这增加了潜在验证者的数量，也同时加强了以太坊网络的去中心化程度。另外，转POS之后，有1000万枚ETH被质押进来才算安全的情景也有真的有望实现了 — — 质押 1000 万枚 ETH，每名验证者质押 32 ETH，这就相当于网络中会有 312500 名验证者。\\n\\n![](https://miro.medium.com/max/1108/1\\\\*Xwd5-CnVTk_urK0nI7Z9OA.png)\\n\\n![](https://miro.medium.com/max/1106/1\\\\*IqmsyjGsqPelJK-oJiaAag.png)\\n\\n当ETH完成转POS之后，整个网络将拥有一个模块化的安全资源池（验证者池），形成一个强大的共识层（可能价值400亿美元），并且足够的去中心化，可以演进为一个提供共识层的基础设施。\\n\\nSharding（分片技术）允许在更多的分片链上进行安全性再分配，而不是将整个系统的安全性完全集中在一条链上。因为让30万名验证者来保护一条单片式区块链，是一种低效的资源配置方式。而如果将这些验证者分配至多条分片链中(第一阶段将上线 64 条分片链)，以太坊 L1 可以通过在每条分片链上分配约 4,500 名验证者，从而创造出18个单片式以太坊的规模。（起初实现 64 条分片链并不意味着我们将以太坊的容量增加了 64 倍，而是我们拥有的以太坊链的数量增加了 64 倍，但每条链的容量将是现在的1/3，因此整体大小将增加约 18 倍）\\n\\n![](https://miro.medium.com/max/1108/1\\\\*vpi6wOvkD6-JtoPGlQh2Xg.png)\\n\\n转POS之后的信标链是系统资源的调度员，通过随机抽样，信标链将每名验证者分配至特定的分片链中，让其在该分片链中负责验证工作；而且所有验证者会在每个epoch (约6分钟) 重新被打乱顺序再次随机分配。总的来说，分片使L1中可用的区块空间最大化！\\n\\n模块化设计的美妙之处在于，每个模块的优化都会放大其他模块的优化（协同作用）。\\n\\n通过POS增加了网络的去中心化，进而增加了以太坊上的分片数量；\\n\\n在以太坊L1上增加更多的分片，这能够使得L2的Rollups的数量提高一个数量级；\\n\\nRollups 规模的增长将带来新的可行的链上交易类型，这最终将增加 Rollups 向 L1 支付的总体费用；\\n\\nRollups上发生的净交易活动越多，购买 L1 区块空间时所支付的总费用就越高，L2之间就会引发Gas war,会引发增加计算资源的需求，同时在不增加额外通胀的情况下（增加了更多验证节点，但是ETH价格会由于燃烧通缩而上涨，）网络增加更多的计算资源，这些计算资源可以用于创造更多的分片，更多的分片又意味着更快的交易速度。（以太坊第一阶段要实现 64 条分片，但其最终目标是增加到1024 条分片。根据摩尔定律，以及随着家用电脑CPU变得越来越强大，分片的数量和容量都会增加）\\n\\n分片与Rollups的结合把计算资源变成网络的资产，而不是负债。\\n\\n## 模块化区块链的经济可持性\\n\\n模块化之后的以太坊，除了在技术架构上具备可行性之外，在经济上也同样具备符合常识的可行性。\\n\\n加密经济体系通过使用交易费和增发新币来支付给网络的安全性提供者(POW矿工或POS验证者)报酬。\\n\\n区块链网络能够收集的交易费越多，那么它需要增发的新币数量也就越少，整个网络的通胀率就越低，最终这个币就会越有价值。\\n\\n我们可以对比一下Polygon、Solana和ETH通货膨胀和手续费消耗：\\n\\nPolygon的PoS网络每天收集约 5 -10万美元的交易费，也即每年 1800–3600 万美元；但与此同时，Polygon正在分配超过4亿美元的年通胀奖励；\\n\\nSolana的POS网络每天收集的交易费在10万美元左右，也即每年 3600 万美元；但 Solana 正在发放更令人震惊的 40 亿美元年通胀奖励；\\n\\n对比ETH在POW机制下，每天收集的交易费在6000万美元级别，年化大概就是220亿美元；同时，ETH每年的通胀奖励大约是200亿美元。（目前以太坊大约15秒出一块，每个区块奖励2个ETH，算下来一天通胀1.15万个ETH，一年420万个ETH）\\n\\n![](https://miro.medium.com/max/1106/1\\\\*3RLZHuarHw3uNNoDLOuEag.png)\\n\\n而且，ETH转POS之后，通胀率更低，预期每年的通胀在57万至100万ETH左右，通过对比可以看出，长期来看，以太坊在模块化之后其经济可持续性能力是增强的，市场竞争力也更强。\\n\\n![](https://miro.medium.com/max/1108/1\\\\*p8NIhJ3JuaJOMaTYoOFhkA.png)\\n\\n## 对Layer 2的未来预测\\n\\nRollup这种将执行交易环境从主网剥离出来的操作，把ETH划分成为了共识模块（链上）和交易模块（链下），这就为市场创造了巨大的想象空间。由此，我们在**当下Rollups作为最理想的网络解决方案的前提上**，对未来的市场行情做出了推测：\\n\\n2022年将会是L2元年，会有众多团队开始创建自己的L2，以扩大市场规模，L2网络完全无需担心共识/安全层的巨大维护成本，它们需要做的就是向以太坊 L1 支付用于存储证明 (proofs) 和数据的 Gas 费用，从而为自身提供安全性保证，这样它们就可以集中所有注意力来改善自身的执行/计算过程；其次，链下的环境十分有利用Rollup进行快速的迭代更新，这样的架构让新技术和成本效率优化功能可以更快的部署起来，而且，Rollup形式的L2比起很多号称ETH侧链的项目，拥有正统性；比起很多EVM的公链，又拥有以太坊带来的安全性和去中心化程度，所以L2的市场有着极大的潜力。\\n\\n随着市场进一步推进，会有一些L1侧链或老牌公链们，发现竞争力不足，只能抛弃他们成本高昂的共识层和数据可用性层，转型为以太坊的L2，轻装上阵，专心经营自己的生态，币价迎来一波回春（通过转变成为以太坊上的 L2 网络，它们不仅可以继续保留自己的原生代币、社区、应用等等，还将从整个以太坊生态系统中获益，同时还不必担心共识/安全层）。\\n\\n再继续，一定会有web2的互联网大厂入驻，因为Rollup的这种运营方式，对于web2时代的他们而言不能更熟悉了，他们会用这样的方式快速进入Web3时代，然后专心打造自己的优秀应用，不再担心安全性和去中心化程度。\\n\\n未来4年，下个周期，还会上演“公链”大战，技术、资本、用户、文化等等这些话题还会反复讨论，但这时候的主角就不再是L1们了，而是L2；一定会有顶级的Rollup L2生态繁荣起来，估值提升到千亿美元级别；继而资本会把所有L2的估值拉高到百亿美元上下。\\n\\n最后，以太坊会逐渐演化为一种云端的区块链底层基础设施，为这个世界提供久经考验（两轮牛熊）且用巨大经济成本构建出的强大共识层，提供安全和去中心化，所有的Rollups向其购买昂贵的区块打包费用以完成链上结算，由此，大家会逐渐接受以太坊成为未来历史上第一个公用的中立的全球结算网络。\\n\",\"timestamp\":1639106658,\"title\":\"L2对加密世界到底意味着什么？ - W3.Hitchhiker - Medium\"},\"digest\":\"mEmCguXIQy78HRUz9QcIqjjKohxjSJFA81w4D_2VMdM\",\"authorship\":{\"contributor\":\"0xE43a21Ee76b591fe6E479da8a8a388FCfea6F77F\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"NO-j1_dHNxNqjvzUDdLJqft5mSMhSK7905RO6-OR2LY\\\",\\\"y\\\":\\\"TcHHFPnC14D_fEfRb9WbZlEMxU2YcU4DafVscXXqO0A\\\"}\",\"signature\":\"70js0NrhH6F5LHy7kvENBev095pbcuhOBwQ99NcK6-jP7ypJRF3yIq1BR-KfHxyql4NVLkIHuZLNIrhn5JM7Ew\",\"signingKeySignature\":\"0xfb5e99125ef6e87425972903cd694fcec8c35de7303f6dc4eaa97bb48e1f1b4e33cb2fc4ec6741b5cf8c64b54f4e37638bd3a75e831cffb9c31bb8428b76f95f1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"NO-j1_dHNxNqjvzUDdLJqft5mSMhSK7905RO6-OR2LY\\\",\\\"y\\\":\\\"TcHHFPnC14D_fEfRb9WbZlEMxU2YcU4DafVscXXqO0A\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"mEmCguXIQy78HRUz9QcIqjjKohxjSJFA81w4D_2VMdM\"}"