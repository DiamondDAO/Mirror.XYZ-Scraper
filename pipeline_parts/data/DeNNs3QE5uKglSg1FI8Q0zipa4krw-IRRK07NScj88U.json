"{\"content\":{\"body\":\"dFuture 白皮书 v1.0\\n版本 v0.97 修改日期：2021.08.19\\n\\n 1. 简介\\n    在传统的交易市场，中心化的交易所被很多人质疑通过对交易数据的全面控制和不透明\\n    的操作而作恶，包括插针、私自印币等。为解决这些问题，以 Uniswap 为代表的去中心化\\n    交易所，在一定程度上解决了这些问题，但由于 AMM（Automated Market Maker）本\\n    身机制的特点，交易双方还存在着一定的风险敞口，比如交易者在成交量较大时，会面临远\\n    超中心化交易所的交易滑点；流动性提供商（LP）则面临着无常损���的风险。为了解决这个\\n    问题，我们提出了全新的 QCAMM （Quoted Price and Constant Sum Based\\n    Automated Market Maker ）机制。\\n    dFuture 是用于在以太坊上进行自动化 Token 交易的协议，目前只提供针对主流币种\\n    的，带杠杆的永续合约交易。dFuture 的核心设计是零无常损失、零滑点，对交易者和 LP\\n    都非常友好，并提供了良好的流动性和交易深度。\\n    在 dFuture 上，LP 只需要存入单一币种（目前为 USDT）提供流动性，在取出时，由于\\n    获得多方收益，会得到等于或大于存入量的该币种（目前为 USDT）。价格使用实时的去中\\n    心化交易所价格喂价，交易者直接按当前喂价，交易主流币/USDT 交易对，交易不存在滑点。\\n    系统通过恒定和公式（X1 + Y1 = Z1，Z1 值恒定）来控制平台的裸头寸尽量为 0，从而\\n    让 LP 的风险降到 0，使其可以接近无风险获利。\\n    本文档概述了 dFuture 的核心机制和技术实现。完整的源代码见项目的 Github。\\n    Protocol Website:dfuture.com\\n    Documentation:<https://github.com/dFuture-finance/dFuture-introduction>\\n    Code:<https://github.com/dFuture-finance/>\\n 2. QCAMM 协议介绍\\n    2\\\\.1QCAMM 协议概述\\n    QCAMM （Quoted Price and Constant Sum Based Automated Market\\n    Maker ）是基于外部报价和基于恒定和公式的动态费率的金融衍生品交易协议。\\n    QCAMM 协议通过多个外部预言机、去中心化交易所，如 Chainlink、uniswap、\\n    OpenOracle、Mdex、PancakeSwap 等，获得交易品类的当前综合报价，交易者按该\\n    报价直接完成做多或做空的成交，不存在滑点，交易深度与 LP 的抵押额成正比。LP 只提供\\n    单一币种抵押，不存在无常损失。\\n    QCAMM 协议的主要特点包括：\\n     外部喂价：交易价格并不是像 AMM 一样，由算法决定，而是从多个外部去中心化数\\n    据源取到，包括预言机和去中心化交易所；\\n     0 滑点：交易者在平台允许开仓金额范围内，以当前报价直接成交，不存在价格滑点；\\n     交易深度深：交易者交易深度只取决于 LP 抵押金额，如果目前平台抵押 1000 万美金，\\n    交易者可以用当前价格直接成交 1000 万美金的多单或空单；\\n     没有无常损失：AMM 需要抵押交易对中的两种货币，比如 eth/usdt 交易对，需要 LP\\n    同时抵押 eth 和 usdt，而 QCAMM 中，LP 只需要抵押单一的结算货币即可，在 dFuture\\n    中，该结算货币为 USDT。因为仅抵押单一币种，所以 QCAMM 中不存在无常损失。\\n    2\\\\.2QCAMM 协议风险控制原理\\n    QCAMM 协议的一个重要目标是控制 LP 在平台暴露的风险头寸，从而实现 LP 在平台\\n    的无风险获利。QCAMM 协议通过“动态手续费/动态持仓费”的机制，引入套利者角色在\\n    平台主动交易，从而形成平台的动态平衡，将平台风险控制在较低水平波动。具体原理如下：\\n     对交易平台而言，如果平台的多头持仓量和空头持仓量的数值相等，即多头头寸与空头\\n    头寸抵消，裸头寸为 0，此时 LP 将不存在任何风险，可以持续获得交易者的交易手续\\n    费和持仓利息，实现无风险获利；所以控制 LP 风险问题就转化为如何让裸头寸为 0；\\n     QCAMM 协议通过“基于恒定和公式的动态手续费/动态持仓费”机制来控制裸头寸为\\n    0，以动态手续费举例，恒定和公式是指“多单手续费+空单手续费=恒定值”。在裸头\\n    寸较小时，平台向多头和空头同时收取交易手续费，其费率低于中心化交易所；在裸头\\n    寸较大时，比如裸头寸方向为多头，此时开多单时需要缴纳更高的手续费，而开空单时，\\n    平台将向交易者返还手续费；\\n     通过返还手续费，平台存在套利空间，将吸引套利者进入交易。在出现返还手续费的状\\n    态时，如裸头寸方向为多头，套利者可以通过在本平台下空单，在 Cefi 交易所如火币\\n    下多单，抵消头寸风险，同时获得本平台的手续费返还，从而实现无风险套利；同时由\\n    于套利者的交易，本平台的裸头寸将向 0 值回归，LP 风险敞口随之降低；\\n    总之，QCAMM 协议的风险控制将长期处于一个动态平衡的过程中，从长期来看，LP\\n    的风险敞口将一直维持在一个较低的水平线左右，从而实现 LP 的长期无风险获利。\\n    2\\\\.3QCAMM 协议、AMM 协议和 Cefi 交易所的差异\\n    由于设计思路上的较大差异，QCAMM 与 AMM 和 Cefi 交易所在功能特点方面存在\\n    一定区别：\\n    中心化交易所 AMM（uniswap） QCAMM（dFuture）\\n    价格 订单薄价格 恒定积价格 外部报价\\n    滑点 根据深度形成的滑点 根据恒定积，不可避免的\\n    滑点\\n    无滑点\\n    交易深度 大于 AMM 深度差 大于中心化交易所的深度，\\n    与 LP 抵押金额成线性相关\\n    无常损失 没有 有 没有\\n    交易手续费 高且不透明 低 动态调整\\n    平台风险低时低于前两种交\\n    易所；\\n    交易模式 限价单/市价单\\n    挂单/吃单\\n    市价单\\n    吃单\\n    市价单\\n    吃单\\n    透明度 不透明 透明 透明\\n    LP 池 无 有 有\\n    LP 抵押币种 无 交易对双币种抵押 单一币种抵押\\n    2\\\\.4基于 QCAMM 协议的永续合约与传统永续合约的差异\\n    QCAMM 永续合约大部分特点与传统永续合约很类似，基于去中心化的特点，主要有\\n    以下几点需要注意：\\n    交易模式：在传统的永续合约交易中，主要存在限价单和市价单两种交易单类型，同时\\n    交易者会有吃单（taker）和挂单（maker）两种交易状态。在 QCAMM 永续合约中，只\\n    有市价单一种交易类型，该市价单没有滑点，深度最大为 LP 池金额的 3 倍；同时交易者无\\n    论是开仓还是平仓，都只有吃单一种状态；\\n    平台价格：平台价格是从多个外部去中心化数据源取到的价格，做为成交的基准价格存\\n    在，并用于计算浮盈浮亏；\\n    初始和维持保证金：交易者应非常熟悉初始和维持保证金，特别是维持保证金。用户的\\n    保证金一旦低于维持保证金，系统将会强制平仓。强烈建议交易者在维持保证金比率以上就\\n    进行平仓，以避免因强制平仓而产生的资金损失；\\n    动态手续费：为了降低裸头寸给平台带来的交易风险，我们通过“恒定和”公式，保证\\n    开多和开空的手续费之和总是一个固定值。在该公式的限定下，在平台开仓的手续费的费率\\n    大小会随着裸头寸的大小变化，同时手续费可能为正也可能为负，为正时交易者付给平台交\\n    易手续费，为负时平台将付给交易者交易手续费，该部分恒定收益由 LP 获得；\\n    动态持仓利息：为了降低裸头寸给平台带来的交易风险，我们通过“恒定和”公式，保\\n    证持多仓和持空仓的持仓利息之和总是一个固定值。在该公式的限定下，在平台持仓的持仓\\n    利息的费率大小会随着裸头寸的大小变化，同时持仓利息可能为正也可能为负，为正时交易\\n    者付给平台利息，为负时平台将付给交易者利息，该部分恒定收益由 LP 获得；\\n    杠杆：与现货市场不同，合约市场允许交易者进行超过其本金的交易，即存在杠杆。随\\n    着我们对 QCAMM 交易模式的深入理解，杠杆的倍率也会增加；\\n    LP 池：平台按风险高低划分了多个 LP 池，在高风险池中，交易者可以使用高杠杆交易\\n    多种数字货币合约，这些数字货币合约可能由低风险波动的交易对和高风险波动的交易对共\\n    同组成，交易者可能获得高收益，LP 也有可能获得更高的收益；在低风险池中，交易者可\\n    以使用低杠杆交易多种数字货币合约，这些数字货币合约将由低风险波动的主流币种交易对\\n    组成，交易者和 LP 都将获得更稳定的收益；对 LP 来说，其只需要按自己的风险偏好，选\\n    择不同的 LP 池，完成 USDT 的流动性抵押，就可以获取收益；\\n    透明交易：QCAMM 永续合约价格只取决于外部喂价，并通过特定算法避免外部喂价\\n    被攻击，平台公平、透明、可信；\\n    透明收费：QCAMM 永续合约的所有收费规则已经固化在智能合约中，对用户完全清\\n    晰可见。\\n    2\\\\.5基于 QCAMM 协议永续合约的进一步扩展\\n    dFuture V1 版本中，通过外部报价接入了数字货币主流币的期货交易，对 QCAMM\\n    协议来说，只要能通过去中心化方式取得外部报价，就可以在 QCAMM 协议下进行交易。\\n    所以类似股票、外汇等众多交易品种在未来都可以在 dFuture 上形成交易，进一步扩展\\n    dFuture 的交易品类和面向的交易者人群。\\n 3. QCAMM 协议交易体系介绍\\n    LP 针对抵押池提供流动性抵押后，交易者就可以对该抵押池中的多个交易对进行交易\\n    了。dFuture 目前提供的是带杠杆的永续合约交易。交易者以当前实时的平台价格，进行买\\n    多或者卖空的交易。交易者可以自由的设定本次交易的杠杆，初始范围为 1 到 30 倍之间。\\n    交易确认后，交易者的保证金将被扣除。伴随着以太坊的每次出块，dFuture 会实时检查交\\n    易者的当前仓位情况，如果持仓保证金率低于当前币种最低档位维持保证金率，交易者将爆\\n    仓。dFuture 平台会对即将爆仓的交易者进行提醒，交易者可以对自己即将爆仓的交易追加\\n    保证金，从而避免爆仓风险。\\n    3\\\\.1报价体系\\n    交易价格来自综合多个预言机、去中心化交易所的自动报价。为了避免单一交易所的价\\n    格被攻击，导致 dFuture 的交易者受损，我们采用多个预言机和去中心化交易所做为数据\\n    源，并对其报价进行加权平均，公式为：X1*X2+Y1*Y2+…=价格，其中 X1，Y1 为不同来\\n    源的去中心化交易所或预言机的价格，X2，Y2…为加权数，X2+Y2+… = 1。我们目前选用\\n    chainlink、uniswap、OpenOracle、Mdex、PancakeSwap 等做为外部报价来源，加\\n    权后合成价格，即 dfuture 平台的“平台价格”。\\n    我们同时还采取一些额外的保护措施，来避免由于现货市场价格出现中断或由于连接问\\n    题而导致糟糕的市场表现。这些保护措施如下：\\n 4. 单一价格来源偏离：当某个交易所的最新价格偏离所有价格来源的中位数价格超过\\n    5％时，该交易所的价格权重将被设置为零。\\n 5. 多价格来源偏差：如果超过 1 个交易所的最新价格出现大于 5％的偏差，则所有价\\n    格来源的中位数价格将会取代其加权平均值，用作价格指数值。\\n 6. 交易所连接问题：如果一个交易所在 2 个以太坊出块内没有更新交易数据，则在计\\n    算加权平均值时，该交易所的权重将为零。\\n    当出现价格异常的时候平台会暂时关闭交易，直至问题被解决后恢复交易。平台价格可\\n    以被视为公允的现货价格，我们以此来计算各合约的未实现盈亏。请注意，账户实际盈亏以\\n    平仓时成交的市场价格为准。后续通过社区治理，可以添加更多的成熟的去中心化交易所和\\n    预言机进入 dFuture 的报价体系。\\n    3\\\\.2成交价格\\n    成交价格为平台价格收取点差后的价格。该点差的收取目的，一方面是避免频繁的开平\\n    仓的刷量攻击，另一方面，收取的点差收入将进入到风险保障基金，为交易者和 LP 提供一\\n    定的交易保护。\\n    平台价格我们记为 P，点差记为 M。多单成交价格为 P1 = P\\\\*（1+M），空单成交价格\\n    P2 = P \\\\* (1-M); dFuture 平台初始化时，M 设定为 0.05%，同时开仓时没有点差，平仓时会\\n    产生点差。M 值后续可以通过社区治理进行调整。\\n    3\\\\.3动态交易手续费\\n    交易者在 dFuture 平台上进行交易时，都需要缴纳交易手续费。与传统的交易平台不\\n    同，为了控制平台交易风险，交易手续费根据平台目前裸头寸与 LP 池的比例将动态变化。\\n    目前平台设定裸头寸与 LP 池比值最大为 1：1，所以裸头寸与 LP 池的比值在\\\\[-1,1\\\\]值域区间，\\n    其中负值代表裸头寸为空单方向；正值代表裸头寸为多单方向；随着裸头寸与 LP 池的比值\\n    在-1 到+1 之间滑动，多单手续费和空单手续费也会一起变动，不变的是多单手续费+空单\\n    手续费恒定为恒定值。具体手续费的计算公式如下：\\n    D=（多单总头寸-空单总头寸）/ LP 池总金额\\n    多单手续费 X1 = N1 + M1 \\\\* D；\\n    空单手续费 Y1 = N1 – M1 \\\\* D；\\n    多单手续费 X1 + 空单手续费 Y1 = 2*N1（恒定值）；\\n    M1 \\\\* D = 手续费偏移量；\\n    其中 M1=1% ；N1=LP 手续费优势，这里以 0.03%为例；\\n    手续费随 D 值变动列表：\\n    多单总\\n    头寸\\n    空单总头\\n    寸\\n    LP 池总金\\n    额\\n    裸头寸/LP 池总\\n    额 多单手续费\\n    空单手续\\n    费 恒定和\\n    0 0 100 0 0.03% 0.03% 0.06%\\n    0 1 100 -0.01 0.02% 0.04% 0.06%\\n    0 3 100 -0.03 0.00% 0.06% 0.06%\\n    0 5 100 -0.05 -0.02% 0.08% 0.06%\\n    0 10 100 -0.1 -0.07% 0.13% 0.06%\\n    0 50 100 -0.5 -0.47% 0.53% 0.06%\\n    0 100 100 -1 -0.97% 1.03% 0.06%\\n    1 0 100 0.01 0.04% 0.02% 0.06%\\n    3 0 100 0.03 0.06% 0.00% 0.06%\\n    5 0 100 0.05 0.08% -0.02% 0.06%\\n    10 0 100 0.1 0.13% -0.07% 0.06%\\n    50 0 100 0.5 0.53% -0.47% 0.06%\\n    100 0 100 1 1.03% -0.97% 0.06%\\n    交易费随 D 值变动如下图：\\n    手续费与 D 值变动关系\\n    同时，考虑到买卖单，特别是大额买卖单对 D 值的冲击影响，我们会通过对买入前和\\n    买入后的 D 值进行加权平均处理，平滑买卖单的冲击，具体计算公式：\\n    D=（多单总头寸-空单总头寸）/ LP 池总金额\\n    多单手续费 = 0.03% + 1%*（用户下多单前的 D + 用户下多单后的 D）/ 2\\n    空单手续费 = 0.03% - 1%*（用户下空单前的 D + 用户下空单后的 D）/ 2\\n    例：目前多单总头寸 110 万 USDT，空单总头寸 10 万 USDT，LP 池总金额 1000 万 USDT。\\n    情况 1：交易者开 10 万 USDT 多单\\n    用户下多单前的 D = （110 – 10 ） / 1000 = 0.1\\n    用户下多单后的 D = （120 – 10 ）/ 1000 = 0.11\\n    多单手续费 = （0.03% + 1% \\\\* （0.1 + 0.11）/ 2）* 100,000 = 0.135% \\\\* 100,000 = 135\\n    此时平台收取交易者 135U 手续费；\\n    情况 2：交易者开 10 万 USDT 空单\\n    用户下空单前的 D = （110 – 10 ） / 1000 = 0.1\\n    用户下空单后的 D = （110 – 20 ）/ 1000 = 0.09\\n    空单手续费 = (0.03% - 1% \\\\* （0.1 + 0.09）/ 2)*100,000 = -0.065% \\\\* 100,000 = -65\\n    此时平台会返还交易者 65U 手续费。\\n    总结以上数据，可以明显发现，在裸头寸（多单总头寸-空单总头寸）占 LP 池总金额\\n    0% - 3%时，平台向交易双方收取交易手续费，同时会向裸头寸倾斜的方向收取稍多一些的\\n    手续费；在裸头寸占 LP 池总金额超过 3%时，裸头寸正方向的新开仓需要缴纳手续费，裸\\n    头寸反方向的新开仓将获得手续费的返还。\\n    所以，系统永远鼓励交易向降低裸头寸的方向倾斜，交易者可以通过反裸头寸方向交易\\n    的方法额外获利。\\n    3\\\\.4动态持仓利息\\n    交易者在 dFuture 平台进行交易时，如果有持仓，需要支付持仓利息，其目的是控制\\n    平台交易风险。与传统的交易平台不���，持仓利息根据平台目前裸头寸与 LP 池的比例将动\\n    态变化。目前平台设定裸头寸与 LP 池比值最大为 1：1，所以裸头寸与 LP 池的比值在\\\\[-1,1\\\\]\\n    值域区间，其中负值代表裸头寸为空单方向；正值代表裸头寸为多单方向；随着裸头寸与\\n    LP 池的比值在-1 到+1 之间滑动，多单持仓利息和空单持仓利息也会一起变动，不变的是多\\n    单持仓利息+空单持仓利息恒定为恒定值。具体持仓利息的计算公式如下：\\n    D=（多单总头寸-空单总头寸）/ LP 池总金额\\n    多单持仓利息 X2 = N2 + M2 \\\\* D + L；\\n    空单持仓利息 Y2 = N2 – M2 \\\\* D - L；\\n    多单持仓利息 X2 + 空单持仓利息 Y2 = 2*N2（恒定值）；\\n    M2 \\\\* D = 利息偏移量；\\n    其中 M2=0.05% ；N2（利息优势）=0%；L = 0；\\n    L 为当期基准费率，其含义为中心化交易所永续合约当前资金费率的加权平均值，目前\\n    设置为 0，后期将通过去中心化预言机取该价格；\\n    持仓利息随 D 值变化的变动值：\\n    多单总头\\n    寸\\n    空单总头\\n    寸\\n    LP 池总金\\n    额\\n    裸头寸/LP\\n    池总额 多单持仓利息 空单持仓利息 恒定和\\n    0 0 100 0 0.0000% 0.0000% 0%\\n    0 1 100 -0.01 -0.0005% 0.0005% 0%\\n    0 10 100 -0.1 -0.005% 0.005% 0%\\n    0 50 100 -0.5 -0.0250% 0.0250% 0%\\n    0 100 100 -1 -0.0500% 0.0500% 0%\\n    1 0 100 0.01 0.0005% -0.0005% 0%\\n    10 0 100 0.1 0.005% -0.005% 0%\\n    50 0 100 0.5 0.025% -0.025% 0%\\n    100 0 100 1 0.050% -0.050% 0%\\n    具体如下图所示：\\n    持仓利息每 8 小时结算一次，扣除的利息会直接生效，返还的利息在用户平仓时一次性\\n    结算。可以看到，在裸头寸（多单总头寸-空单总头寸）占 LP 池总金额 0% - 10%时，平台\\n    向多空持仓双方收取持仓利息，同时会向裸头寸倾斜的方向收取稍多一些的利息费；在裸头\\n    寸占 LP 池总金额超过 10%时，裸头寸方向的持仓需要缴纳利息，裸头寸反方向的持仓将获\\n    得利息的返还。\\n    所以，系统永远鼓励持仓向降低裸头寸的方向倾斜，交易者可以通过反裸头寸方向持仓\\n    的方法额外获利。\\n    3\\\\.5竞争性平仓\\n    dFuture 会实时检查交易者的当前仓位情况，如果持仓保证金率低于当前币种最低档位\\n    维持保证金率，交易者将爆仓。在交易者爆仓时，交易者账户存在如下两种情况，1.价格波\\n    动不极端，交易者仓位还余留资金；2.价格波动太剧烈，交易者仓位没有资金剩余，发生了\\n    穿仓。\\n    dFuture 提供了竞争性平仓机制，让参与平台交易的“数据科学家”来帮助平台完成平\\n    仓的动作。竞争性平仓是指，在出现交易者被强平时，“数据科学家”可以主动针对提示被\\n    强平的账户发送平仓交易请求，在未穿仓时，平仓交易成功的“数据科学家”可以获得该仓\\n    位剩余资金 Y，0 <Y<MIN（X，Y）其中 X 为平台设定的“数据科学家”单次平仓交易成功\\n    后可获得的资金最高固定值，该值后期通过社群治理做出修改，该账户剩余资金扣除 Y 后\\n    将打入 LP 平仓收益池。\\n    “数据科学家”付出以太坊平台交易手续费既可以得到大约 5 倍的回报，其风险是如果\\n    该单已经穿仓，则没有回报；或者如果有多个“数据科学家”竞争平仓同一个仓位，只有一\\n    位“数据科学家”可以获得奖励，其他人将损失其手续费。\\n    3\\\\.6风险保障基金及自动减仓\\n    风险保障基金旨在弥补由于客户账户资产低于 0 时而导致的损失，风险保障基金目前由\\n    两部分组成：一、被强平用户支付的保证金费用将被注入风险保障基金；二、每笔平仓交易，\\n    其成交价格会浮动 0.01%，该部分金额被注入风险保障基金。风险保障基金的主要目的是减\\n    少交易方穿仓风险发生后对 LP 造成的损失。\\n    若用户发生穿仓的情况，即在用户被强制平仓后，账户上没有剩余资金或无法强平时，\\n    LP 会接管用户账户上剩余的仓位。dFututre 平台会使用风险保障基金来进行反向平仓，当\\n    风险保障基金不够接管被强平用户的剩余持仓，此时 LP 将发生亏损。LP 池发生亏损时，由\\n    于系统最大开仓量为 LP 池金额的 3 倍，如果此时开仓量已达到限额，将会发生自动减仓的\\n    情况，系统会根据预设算法进行减仓。\\n    3\\\\.7LP 抵押池的多交易对支持\\n    dFuture 平台中，同一个 LP 抵押池中，只要保持交易对的底对一致，可以存在多个交\\n    易对，比如 ETH/USDT 交易对、BTC/USDT 交易对等。LP 抵押池按风险划分，在低风险抵押\\n    池中，应该只放置大交易量的主流币交易对，并提供较低的杠杆系数，比如 1 – 10 倍杠杆；\\n    而在高风险抵押池中，除了主流币交易对外，还可以存在中风险的小币种，并提供较高的杠\\n    杆率，比如 20 – 50 倍的杠杆；\\n    对交易者而言，他可以按自己的风险偏好，选择在不同风险度的 LP 抵押池下进行不同\\n    货币对的交易，希望可以获取更高的收益；\\n    目前 dFuture 平台存在一个低风险抵押池，其中提供了 BTC/USDT 和 ETH/USDT 的交\\n    易对，同时提供开仓 30 倍杠杆。后续通过社区治理，还可以进一步添加交易对和不同的风\\n    险抵押池。\\n    3\\\\.8多结算币种支持\\n    dFuture 平台可以支持多结算币种，针对同一个 LP 抵押池，只能选择一种基于以太坊\\n    发行的结算币种，比如 ERC20-USDT、ETH 等。\\n    目前 dFuture 平台只支持 USDT 做为单一结算币种，即用户支付 USDT 进行交易，LP\\n    支付 USDT 进行抵押，USDT 做为交易对的底对存在。\\n    后续可以通过社区治理，提供不同的 LP 抵押池，以 ETH 或其他 ERC20 的 Token 做为\\n    该抵押池的单一结算币种。比如以 ETH 为单一结算币种的 LP 抵押池，此时 LP 只需要存入\\n    ETH 做为抵押，交易者也通过支付 ETH 进行交易，交易对以 ETH 为底对，例如\\n    USDT/ETH,BTC/ETH 等；\\n 7. 平台流动性提供者\\n    4\\\\.1增加流动性\\n    LP 希望向平台增加流动性时，只需要向平台的智能合约中存入 USDT，同时获得 LP\\n    Token 做为凭证。平台目前认定的结算币种为 USDT，后续可以通过社区治理，添加对更多\\n    结算币种的支持，比如 USDC。\\n    dFuture 流动性池除了 LP 主动注入外，在如下情况也会发生变化：\\n 8. 交易者在亏损的情况下主动平仓或被动爆仓，此时交易者亏损的 USDT 会注入到\\n    dFuture 流动性池，此时流动性池的 USDT 会增加；\\n 9. 交易者在盈利的情况下平仓，LP 流动性池会将交易者盈利的 USDT 给到交易者账户，\\n    此时 LP 流动性池的 USDT 会减少。\\n    4\\\\.2流动性 Token\\n    LP 向流动性池注入 USDT，会获得 LP Token。LP Token 用于跟踪每个 LP 贡献的流动\\n    性与总流动性池的比例。LP Token 是高度可分割的，同时 LP 可以随时燃烧 LP Token，获\\n    得自己之前提供的 USDT。\\n    LP 通过向流动性池注入 USDT 获得的 LP Token 的数量，取决于存入的 USDT 数量与当\\n    前流动性池总量的比值。可以使用如下公式计算：\\n    获得的 LP Token=存入的 USDT 数量*LP Token 总量/平台流动性池 USDT 总量\\n    4\\\\.3流动性回收\\n    LP 可以随时燃烧 LP Token，从流动性池中取回其比例的 USDT。交易期间所有的盈亏\\n    都会添加到流动性池中，因此，自首次添加流动性以来，所有的营收都会包含到流动性池，\\n    LP 可以获得自己对应比例的收益。\\n    LP 通过向流动性池发送 LP Token 获得相应份额的 USDT，其金额可以使用如下公式计\\n    算：\\n    获得的 USDT=平台流动性池 USDT 总量*发送 LP Token 份额/平台 LP Token 总份额\\n    由于 LP 抵押池金额与开仓总量相关，为了避免 LP 频繁的进入和退出抵押池导致开仓\\n    总量的变化，某个 LP 退出时，系统会收取退出金额的 0.5%的手续费，该手续费会自动分配\\n    给当前其他未退出的 LP。\\n    4\\\\.4不同风险波动率的 LP 抵押池\\n    dFuture 平台可以支持多个不同风险波动率的 LP 抵押池，同一个 LP 抵押池中可以存在\\n    多个不同的交易对，各交易对间裸头寸是共享的，并参与到各交易对的动态手续费和动态持\\n    仓利息的计算。\\n    通过一个 LP 抵押池支持不同的交易对，与 LP 抵押池只支持一种交易对相比，可以灵\\n    活的提升不同交易对的最大开仓头寸，提升 LP 抵押池的资金利用率，从而提升 LP 抵押池\\n    的收益率；同时，通过在一个抵押池中集成低风险和中风险的交易对，通过低风险交易对降\\n    低抵押池风险，通过中风险交易对提升交易收益，也可以进一步提升 LP 抵押池的收益率。\\n    LP 在抵押时，可以根据自己的风险偏好，选择抵押到低风险池还是高风险池，从而选\\n    择获取无风险的稳定收益还是选择有风险的高额收益。\\n    4\\\\.5LP 的收益构成\\n    LP 选择一个 LP 抵押池完成抵押后，其收益主要由如下几方面构成：\\n    I．DFT 分配\\n    DFT 伴随报块产出后，30.4%的 DFT 分配给为平台提供流动性抵押的 LP，每个 LP 按其\\n    抵押比例获得 30.4%LP 收益中等比例的 DFT；\\n    II．风险保障基金\\n    风险保障基金包括平仓点差和爆仓费用，用于在交易者穿仓时对 LP 提供一定的保护；\\n    平仓点差：平仓时，平台会收取 0.01%的手续费，打入风险保障基金，该部分费用以\\n    抵押池的结算币种收取；\\n    爆仓费用：持仓保证金率低于当前币种最低档位维持保证金率将被系统强制平仓。平\\n    仓时，仓位中剩余金额扣除给数据科学家后的部分将做为爆仓费用，打入风险保障基\\n    金，该部分费用以抵押池的结算币种收取，平仓点差和爆仓费用 100%给与 LP；\\n    III．退出费\\n    某个 LP 退出时，系统会收取退出金额的 0.5%作为手续费，该手续费会自动分配给当\\n    前其他未退出的 LP。\\n10. DFT\\n    DFT 是 dFuture 平台的平台币，其价值支撑来源于平台的部分交易手续费，在 dFuture\\n    平台上 DFT 有多种用途。\\n    5\\\\.1 DFT 的发行\\n    dFuture 正式运行时将同时发行 DFT。DFT 同时发行在币安智能链 BSC 和火币生态链\\n    Heco 上，总量 4 亿，每条链 2 亿，产出完成后将不再产生。\\n    5\\\\.2 DFT 的分配\\n    30\\\\.4% - 交易者收益\\n    30\\\\.4%的 DFT 分配给在平台完成有效交易的交易者。\\n    30\\\\.4% - LP 收益\\n    30\\\\.4%的 DFT 分配给为平台提供流动性抵押的 LP，LP 按其抵押比例获得 30%LP 收益\\n    中等比例的 DFT。\\n    15\\\\.2% - LP Token 挖矿\\n    15\\\\.2% 提供给在 MDEX 和 PancakeSwap 上为 DFT 提供流动性的用户，即 LP\\n    Token 挖矿。\\n    10% - 团队\\n    10%的 DFT 做为团队奖励，用于团队运营、技术研发等，上线后 24 个月线性解锁。\\n    10% - 私募\\n    10% 作为早期投资者份额，为 dFuture 的发展提供更充足有利的资金与资源，上线\\n    后 12 个月线性解锁。\\n    3% - 空投\\n    为了进一步推广 dFuture 平台，我们会针对交易者，Defi 社区成员等潜在用户群体进\\n    行多次空投，目前用于空投的 DFT 总量预计为 3%。\\n    1% - 社区奖励\\n    为了进一步完善平台的功能，奖励社区活动中的积极者，我们预留了 1%的 DFT 用于各\\n    项社区活动的奖励。\\n    5\\\\.3 DFT 的功能\\n    交易分润\\n    dFuture 平台的一项主要收益是来自交易者的交易手续费。当手续费池或利息池净盈\\n    亏每增加 1000USDT 时，平台用户可以通过在平台抵押 DFT，按自己抵押 DFT 占总抵押\\n    DFT 中的占比，获取平台交易手续费的 40% 的等比例部分，该部分手续费以 USDT 形式\\n    支付给用户，抵押的 DFT 在 3 天后可赎回。\\n    回购销毁\\n    dFuture 平台会将手续费总收入中的 20% 用于回购并销毁 DFT。\\n    交易手续费折扣\\n    交易者抵押 DFT 后，可以获得交易手续费的打折。\\n    LP 锁仓加速\\n    LP 可以通过抵押 DFT，让自己抵押 USDT 获取 DFT 的过程加速。LP 在抵押 USDT\\n    提供流动性时，也可以抵押 DFT 对自己抵押的 USDT 进行加速。目前 LP 抵押加速时，\\n    DFT 与 USDT 的比例为 1：2，就是 1DFT 可以加速 2USDT，抵押的 DFT 在一天后可赎回，\\n    但是加速的 USDT 数量不可超过当前已抵押的 USDT 数量\\\\*2。\\n    我们举例说明：\\n    LP 抵押了 20 万 USDT，此时他可以再抵押 5 万 DFT，由于 DFT 与 USDT 是 1：2 的抵押\\n    关系，相当于其抵押了 30 万的 USDT，该 LP 可以按抵押了 30 万 USDT 获取 DFT。抵押的\\n    DFT 可以在 T+1 天后赎回。\\n    DAO 治理的投票权\\n    所有被抵押的 DFT，包括抵押用于交易分红的 DFT 或者抵押用于 LP 锁仓加速的 DFT，\\n    都会获得相应的投票权，社区可以通过投票，对 dFuture 平台的所有参数进行修改和调整，\\n    从而满足更多不同的交易者和 LP 需求，比如添加更高风险波动率的 LP 抵押池；添加更多\\n    的交易对；添加 ETH、USDC 等更多的交易底对；添加更多的预言机等。\\n11. 平台全局风险参数及边界设置介绍\\n     裸头寸大于 LP 池金额时，不能开裸头寸方向的仓；\\n     裸头寸大于 LP 池金额时，平仓向着裸头寸减小方向时，可以平仓；\\n     多单+空单仓位和 > LP 池金额 3 倍时，不能开仓；\\n12. 平台收费\\n    7\\\\.1平台费用分配结构\\n    交易者在平台交易时，需要支付两部分费用：交易手续费和利息。根据恒定和公式，平\\n    台会稳定的产生交易手续费和利息盈余，这些 USDT 将直接按比例打给如下平台参与者：\\n    40% 用于对 DFT 质押者进行空投，并链上透明；\\n    20% 用于回购并销毁 DFT；\\n    20% 用于团队做为运营费用；\\n    20% 用于第三方 dex 二池流动性挖矿。\\n13. 下一步工作\\n    8\\\\.1关于平台收益动态平衡的设计\\n    对一个交易平台而言，交易规则的设计是最重要的，而交易规则中最重要的就是交易收\\n    费模式的设计，一个好的交易收费模式，要充分考虑到交易者和平台 LP 之间利益分配的公\\n    平合理。如果平台的交易规则偏向 LP，让 LP 获取高额的收益率，而交易者需要缴纳高额的\\n    手续费和交易风险，交易者将不愿意来平台交易，从长期看 LP 也无法获取收益；同理，如\\n    果平台的交易规则偏向交易者，让 LP 的收益率很低，并长期暴露在风险敞口中，LP 将不愿\\n    意为该平台提供流动性，导致交易者的可交易品类和可交易额度都会大幅下降，同时交易深\\n    度也会变的糟糕；所以，只有更好的平衡交易者和 LP 之间的利益，一个交易平台才可以长\\n    期、稳定、良性的发展。\\n    基于以上的考虑，我们考虑在下一个版本中加入收益动态平衡的机制，通过去中心化的\\n    链上算法，让交易者与 LP 在平台收益方面处于一种动态平衡的博弈中，让平台可以同时兼\\n    顾两者的利益。\\n    8\\\\.2关于进一步提升 LP 收益的设计\\n    根据目前动态手续费和动态持仓利息的系统设计，我们预计裸头寸与 LP 池总金额的比\\n    例应该长期在 0% - 10% 之间波动，这意味着 LP 池只需要提供 10%的金额就可以满足平台\\n    的流动性要求，所以 LP 池 90%的金额都将做为沉淀资金存在。\\n    在设定一定比例的准备金后，我们可以采用多种方式将这笔资金利用起来，从而进一步\\n    提升 LP 的收益率，例如：\\n     存入到类似 curve 的平台，提升收益率；\\n     提供类似 Compound 的借贷功能，提升收益率；\\n    8\\\\.3关于优化平台交易对的设计\\n    dFuture 在同一个 LP 抵押池中，可以支持有限的多个交易对交易，其中可以包含主流\\n    币和非主流币。我们可以针对每个交易对，建立健康度指标，包括日交易量、日交易人数等，\\n    每经过一定的交易周期，比如 3 个月，我们可以根据健康度评分，将评分较差的交易对剔除\\n    出抵押池，并纳入新的交易对。通过这种方式，我们可以一直保证交易对的活跃度和健康度，\\n    一方面提升交易者的交易体验，另一方面可以提升 LP 资金的利用率和收益。\",\"timestamp\":1634998396,\"title\":\"dFuture 白皮书\"},\"digest\":\"m9a-oVWfWhId9yQ2WpanLFjznPbaGheaDV8v4OLzZLA\",\"authorship\":{\"contributor\":\"0xF8B42e3FBEe933f3A2c168d98425F821D4F28847\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"1tJhfYYxQZfZCayKhhMT_lt_H0cxTLcaa6ICz4iyweY\\\",\\\"y\\\":\\\"BByoT9TWeZPeTsE6eXXEtkty9Enp4fQIRMg9XRXDlow\\\"}\",\"signature\":\"My5v7lN-s3rdpBzIpZoewHo8eFdJbcoaUMm4_4e0okhICULEn1jN2PrXaxs1TyaRZK3n1ZOujFNi0oJ_zIDiRg\",\"signingKeySignature\":\"0x74a0fb4e51dca11e413d24800520cdd17226998a3a7b342830be7851ba0734790d629f49d5b455948d8e463db0554f6063f655d59e84c0599ac7fb5c7593a7b11b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"1tJhfYYxQZfZCayKhhMT_lt_H0cxTLcaa6ICz4iyweY\\\",\\\"y\\\":\\\"BByoT9TWeZPeTsE6eXXEtkty9Enp4fQIRMg9XRXDlow\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"m9a-oVWfWhId9yQ2WpanLFjznPbaGheaDV8v4OLzZLA\"}"