"{\"content\":{\"body\":\"自2009年比特币出现以来，我们进入了区块链时代。在比特币的分布式网络中，新创建的比特币按照先解决先得的原则进行分配。具体来说，所有节点都竞争解决一个数学问题，奖励只给第一个找到解决方案的获胜者。随着矿工不断解决问题，他们创建了一个防篡改的数据链。记录在链上作为现实的交易信息从建立在其上的共识中获得了巨大的价值。这种不可伪造的账本，今天被称为区块链，对千百年来账本的发展具有革命性的意义。\\n\\n这篇文章概述了近年来区块链世界共识的变化和区块链的应用方式，并解释了为什么我们可以使用基于存储的计算范式构建全新的可信应用程序。\\n\\n# 绝对去中心化\\n\\n比特币原教旨主义者相信绝对的去中心化。作为维护在无数服务器上的全球账本，比特币网络可能无法关闭，除非我们像著名科幻电影《终结者》中的天网一样摧毁它。这种 P2P 网络是去中心化的，不受任何单一国家或机构的控制。\\n\\n绝对去中心化要求用户自己验证所有交易。早期，用户在PC上安装比特币钱包与比特币网络同步需要数小时或数天的时间。在同步完成之前，用户无法进行事务。如果钱包因PC离线或关机而长时间离线，用户需要先同步到最新区块，然后再进行任何操作。只有在所有数据都更新后，用户才能进行新的交易。这种体验让大多数用户望而却步。\\n\\n同步和验证所有交易对于绝对去中心化是必要的。\\n\\n# 信任钱包提供商\\n\\n由于 2017 年的 ICO 热潮，以太坊将区块链行业带到了一个新的高度。随着新用户的激增，以太坊官方的 Mist 钱包也需要几天时间来下载和验证所有交易，难以满足不断增长的需求。为了解决这个问题，imToken 构建了一个简单易用的 API 钱包。\\n\\n使用开箱即用的 API 钱包，用户无需在数据同步和交易验证上浪费太多时间。钱包提供商运营和维护一个区块链节点，用户的私钥保存在自己的手机中。通过访问提供商维护的节点，用户可以在他们的手机上签署交易并将其发送到节点。\\n\\n另一个流行的 API 钱包是 MetaMask，它在 2018 年至 2020 年的 DeFi 热潮中发挥了至关重要的作用。浏览器扩展钱包也是开箱即用的，借助新颖的以太坊基础设施 infura，它使用户能够无需验证交易即可参与 DeFi。从 Uniswap 的代币交换、Compound 的借贷，以及 2020 年下半年开始流行的收益农业，MetaMask 对 DeFi 用户来说必不可少。\\n\\n然而，当用户过度沉浸在 DeFi 中时，他们可能会失去对共识的基本看法。在使用 API 钱包时，用户不会自己验证每笔区块链交易，而是完全信任钱包提供商部署的节点。绝对的去中心化被迫为用户体验让路。以太坊的官方钱包 Mist 甚至宣布，在 DeFi 爆炸之前很久，它将不再推出更新版本。\\n\\n尽管绝对去中心化（即用户独立验证账本）正在逐渐消失，但去中心化的共识并未减弱。随着用户门槛的降低，DeFi 蓬勃发展，区块链的故事开始在人们的脑海中生根发芽。无论您使用 imToken 还是 MetaMask，您都完全依赖于它们的内部节点，而不是验证分类帐。然而，一旦用户的交易被包含在链上，它就会受到数以千计的其他节点的保护。这样的现实无法被单个服务提供商或集中式云服务改变。中心化的服务提供商可以暂时欺骗用户，但不能永远欺骗他们。用户的交易作为客观事实被打包存储在大量节点互连的网络中，使其无法被篡改或篡改。\\n\\n# 客观事实和数据呈现\\n\\nCompound 是一个借贷应用程序，在世界计算机以太坊上运行。Compound 平台上的每一笔交易都由数千个以太坊节点计算，以确保它成为客观事实。但是，用户和服务提供者不能直接从区块链中获得借贷业务的利率。虽然越来越多的借贷交易正在成为客观事实，但APY只能根据链上数据统计来计算。用户是根据从事实得出的表面数据而不是事实本身做出决定的。因此，客观事实与数据呈现是分开的。\\n\\n从比特币原教旨主义的角度来看，只有当用户使用全节点或 SPV 钱包验证每笔交易时，他们获得的数据呈现在去中心化层面上是不可信的。当他们使用像 imToken 或 MetaMask 这样的 API 钱包时，他们会向 infura 或其他服务提供商请求余额。余额只是一种数据呈现方式，本质上与Compound提供的APY没有区别。\\n\\nCompound 上的 APY 是由 Compound 的中心服务器根据链上数据（通常使用以太坊事件日志）计算得出的。此外，用户向 infura 或其他服务器提供商请求的余额也是根据运行在中央服务器上的以太坊程序计算的。值得注意的是，运行在中心化服务器上​​的以太坊节点是一个普通的程序，可以更改或调整。因此，无论是直接从以太坊节点 API 获取的原始数据，还是基于它处理的新数据，都无法实现完全去中心化的去信任化。服务提供商可以根据自己的意愿修改他们的以太坊节点并定制统计程序。显然，如果用户不亲自验证每一笔交易，客观事实和数据呈现之间必然存在二元分离。\\n\\n要了解绝对客观事实，用户需要自行验证所有交易并进行统计分析。这种基于绝对去中心化的去信任模型过于理想化，由于进入门槛过高，无法应用于现实生活场景。\\n\\n# 区块链应用模型的转变\\n\\n以太坊官方钱包 Mist 的失败标志着区块链行业共识的转变。用户不再自行验证交易，而是通过 infura 或其他服务提供商运行的节点进行交易。这意味着他们完全信任服务提供商。\\n\\n用户之间的共识正在逐渐发生变化。原因之一是区块链行业不断变化的用户群。比特币原教旨主义者目睹了大量新用户，他们从未部署节点或安装 SPV 钱包。大多数新用户更喜欢易于使用的代币转移和高回报的 DeFi 应用程序，而不是去中心化的去信任化。去中心化的愿景已经从主动获取绝对客观事实转变为依赖服务提供者提供二手事实陈述。如下图所示，它已经从一层拓扑模型转变为两层模型，并且在不久的将来很可能会演变为三层模型。\\n\\n![](https://images.mirror-media.xyz/publication-images/FrTKJpsHv4lYsSg6gcG5C.png?height=826&width=1912)\\n\\n图 1 显示了绝对去中心化的模型，其中用户客户端与区块链节点位于同一层。用户需要保持他们的节点与区块链同步并自行验证所有交易。该模型的用户体验极差。\\n\\nimToken 和 MetaMask 自 2017 年的 ICO 热潮开始上升。为了满足不断增长的用户需求，出现了如图2所示的两层模型。在这个模型中，用户不再验证交易，而是依靠服务提供商来部署和维护节点。服务商运营的节点收到用户的签名数据后，将代表用户处理交易。这种模式将用户从繁琐的事务同步和验证中解脱出来，从而大大提升了用户体验。\\n\\n正如我们在图 3 中看到的，三层模型将用户与区块链完全解耦。在这个模型中，用户不与区块链交互，他们的签名交易也不会发送到区块链节点。服务提供者的可信度由各种区块链保障，用户的交易完全由应用程序处理。该模型最大的优势在于其互联网级的用户体验，包括互联网级的TPS和可信账户。\\n\\n区块链应用模式的转变，体现了用户体验从最低级到中级，最终到最易用的不断提升。\\n\\n# 进化为树层模型\\n\\n实际上，目前的 DeFi 应用并不属于纯两层模型，而是 2.5 层模型。\\n\\n我们在使用 DeFi 应用程序时，显示的大部分数据都经过中心化服���器的统计处理，而不是节点直接输出。由于区块链仅作为结算层，服务提供商可以轻松修改程序并伪造在其服务器上运行的节点的数据。\\n\\n我们可以假设有两种攻击：\\n\\n1. 真实笔记+误导性数据呈现。服务商确实运营真实的节点，但他们展示的利率、汇率或其他信息被修改，以诱导用户进行链上操作。尽管交易是在链上进行的，但结果数据并未如实呈现。比如显示的APY是10%，但实际值是9%；显示的汇率是 1 : 256，但实际值是 1 : 250。\\n2. 完全假的节点。在这种情况下，用户通过服务提供商进行的所有转账或 DeFi 交易都是假的。\\n\\n避免这两种攻击的唯一方法是要求用户亲自运行一个节点并进行统计分析，这会造成很多麻烦。因此，用户必须依靠数据呈现或通过第三方验证数据。在现实生活中，通过 imToken/MetaMask 与 DeFi 应用程序交互时，我们总是需要在 etherscan 上验证我们的交易。\\n\\n当服务商开发应用程序时，基于绝对去中心化的去信任化会转移到应用程序上。用户信任服务提供商，可以通过第三方交易验证实现更高级别的信任。无论如何，用户的信任已经与区块链保护的去中心化去信任分离了。总之，信任可以分为两类：\\n\\n1. 绝对信任：无需信任任何人，用户自行验证所有区块链交易并维护一个完全去中心化的账本。\\n2. 相对可信度：用户必须信任服务提供商，并从他们那里获得账本的数据呈现。之后，他们将对来自多个服务提供商的数据进行比较。\\n\\n左图是两层模型的扩展，用户与服务器提供商运行的节点进行交互，并信任他们提供的数据表示。在这种情况下，用户处于相对信任的环境中，因为服务提供商的节点可能不是真实的。用户需要寻求第三方交易验证或自行验证交易。\\n\\n在两层模型中，用户直接与节点交互并向节点发送交易。右图是三层模型，用户、服务提供者和节点相互隔离。用户不再与节点交互。通过启用基于存储的可信计算，服务提供商通过链下程序处理用户的交易，该程序始终由区块链（即 Arweave 启用的基于存储的计算范式）保护。因此，链下计算也可以由第三方或用户验证。\\n\\n> *在基于存储的计算范式中，确定性程序的源代码是公开可用的或上传到区块链的。该程序完全在链外运行，所有输入都发送到并记录在存储区块链上。打包的数据是按顺序（按时间）排列的。任何第三方都可以运行链下程序，该程序将从链上下载确定性数据并生成确定性状态。*\\n>\\n> *[Arweave 支持的基于存储的计算范式](https://medium.com/everfinance/a-storage-based-computation-paradigm-enabled-by-arweave-de799ae8c424)*\\n\\n![](https://images.mirror-media.xyz/publication-images/9KTm_HSm9UfjYnk6dL8CN.png?height=671&width=2000)\\n\\n对于用户来说，这三种分层模型都比较值得信赖。绝对信任仅与服务提供者有关。除非用户自己验证所有交易，否则永远无法实现去信任模型。\\n\\n在三层模型中，我们可以通过消除对基于 EVM 的链上计算模型的需要来重建 Compound。只要应用程序的程序和数据是可信的，应用程序的计算结果就始终作为客观事实存在。在三层模型中，不仅是 APY，而且每笔交易改变的余额状态都被计算并显​​示在链下。从二层模型向三层模型演进，不会改变客观事实和用户相对信任的环境。随着越来越多的交易被纳入链中，由此产生的客观事实受到区块链技术的保护。\\n\\n# 三层模型的优点\\n\\n为什么要构建三层计算模型来分离用户和区块链？\\n\\n区块链对于一般用户来说有太多限制。受限制的 TPS、昂贵的 gas 费和种子短语保护使用户望而却步。为了实现绝对的去中心化，区块链在很大程度上牺牲了它的可用性。\\n\\n区块链节点保证了其可信性，基于三层模型构建的应用程序可以以高度灵活的方式进行开发，并为用户提供极致的易用性。\\n\\n* 可组合性：使用基于存储的计算范式不会破坏可组合性，因此任何应用程序都可以通过 API 相互交互。来自应用程序的交易入链后，将成为不可篡改的客观事实，可以被验证。当两个应用程序通过 API 相互交互时，任何虚假交易和后续交易都将被检测到并恢复。回溯将在链下进行以纠正错误条目，从而使链下程序的计算结果与链上的事实保持一致。\\n* 开发门槛低：只要传统应用开源，交易上链，应用透明，支持第三方验证。计算范式对编程语言没有任何限制。\\n* 无性能限制：链下程序的性能仅取决于程序部署的机器和开发团队的能力。\\n* 低共识成本：共识成本可以降低到区块链存储的成本。在 Arweave 上存储近百万笔交易仅需 1 美元。\\n\\n## 坏处\\n\\n该模型主要牺牲了免许可访问。基于该模型构建的应用程序由中心化服务提供商实施和部署，该提供商可以过滤和审查用户的交易。此外，单点故障可能会导致服务暂停。\\n\\n但是，任何人都不能破坏账本上的客观事实。事实程序和每笔签署的交易都将由区块链作为可验证的事实进行保护。\\n\\n# \\n\\n![](https://miro.medium.com/max/1400/1\\\\*gz6p6_ssznl9chr8y55voq.png)\\n\\n# 结论\\n\\n最低的共识成本是存储成本。区块链由于其不可伪造性和可追溯性，使我们能够存储真实的程序和真实的数据，从而保证计算结果客观存在，不可篡改。计算实际上并不属于客观事实，无论我们是否进行计算，这些客观事实都保持不变。可验证性是区块链达成共识和可信的关键。确保任何人都可以验证防篡改的客观事实是信任的基石。\\n\\n由于可验证性，基于存储的计算范式可以在多方之间建立信任。可验证且透明的分类帐彻底改变了传统分类帐技术。在协调生产关系时，它设法解决传统账本（或合同）面临的各种矛盾和纠纷。\\n\\n分类帐是人类协作的关键。来自每个人和每个机构的账本之间的相互联系促进了当今社会的协作和分工。区块链作为革命性的事实机器，将彻底改变基于账本的信任体系，更容易建立信任，实现价值自由转移。\\n\\n未完待续，原文来自\\n\\n[https://medium.com/everfinance/evolution-of-the-blockchain-application-model-along-with-changing-consensus-755e4ae407a7](https://medium.com/everfinance/evolution-of-the-blockchain-application-model-along-with-changing-consensus-755e4ae407a7)\\n\\n\",\"timestamp\":1640915676,\"title\":\"计算范式的转变––区块链应用模型的演变以及共识的变化\"},\"digest\":\"Z-qZDsq5O-UMkrkjfmUxvmFW3ZueIAosDrZqusZsj0s\",\"authorship\":{\"contributor\":\"0x45D29b661F9351Abb53d3412ffe8852e6708f9D0\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"fv2fr65ipeiSKH05o5Q50aSA8bp3rfv16_zYltEKznY\\\",\\\"y\\\":\\\"LyWxJqAvBKVZHzd2ok2eQYTio_nXOUklWfXWrq9fBlE\\\"}\",\"signature\":\"tMyjQKuBkCl4CGMk1mMmHr-b6j11-ZfABYVvUz3ZuqzR19AucGTz30twOc3FGQyxknD1kltRAuq3OaDkzxRGfA\",\"signingKeySignature\":\"0xcdec961f27581b9d784c6116e6d74658ea1fbf8005dd26566abf85240d6ed53f0b2f732d4c0898d44037efb46c12df5d931fdf7e2b9272360d6b6388d9b51e571b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"fv2fr65ipeiSKH05o5Q50aSA8bp3rfv16_zYltEKznY\\\",\\\"y\\\":\\\"LyWxJqAvBKVZHzd2ok2eQYTio_nXOUklWfXWrq9fBlE\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"WOgG3BGOFQVYUK43lmbpfO1EfAJMa0MQYVBPMHqpKg4\"}"