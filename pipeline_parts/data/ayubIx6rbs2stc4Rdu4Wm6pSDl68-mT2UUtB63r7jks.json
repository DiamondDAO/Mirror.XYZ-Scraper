"{\"content\":{\"body\":\"学习架构的时候，都会要到各种各样的分层架构，如传统三层、四层、DDD、六边形、MVC、MVP、MVVM等等，而且还在不断有新的分层方法。\\n\\n真的需要不断的学习这么多的分层方法么？有没有可以学习一个万能的分层方法呢？\\n\\n架构方法论——分形架构尝试使用一个方法来生成适用的分层方法。\\n\\n# 为什么要分层？\\n\\n分层的本质是聚焦。传统三层聚焦业务逻辑，MVC聚焦交互流程控制，ORM聚焦数据映射，DDD聚焦领域服务。\\n\\n# 如何分层？\\n\\n首先一个软件系统的核心是业务逻辑，聚焦业务逻辑就有了第一个层，业务逻辑层。\\n业务逻辑并不能直接为用户使用，想要应用业务逻辑就需要一个交互层（或者叫展现层、接入层）。\\n\\n业务逻辑也能不能凭空构建，需要其他的应用来支撑，所以还需要一个基础层（或者叫数据层）。\\n\\n还需要其他的层次吗？\\n\\n目前来看不需要了。\\n这里的基础层，同时也是其他系统的应用。也就是一个系统的应用是其他系统的支撑，一个系统的核心依赖其他系统的应用。因为系统与系统、系统与用户间的关系无非是支撑和依赖，所以这已经覆盖了所有的情况。\\n\\n# 什么是三层分形架构？\\n\\n那么为什么DDD的分层会有四层，网络会有7层，等等超过三层的设计呢？\\n\\n三层以上的设计其实是在三层的基础上，将其中一层再聚焦一个不同核心重新划分出的三层。\\n\\n比如核心层再聚焦实体和聚合，那么应用领域实体就需要应用服务层，支持领域实体就需要仓库、领域事件总线等支撑。\\n\\n在交互层中，聚焦交互流程控制，核心层便是控制器，应用层是视图，支撑是模型。聚焦界面的不同展示，核心层便是展示器，应用是视图，支撑是模型。\\n\\n三层架构是指聚焦某一核心，根据支撑和应用关系，划分出三层的方法。\\n三层分形架构，是指应用三层架构方法，每个分层中再次使用三层架构的递归处理过程，因为是三层架构的重复应用，形似分形，所以命名为三层分形架构\",\"timestamp\":1640150175,\"title\":\"分形架构-为什么架构只需要\\\"三层\\\"\"},\"digest\":\"enZqFge3-pHs6xWWO_xF7WrJg4OzpD8wbNdQ2_Cvr2w\",\"authorship\":{\"contributor\":\"0xC3794C8e7160e5E1f80dDFb76848eEdD1A86Eb48\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"OE0PyJwUv7O9nCpMQBiO7quy_ci2L7YlF_8-Oq4rYYQ\\\",\\\"y\\\":\\\"h_HctfwiAsS6NIWWsUN85VFl2Th26Sre0A0tALgIuk0\\\"}\",\"signature\":\"JIV-ldP_-jJSZy_X58QA2rFRwUmH6-3A28SQ7KJYJRxNsqqBV_8uTt48hLFkbDJGuYD1opDwCxDFoLRMTVubpQ\",\"signingKeySignature\":\"0xebd9cc8b01d87aab0fa2313beed1044c805f0619124e91a57d2c1b98926b753f1c8fa9464adc9975b045ddf297e420ee0827c30e0155410baea895d15022e1c61b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"OE0PyJwUv7O9nCpMQBiO7quy_ci2L7YlF_8-Oq4rYYQ\\\",\\\"y\\\":\\\"h_HctfwiAsS6NIWWsUN85VFl2Th26Sre0A0tALgIuk0\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"uS3NzVdBJBbDNww21NVcGvePgNOjwPw1gRwydjMNUN4\"}"