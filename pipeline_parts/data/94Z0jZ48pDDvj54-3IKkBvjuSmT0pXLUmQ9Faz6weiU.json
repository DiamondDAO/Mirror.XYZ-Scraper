"{\"content\":{\"body\":\"A non-custodial wallet is a place that offers various financial services while the user owns full custody of the assets by holding the private key. This essay surveys: Functionalities of the non-custodial wallet; Why the user cares about it; Available options provided to the user in existing wallet products; Most importantly, what does/would a best-in-class implementation look like.\\n\\nA non-custodial wallet is the default entry point to all crypto financial services; allowing the user to access them all in one place is extremely powerful. Excelling on all possible functionalities and experiences convinces the user to stay. The functionalities range in three categories:\\n\\n* Technical properties: Features of the wallet components defined by implementation details.\\n* Provided services: The financial services that a wallet can provide to the user. These are the reasons people want to use a wallet.\\n* User experiences: Aspects of a wallet experience that makes it seamless, intuitive and magical to use.\\n\\n### Technical Properties\\n\\n**Security**\\n\\nWhy: The user cares about the robustness of the wallet architecture, libraries, implementation to secure the key storage, which controls full custody of the assets.\\n\\nOptions set:\\n\\n* Key storage: in browser (e.g. chrome extension wallets, encrypted by password), in software (e.g. file in Apple Secure Enclave), in hardware, bring-your-keys (software wallet interface with hardware support).\\n* Key control: single-sig, multi-sig (multiple shards of the keys stored). Access control: whether it uses a second factor (e.g. NFC, USB).\\n* Trade-off with fee savings (using Layer 2) and usability.\\n\\n**Privacy**\\n\\nWhy: The user cares about being fingerprinted on a public blockchain based on the activities.\\n\\nOptions set:\\n\\n* Full node vs. light client\\n* Tor network.\\n\\n**Latest protocol releases**\\n\\nWhy: The user wants to take advantage of the latest network upgrades that unlocks features such as fee savings, privacy and securing the token networks.\\n\\nOptions set:\\n\\n* Bitcoin: [Address and RBF support matrix](https://bitcoinops.org/en/compatibility/)\\n* Ethereum: EIP-1559, ENS support\\n\\n**Supported environment**\\n\\nWhy: The user wants to access the financial services any time, anywhere on any device based on context.\\n\\n*Options set*: Web, desktop, mobile, chrome extension.\\n\\n### Provided Services\\n\\n**Transfer and storage of (fungible and non-fungible) tokens**\\n\\nWhy: The user likes to see a holistic balance sheet of the owned assets in one place.\\n\\nOptions set: The user now goes to different wallet providers for the supported tokens and NFTs on different chains.\\n\\nBest-in-class:\\n\\n* Provides an upfront view on what's supported and unsupported.\\n* Provides the ability to send, receive, display balances and transaction histories of tokens according to different standards.\\n* Provides explorer links to validate balances and transactions.\\n\\n**Swap tokens**\\n\\nWhy: The user would like to own assets alternatively other than the traditional exchange (either the fiat-to-crypto pair unsupported or he wants to avoid KYC/onboarding steps).\\n\\nOptions set:\\n\\n* DEX: Uniswap, Sushiswap, Curve, Balancer.\\n* DEX Aggregator: 1inch, Paraswap, and Matcha.\\n\\nBest-in-class: Provides a comprehensive selection of possible execution methods or sources, blockchain for the desired swap and a clear view of its fee structure.\\n\\n![](https://images.mirror-media.xyz/publication-images/ewLHzG5t7ezKQk07gLg3u.png?height=878&width=1246)\\n\\n**Pay for Goods and Services**\\n\\nWhy: The user wants to own non-fungible assets or pays for web3 services.\\n\\nOptions set: A list of wallets that the application supports to connect to.\\nBest-in-class: Provide first class partnership with dApps login page.\\n\\n![](https://images.mirror-media.xyz/publication-images/RkJw4xpkxn7Drv9dqRzbs.png?height=502&width=982)\\n\\n**Earn by Staking**\\n\\nWhy: The user wants to make passive income with the assets he already owns.\\n\\nOptions set: User chooses different wallets for the tokens he wants to stake with a range of networks.\\n\\nBest-in-class: \\n\\n* Provides a variety of validators with fees: [3-click staking](https://phantom.app/blog/solana-staking-in-just-3-clicks) \\n* Provides a real-time estimation and intuitive visualization on returns (A not-so-good [example](https://solana.com/staking))\\n\\n![](https://images.mirror-media.xyz/publication-images/JUYjntccLtG1B5tlHGX2F.png?height=468&width=1520)\\n\\n**Earn by Deposit**\\n\\nWhy: The user wants to earn interest by lending out his owned assets.\\n\\nOptions set: Access to various lending protocols (Compound, Aave, Yearn) for various tokens.\\n\\nBest-in-class: Intuitive selection choices of Liquidity pools over different chains.\\n\\n**Borrow**\\n\\nWhy: The user wants access to liquidity without needing to sell assets.\\n\\nOptions set: A selection of lending protocols with borrow APY and LTV ratio for given assets. \\n\\nBest-in-class: Intuitive selection choices.\\n\\n**Voting and Governance**\\n\\nWhy: The user wants to participate and improve the token network.\\n\\nOptions set: A link to the proposal website.\\n\\nBest-in-class: An intuitive way to view and engage proposals, and a seamless way to vote.\\n\\n### User Experiences\\n\\n**Fee optimization**\\n\\nWhy: Any financial activities that happen in a form of on-chain transactions involve fees. The user seeks the lowest fee to perform such activities.\\n\\nOptions set: Layer 2 solutions (Lightning for Bitcoin, Optimism/Polygon/Arbitrum/zkSync for Ethereum).\\n\\nBest-in-class: Provides a transparent selection of networks for fee breakdowns.\\n\\n**Sign-in for All Devices**\\n\\nWhy: The user is able to log into the same wallet account on a different device seamlessly with the fewest clicks and types.\\n\\nOptions set: password, 2FA, QA code scanning.\\n\\nBest-in-class: Requires the least amount of user effort to log in securely.\\n\\n![](https://images.mirror-media.xyz/publication-images/wggH2NYpxLEpxyRTg3Cux.png?height=500&width=920)\\n\\n**Wallet linking**\\n\\nWhy: The user cares about the seamless credential exchange for the wallet to connect to an application.\\n\\nOptions set: Pop-up window (e.g. Decentraland Connect), phone push notification, web deep linking.\\n\\nBest-in-class: Provides a one-click experience for log-in while feeling safe.\\n\\n**Wallet recovery**\\n\\nWhy: The user has confidence that the funds are secure even under extreme scenarios.\\n\\nOptions set: iCloud Backup (e.g. Rainbow), social recovery (e.g. Argent), multi-sig (e.g. Square Crypto).\\n\\nBest-in-class: Provides the spectrum of options from \\\"not your key not your coins\\\" to \\\"loss your key is not the end of the world\\\" or clarifies the trade-offs.\\n\\n**Portfolio tracking**\\n\\nWhy: The user wants to gain analytical insights on the owned assets.\\n\\nOptions set: e.g. Zapper, DappRadar.\\n\\nBest-in-class: Offers a one-stop-stop dashboard to track performance of all assets with customizable toolings.\",\"timestamp\":1641964714,\"title\":\"A Survey of Non-Custodial Wallet Functionalities\"},\"digest\":\"szpwNOVrLfpGgjAzu9Untk2d1SiXVM2GRH5qcjMxekc\",\"authorship\":{\"contributor\":\"0x3a9e9dcC7be5a0152B15CA34923CadEF1865DBA5\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"D0n-vv-UbxGy4iwmwjLeMvCrlDQ3um8qbWnTqSd-R18\\\",\\\"y\\\":\\\"tXsvMdUQRpUBbD9xr2321Bu53_pHGf6lcI4XMVuQRao\\\"}\",\"signature\":\"xW6QyUEN1ySFNNZdHUrMWmMfktPMzzS-T_9Z1p8D69QSl_R8bwJW4opD-eXbXdFyPkqnS7tV4z6xqoYM65amBw\",\"signingKeySignature\":\"0xc22460575e1dc88d8bca4520d29d900d6dceeafb968b1ccf6801e302fa080a4636b20f59b9b5fc665aab4f91aaa1d26cb7c98e15458383c1c624e23c360a5f3e1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"D0n-vv-UbxGy4iwmwjLeMvCrlDQ3um8qbWnTqSd-R18\\\",\\\"y\\\":\\\"tXsvMdUQRpUBbD9xr2321Bu53_pHGf6lcI4XMVuQRao\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"CEHr23LqB2oAbJ0_a9vBOmPKg8fJ1eS96cvb78OUdXo\"}"