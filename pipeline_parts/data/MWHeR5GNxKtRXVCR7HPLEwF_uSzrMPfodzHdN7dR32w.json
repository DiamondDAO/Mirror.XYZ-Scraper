"{\"content\":{\"body\":\"比特币谈论区块链的人越来越多了，区块链算法本身是一种分布式存储模型，专门用于解决记账问题的算法。因为其去中心化，还有不改特性。可以做到通过数学和密码学解决现实生活中的信任问题。看了很多关于区块链和比特币的文章，我们不如通过代码来读比特币更靠谱点！\\n\\n就好像我们做个游戏，没有人关系你用什么语言写的、用什么服务器、服务器性能怎么样。人们只关心这个游戏好不好用。无论你的代码写得多好，系统架构是怎样的，硬件或者模型设计多优化，用了多么高科技的技术，但只要游戏做的不好就是一个废品。\\n\\n\\\\###区块链实际上是解决中心记账问题的一个模型###\\n\\n\\\\####传统记账模式####\\n\\n以腾讯为例，腾讯自己有个审计部门，省级有审计部门，市级有审计部门。腾讯每天有大量的订单产生，同样审计部门有无数的账单产生，腾讯财务发送账单到市级  ，然后市级在发到省级，省级在反馈到市级再到腾讯。数据量很小的时候，各级部门都能审计，但当订单越做越大时候，如果有人做假账或者漏了某笔账单，基本上就是一笔烂账了。不管管理体系做得多好，想要查出来被修改的错误账单，基本都是不可能的。\\n\\n\\\\####比特币记账模式###\\n\\n\\\\#####先列出最简单的区块链数据结构代码#####\\n\\n```\\n\\n//区块\\n\\ntype Block struct{\\n\\n//时间戳\\n\\nTimestamp int64;\\n\\n//账单数据\\n\\nDate []byte;\\n\\n//前一个区块的hash值\\n\\nPrevBlockHash  []byte;\\n\\n//哈希值\\n\\nHash []byte;\\n\\n}\\n```\\n\\n\\\\###变量分析###\\n\\n1\\\\.时间戳：当前区块生成的时间\\n\\n2\\\\.账单数据：打包的数据\\n\\n3\\\\.PrevBlockHash ：前一个区块的hash值（地址或者唯一表示那个区块的地址，比如人的身份证）\\n\\n1. Hash ：当前区块的hash值\\n\\n##### Data这里并不是真的账单，而是一个默克尔树的根节点的校验值\\n\\n后面加上默克尔树，再重新理解一下区块链 #####\\n\\n```\\n\\n//区块\\ntype Block struct{\\n//块头\\nHead BlockHead;\\n// 账单数据\\n\\nData Merkle\\n\\n}\\n\\n//块头\\ntype BlockHead struct{\\n//时间戳\\n\\nTimestamp int64;\\n\\n//前一个区块的hash值\\n\\nPrevBlockHash  []byte;\\n\\n//哈希值\\n\\nHash []byte;\\n\\n}\\n\\n//账单数据\\n\\ntype Merkle struct{\\n\\n//每一条交易记录\\nData []byte;\\n\\n}\\n```\\n\\n上面这个Merkle参数，默克尔树可以理解为就是一个账单。还是刚才的阶段一，每一个Data不是一条交易记录，可以理解为一个块记录就是一个账单。\\n\\n当交易记录太多的时候，记账的交易数据量太大了，将整个账单参与Hash值的计算，运算量太大，太麻烦了，所以用Merkle树的方式记账。\\n\\n关于默克尔树就不讲太多了，有兴趣的可以去查一下，跟区块链其实很像，其中每一个树节点都是这个树节点的子节点的Hash校验值计算出来的。\\n\\n简单一点理解，可以认为通过Merkle树的方式做了一个账单，这个账单有一个根节点，这里记做MerkleRoot，是树结构的一个节点，不明白的还可以理解为一个校验数字。整个账单里只要有任何一个字节对不上，都会导致MerkleRoot这个数字产生变化，所以一旦这个账单做好了之后，将Merkle账单的MerkleRoot这个数字写入到区块头里面，那么整个账单的任何一个字都不能修改，一旦有任何修改，都会导致整个树结构上面的每一笔交易记录的Hash值需要重算。\\n\\n最终导致MerkleRoot这个数字会发生变化，一旦有变化，就会导致块头的Hash值发生变化。导致这个账单录入之后的所有账单的PrevBlockHash值发生改变，这个块之后的所有的帐要全部作废重做。区块链就是通过这样一个管理模式来管理账单。\\n\\n其实到此为止区块链已经讲完了。区块链其实就是一个简单的记账模型，目的是为了避免有人为意图的对账单做修改。区块链的每一个块都是在随着交易记录的增加不停地添加进来的。因为任何一个块的数据都被一个完善的数学系统锁定了，任何一个字都是不可修改的，只要有修改，都需要重算从这个账单块开始的后面所有的账单块，否则账单就是一个错误账单，不会被系统采纳了。\",\"timestamp\":1641729590,\"title\":\"从数据结构上看比特币\"},\"digest\":\"PLt_p2Dv5FVcUfVRcJDqynvHiLQes8S0kuP8Cwt_MAM\",\"authorship\":{\"contributor\":\"0x3CdD11377392664bEC71186e30c8E105ec54DAB7\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"nEhsFBBsEppcWR3KfdD_H-UZH8Xilwqv7nOQmY-gBvs\\\",\\\"y\\\":\\\"Ua7-c3s9LJfShrVdB2pkSRmJnqqkrxHAGtBh9slFsEk\\\"}\",\"signature\":\"gczM_dltu_7lNZrEmBwCHvE0RhLa3uSo54gUvVXBAWXYOrYxd0yPZAdUgrbdCJ5RG7QG0anj7Fb1zibsvVq-2w\",\"signingKeySignature\":\"0x94dde04b37a55efbf0c539e2c1d935347fd4c4efbb1cc9d6e8921be127dd50c31efaa38756c4f1c2fa338c562bd53fd5ff55882b48501cdcfd739aac0d2d7f1e1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"nEhsFBBsEppcWR3KfdD_H-UZH8Xilwqv7nOQmY-gBvs\\\",\\\"y\\\":\\\"Ua7-c3s9LJfShrVdB2pkSRmJnqqkrxHAGtBh9slFsEk\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"PLt_p2Dv5FVcUfVRcJDqynvHiLQes8S0kuP8Cwt_MAM\"}"