"{\"content\":{\"body\":\"** \\n 介绍**\\n\\n在本文中，我将谈谈以太坊上的 L2，当前扩容生态系统的状态；以及为什么我认为长期来看在以太坊上运行 L2 为最经济和最技术可持续的扩容解决方案。\\n\\n免责声明：本文汇总了我的想法、其他人的资源和各种技术信息。这篇文章并不是对扩容生态系统的简单总结，而是对以太坊 L2 可扩展性的当前状态和未来可行性更详细的概述。\\n\\n为了更深入地研究，我们需要先了解一些定义和概念。\\n\\n**摘要** \\n \\n\\n为了总结这篇冗长的指南，我将列出与该技术及其未来前景有关的重要几点\\n\\n* 用户将不再需要与以太坊主网交互，因为它将仅作为 L2 的数据可用性层\\n* Web3 应用程序的 UX 将把所有的复杂性都以简明的形式呈现出来\\n* 模块化的区块链是经济和技术最可行的长期可扩展性设计方案\\n* 目前，以太坊在模块化区块链中占主导位置，因为它拥有很强的安全性，并随着转向 PoS 安全性也会进一步提高\\n* 长期来看，有效性证明比欺诈证明更佳\\n* Volition L2 基础设施 (Validium + zk-rollup) 正成为基于 zkVM 的 L2 的黄金标准\\n* 以太坊作为 L1 层同时也利用数据分片、维克尔树 (verkle trees)、无状态和其他改变提高可扩展性\\n* L2 领域正在加速构建一个共享的跨 L2 通信框架，这将使不同的 L2 项目之间共享流动性和具有智能合约可组合性\\n* L2 使用 ETH 作为 gas 费，但之后会利用激励机制创建 DAO 治理代币以实现去中心化运营\\n* 应用程序设计空间正不断扩大，因为构建者可用的带宽将更多且面临的执行层障碍将更少\\n\\n**Layer2什么？**\\n\\nL2 （二层） 是一种扩容解决方案，它具有一个单独的执行层 （代码运行的地方，如 EVM 这样的环境） 并运行在 L1 （在我们的讨论中 L1 即为以太坊） 之上。而这个执行层继承了 L1 网络的安全保证和去中心化特性。这意味着，如果 L2 由于漏洞、基础设施故障而宕机，L1 也会在智能合约桥接内安全地保护用户的资产。\\n\\n根据提交到主网上的最新状态快照可以取回资产。真正的 L2 桥接是完全无需许可和去中心化的，因此一旦用户存入资金，用户总能访问自己的资产。目前几种扩容解决方案使用的是不同的加密证明机制，其中都具有不同的安全和可扩展性权衡。在下文中我们将深入讨论它们之间的差异。\\n\\n**L2 的主要类型**\\n\\n有两种参数可以用来对 L2 扩容解决方案进行分类。其一是根据使用的加密证明分类，其二是看它们的数据可用性 (DA) 存储在链上还是链下。\\n\\n两种主要的证明类型：\\n\\n* 有效性证明 - 这是一种利用零知识 (ZK, zero-knowledge) 密码学以确保交易有效性的数学证明\\n* 欺诈证明 - 这种证明引入了一种所谓的争议时间延迟 (Dispute Time Delay, DTD)，一旦证明提交至 L2，验证者留有一定的时间以标记出无效的证明；无效证明可能包含着不正确的状态转换，因而会对涉及的验证者施加惩罚；随后状态回滚至最近的有效快照状态处\\n\\n数据可用性存储在链上或链下是什么意思呢？\\n\\n* 链上：状态数据连同所有交易的所有执行的 calldata (智能合约函数调用、原生代币转移、签名) 一起放入交易捆/rollup 的加密证明中，这使得可以在链上访问和验证所有数据。\\n* 链下：执行的 calldata 和状态由 L2 处理并存储在链下。这使得这个方案不够安全和去中心化。然而，链下存储数据方案更容易将更多交易打包进一个 rollup 中，也因此比链上调用数据证明方案的速度快许多。\\n\\n扩容解决方案分类\\n\\n这些是帮助区分不同类型 L2 的主要相关属性。但是，既然我们可以直接通过 L1 实现扩容，为什么要使用 L2 呢？为什么不使用更便宜的链，如 Solana、Fantom、Avalanche 或 BSC？我们将在下一节回答这个问题。\\n\\n**模块化 vs. 单一型基础结构**\\n\\n在区块链中，有一个著名的概念叫做三难困境 —— 即试图优化三个主要的因素：安全性、去中心化和可扩展性。在同一个系统中实现三种优化十分困难。通常来说，区块链对三点中的某一点做出权衡并实现其他两点的优化。而在以太坊这个用例中，我们首先优化安全性和去中心化水平，同时将提高可扩展性作为次要优先的工作。需要明确的是，可扩展性并非以太坊核心开发者的主要优先考虑事项。\\n\\n整个 2021 年，由于 DeFi 和 NFT 的增长，以太坊主网变得越来越拥挤。因而以太坊对区块空间的需求前所未有地高。但是，我们不能简单地通过改变区块 gas limit 的大小来增加区块可以包含的交易数量，因为这将极大提高运行一个节点的硬件要求，这意味着运行节点将变得更加困难 （降低去中心化）。再者，如果区块变得太大，这会破坏共识 (降低安全性)。\\n\\n**单一型区块链**\\n\\n其他链采用了不同的方法，它们优先考虑可扩展性，其次是安全性，最后才是去中心化。让我们以 Solana 主网 beta 版本为例。该网络有一个主要的客户端开发团队 （Solana Labs）、大约 1000 个验证者 （来源：SolanaBeach），以及另一种称为 Proof of History （PoH） 的共识机制。\\n\\nSolana 采取了独特的扩容方案，这是一种单一型区块链。随着计算能力的增加，他们计划无限扩展运行网络的验证节点。这种方法使网络去中心化程度降低，因为节点验证者被迫不断购买性能更好的硬件以不断跟上网络。由于量子隧道效应，当我们达到芯片内部所能容纳的极限时，人们担心计算能力的增长速度会放缓。某种程度上，我们需要一种新的计算范式出现或技术上的重大突破，以使这种方法可持续。因此，我的结论是区块链扩容有更好的长期替代方案。\\n\\n**模块化区块链**\\n\\n模块化区块链的方案本质上由一个主要网络组成，该网络优先考虑安全性和去中心化，以便它可以充当 L2 的数据可用性层。如果这个主要网络出现故障，所有 L2 都会出现故障。但是，如果某个 L2 出现故障，所有资金都是安全的 (由 L1 提供安全性保障)。这是以太坊采用的方法，因为 L2 将为我们提供最大的扩容空间。当然，还有其他一些扩容 L1 的方案，如数据分片、状态休眠机制 （state expiry） 和维克尔树 （verkle trees） 以及其他各种方法。然而，需要更多时间实现这些方案，因为以太坊优先提高安全性和去中心化。\\n\\n模块化区块链的一个关键方面是它们可以无限扩展，而无需快速升级硬件。它们之所以能做到这一点，是因为与单一型区块链的架构相比，它们在技术和经济上都是可持续的。至于为什么模块化架构比单一型架构更可持续，更详细的论证可以在这篇文章，作者：推特号 @ epolynya （u/Liberosist - Reddit）。\\n\\n从本质上讲，区块链的可持续性从两个维度来分析：\\n\\n**技术可持续性**\\n\\n* 节点需要保持同步\\n* 在合理的时间内完成从区块链的创世区块开始的同步\\n* 避免状态过度膨胀而导致失控\\n\\n**经济可持续性**\\n\\n* 理想情况下，L1 产生的收入高于运营网络的成本\\n* 不能人为地提高吞吐量，因为最终所有中心化的 L1 将不得不增加它们的费用\\n\\nRollup 和数据分片 （rads） 成为满足这些需求的唯一解决方案，这就是为什么模块化架构是唯一长期可行的扩容解决方案。\\n\\n更完整的解释请阅读下文中\\\"拓展阅读\\\"板块里 @epolynya的文章。\\n\\n**L2 的当前状态以及用户如何从中受益**\\n\\n我们正实现扩容，过去几年一直研究的解决方案已经上线了 —— 至少提供了有限的可扩展容量。而且在不久的将来会有更多解决方案在主网上发布其 L2 的改进版本和 Alpha 版本。在上文的 “L2 的主要类型” 板块中描述了扩容方案的不同属性，根据这些属性可以将扩容方案分成不同的类别。\",\"timestamp\":1638668991,\"title\":\"Layer2 终极指南\"},\"digest\":\"z4BAnk9auWl-QndFYSsDRHTQU13xw1pRntVvQieWHtQ\",\"authorship\":{\"contributor\":\"0x844753987178FAcc1bB993B249E0f8045145D575\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"t53cf0ZP1N7mJICuAYRPj6xo-ooGb8VInJnD-OPvktQ\\\",\\\"y\\\":\\\"YcJbNPF0Y7zow7ls4A6KujfRaCIqwdVDjH_wmwPgMr4\\\"}\",\"signature\":\"nCVs_KhzwaNGgoXqheAptrIg_ojGPbIAXypeZYWrweaKUNqbGH65UVRL9_6dKRh4ygX8zhLbRAw-2bDnt39PDw\",\"signingKeySignature\":\"0x01903297c4a9941c7ef44a5871a3c247a9ccb7646995be7b8b776680090b6e43715a8bb224d00a8392e8df5565759ae50784cf56dc655c80dc59cd9a1aa3cddb1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"t53cf0ZP1N7mJICuAYRPj6xo-ooGb8VInJnD-OPvktQ\\\",\\\"y\\\":\\\"YcJbNPF0Y7zow7ls4A6KujfRaCIqwdVDjH_wmwPgMr4\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"z4BAnk9auWl-QndFYSsDRHTQU13xw1pRntVvQieWHtQ\"}"