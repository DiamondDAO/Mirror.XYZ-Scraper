"{\"content\":{\"body\":\"1、 Compound introduction\\n\\nCompound is an open financial lending agreement. The fundamental difference between compound and peer-to-peer lending market is that it allows people with one asset to borrow another asset. To a certain extent, it can be understood as a blockchain decentralized bank.\\n\\nCompound is a liquidity based fund pool (like uniswap), and the lending interest rate is determined by the supply and demand of the fund pool.\\n\\n2、 Compound core logic\\n\\nAccording to the underlying asset stored in the money market of the compound smart contract, the smart contract will issue the corresponding number of ctoken cast by compound (min) to the user account according to the exchange rate. Users who hold ctoken can charge interest, redeem the token at any time, or set it as collateral to borrow other ctoken.\\n\\nThe interest on the difference between the user's deposit interest and loan interest constitutes compound's income. For example, if users deposit 100usdt on compound, they can get 8% annual income; If you lend 100usdt on the platform, you need to pay 13% interest. The interest of 5% of the difference is compound's income.\\n\\nCompound's profits are fees and API components.\\n\\n3、 Underlying assets and Oracle\\n\\nBat / Dai / eth / usdc / usdt / wbtc / Zrx each underlying asset will have a corresponding independent fund pool. When a mortgage occurs, the fund pool will increase; When a loan occurs, the capital pool decreases. For example, when collateral eth lends usdc, ETH capital pool will increase and usdc capital pool will decrease.\\n\\nDue to the demand for real-time calculation of the asset value of the borrower's collateral and the amount of the underlying assets deposited by the lender into tokens, compound needs the oracle to provide real-time price information of various underlying assets.\\n\\n4、 Lending rate\\n\\nLoan interest rate model is the core element of compound, involving concepts such as exchange rate, utilization rate, supply rate, loan rate and collateral factor.\\n\\nCompound takes a block of 15 seconds as the time unit for interest calculation. Annualized interest rate = interest rate of each block \\\\* 2102400.\\n\\nTotalcash: the number of tokens deposited by the lender into the smart contract but not yet borrowed. Totalloans: the number of tokens that should be repaid by all borrowers (loan principal + interest) totalreserves: the total number of platform reserves (the borrower's interest part is reserved as platform reserves) totalsupply: the total number of ctoken obtained by all lenders\\n\\n1. Exchange rate\\n\\nexchangeRate = (totalCash + totalBorrows – totalReserves) / totalSupply\\n\\n1. Utilization rate\\n\\nutilizationRate = totalBorrows / (totalCash + totalBorrows – totalReserves)\\n\\n1. Reserves\\n\\ntotalReservesNew = interestAccumulated \\\\* reserveFactor + totalReserves\\n\\nThe role of reserve factor is to ensure that the mortgage yield is less than the borrowing interest rate.\\n\\n1. Loan rate\\n\\nCompound loan interest rate has two versions. Version 1.0 is a linear interest rate model, version 2.0 is a piecewise interest rate model, and version 1.0 is a special case of version 2.0.\\n\\nVersion 2.0:\\n\\nThe core idea of version 2.0: if the utilization rate exceeds a certain proportion (kink), the segmented interest rate shall be used; otherwise, the interest rate model of version 1.0 shall be used.\\n\\nWhen utilizationrate < = kink\\n\\nborrowRate = baseRate + utilizationRate\\\\*multiplier\\n\\nWhen utilizationrate > kink\\n\\nborrowRate = baseRate + utilizationRate\\\\*multiplier + (utilizationRate-kink)\\\\*jumpMultiplier\\n\\nKink can be understood as marginal interest rate and utilization rate kink as spillover interest rate\\n\\nThe above formula is understood in Chinese and can be translated as:\\n\\nWhen utilization rate < = marginal interest rate:\\n\\nLoan interest rate = base interest rate + utilization rate \\\\* utilization rate multiplier\\n\\nWhen utilization > marginal interest rate:\\n\\nLoan interest rate = base interest rate + utilization rate \\\\* utilization rate multiplier + marginal interest rate \\\\* marginal interest rate multiplier\\n\\nOf which:\\n\\nBaserate base rate.\\n\\nDai savings rate (DSR) dependent on Dai for Dai baserate\\n\\nFor other tokens, baserate = baserateperyear / blocksperyear\\n\\nMultiplier and jumpmultiplier are the corresponding multipliers. The algorithm is a little complex. For details, please refer to their codes.\\n\\nVersion 1.0\\n\\nborrowRate = baseRate + utilizationRate\\\\*multiplier\\n\\nVersion 1.0 is a special case when utilizationrate < = kink\\n\\n1. Deposit rate\\n\\nThe calculation of deposit interest rate needs to obtain the borrowing interest rate first. Like the borrowing interest rate, it is calculated once for each block. Lenders in the same block obtain the same lending interest rate for the same assets.\\n\\nsupplyRate=borrowRate \\\\* (1 – reserveFactor) \\\\* utilizationRate\\n\\nNamely:\\n\\nLending rate = borrowing rate \\\\* (1 - reserve factor) \\\\* utilization rate\\n\\n1. Collateral factor\\n\\nFor different assets, compound has different mortgage factors. The range of mortgage factors is 0-1, which represents the ratio of the asset value mortgaged by the user to the available loan. When it is zero, it means that such assets cannot be used as collateral to borrow other assets. For small market value assets, the mortgage factor is small, and the same mortgaged assets can lend less funds.\\n\\n5、 Mortgage and loan line\\n\\nCompound adopts excess mortgage, and the value of the collateral is 1.5 times of the loan limit. The mortgage can obtain interest, which has nothing to do with whether the obtained loan limit is used. This can encourage users who do not need loans to mortgage idle tokens to the capital pool and expand the supply of the market.\\n\\nLoanable quantity = loan limit / current price of token. When the loan limit is negative, the collateral will be liquidated, so it is generally necessary to ensure that a certain amount of loan limit is maintained after borrowing. The platform recommends that the maximum safe lending quantity should not exceed 80% of the loanable quantity.\\n\\nCompound ledger follows the basic formula of compound interest: asset = liability + owner's equity. The following ways will increase the loan limit:\\n\\nIncrease the collateral, increase the collateral price, return the loan mortgage and obtain interest (directly added to the collateral balance, similar to 1)\\n\\nThe following ways will reduce the loan limit:\\n\\nReduce collateral. The price of collateral decreases. Interest is paid on new loans (directly increase the loan amount, similar to 3)\\n\\n6、 Liquidation and liquidation incentive\\n\\nAssuming that the price of 1 rep is equal to 1 bat, you deposit 1.5 bat as collateral and lend 1 Rep, then when the bat price falls to 1.3 bat = 1 Rep, there is a risk for the platform, because if the bat continues to fall, the collateral will not be able to repay, so the smart contract will allow others to buy your collateral, i.e. 1.3 bat.\\n\\nLiquidation: liquidation in compound refers to that when the value of the user's mortgaged assets is less than the loan value, the liquidator can repay part of the loan instead of the liquidatee. At present, it can repay 50% at most at one time. At the same time, the liquidator can get a certain percentage reward of the liquidatee's collateral.\\n\\nClose factor: during the liquidation process, the maximum proportion of debt that the liquidator can help the lender repay is between 0 and 1. This factor can be called continuously until the user's loan order is in a safe state.\\n\\nLiquidation incentive: at present, the liquidator gets 8% reward.\\n\\n7、 Comp token\\n\\nIn February 2020, compound announced that it will issue 10 million comps, of which 50.05% will be reserved for users using the agreement, 23.96% will be allocated to shareholders of compound labs, 22.26% will be allocated to the team, and 3.73% will be allocated to future team members. 4.23 million comps will be distributed to all users in about four years. 2880 comps will be distributed every day for loan mining. The larger the loan amount, the more comps will be obtained The more comp, the more comp is shared equally between the borrower and the borrower.\\n\\nComp is a governance token. Its functions are the same as the governance token MKR of makerdao, another decentralized lending platform. It mainly includes:\\n\\nWith 1% of the entrusted token, you can initiate governance proposals, including adding new assets, changing the parameters or variables of various agreements such as interest rate model, and vote on compound major proposals by using the one currency one vote mechanism, that is, one comp corresponds to one vote; in the compound lending platform, the borrower can use comp to repay the interest part.\",\"timestamp\":1637584349,\"title\":\"DFI | compound - go to center loan agreement\"},\"digest\":\"R3iWgO1cX017TIxIDzs6aMIIIxOMw5lDRU99PqyCZM0\",\"authorship\":{\"contributor\":\"0x174459460A65Dac1242793534dAf9502B0168ab0\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"BHFCActlp3Ta3HaFBQHhc4aD6BE1TuXi4mbYOGgHRjc\\\",\\\"y\\\":\\\"PDKbsB3IDlb53F2ouMNof2t-WOEAws1B01zqVFA3SaY\\\"}\",\"signature\":\"Ubg4ZyivzIXC7jfy2HHARc2TV6dGV4eKTtFSgBFIt55bz-kmcRZitNDaksdr4tcP8kkjxZiblhDD98eu1BgneQ\",\"signingKeySignature\":\"0x9ed9d9ebc1c35da15671a55b9172e77aaa9ada6d5379666acbf3796427e86b715f5f5de9559788f52379dfcec7488a7213a8be9f6723e1ffdbe817d8f7b4ff141b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"BHFCActlp3Ta3HaFBQHhc4aD6BE1TuXi4mbYOGgHRjc\\\",\\\"y\\\":\\\"PDKbsB3IDlb53F2ouMNof2t-WOEAws1B01zqVFA3SaY\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"R3iWgO1cX017TIxIDzs6aMIIIxOMw5lDRU99PqyCZM0\"}"