"{\"content\":{\"body\":\"> 本文列举了「BTC 锚定资产」和「跨层快速通道」两大跨链应用形态的技术本质，并根据其核心技术特征结合项目举例进行了分析。\\n>\\n> 延伸阅读：[《全景式解读跨链技术方案与应用形态》](https://www.chainnews.com/articles/252138338927.htm)\\n\\n**原文标题：《Paka Labs 万字报告（2/4）| 将孤岛连成大陆：BTC 锚定资产与以太坊跨层快速通道》撰文：MIDDLE.X，Paka Labs 研究员审阅：Shawn Lin, 1PAR Research 创始人，PAKA Research Collaborator**\\n\\n本篇为全篇的第二部分，约 19000 字，建议阅读时间 45 分钟；全篇共四部分，将陆续发布。\\n\\n在 [第一篇](https://www.chainnews.com/articles/252138338927.htm) 中，我们将跨链技术划分为原子交换、见证人、轻节点式侧链、中继链、共享验证人五大类别，并从跨链事务原子性、跨链消息验证、资产托管、多链适配四个维度分别进行了拆解和阐述，建立了跨链技术的认知框架和全景俯瞰。\\n\\n从本篇开始，我们将对跨链技术的应用形态进行举例。本篇将着眼于「BTC 锚定资产」和「以太坊跨层快速资产桥」两大应用形态，结合项目举例，进行纵深分析。\\n\\n### BTC 锚定资产\\n\\nBTC 是区块链世界的奠基石，BTC 因其在区块链领域的特殊地位，以及其架构中蕴含的深刻思想，聚集了很多坚定的信仰者。直至如今，BTC 在加密生态中的市场价值、流动价值、用户基础，都具有绝对的优势地位。因此，新生的公链，往往有极大的动力将 BTC 引入，为自身的生态注入强大的活力。于是，产生了众多的 BTC 锚定资产。\\n\\nBTC 锚定资产的基本原理是：\\n\\n* Lock-Mint\\n\\n在 BTC 链上锁定 BTC，目标链上铸造锚定资产\\n\\n* Burn-Unlock\\n\\n在目标链上销毁锚定资产，在 BTC 链上释放 BTC\\n\\n由于 BTC 链不具备图灵完备性，在 BTC 链上锁定 BTC 的环节，需要通过一个托管账户来完成，该托管账户由见证人来管理；另外，BTC 链上无法构筑目标链的轻节点合约，当 Burn 交易发生时，必须由见证人手动去完成 Unlock 环节。\\n\\n目标链一般而言是具有图灵完备性的，所以在 Lock-Mint 环节上，可以有不同的选择。可以选择在目标链上部署 BTC 轻节点合约，当用户把 Lock 交易传递给轻节点合约时，轻节点合约验证并执行 Mint 动作，也可以选择依旧靠见证人验证 Lock 交易和触发 Mint 。一般而言，项目方倾向于选择前者，但如果目标链是 Gas 费昂贵的以太坊，项目方更倾向于选择后者。\\n\\nBTC 锚定资产设计的关键点在于见证人机制，不同的项目在见证人机制上做了不同的设计，整体上分为\\\\*\\\\*信任式（无须抵押）和非信任式（需要抵押）\\\\*\\\\*两大类。\\n\\n#### 信任式 BTC 锚定资产\\n\\n信任式 BTC 锚定资产的见证人不需要抵押保证金，这类项目往往设计简洁，费用低廉，因此占据了巨大的市场份额，他们靠着长期积累的链下商誉和公开托管地址接受监督来获得社区的信任。需要注意的是，信任式的 BTC 锚定资产的见证人不一定是单个主体，也有可能是多个主体组成的联盟。\\n\\n**RBTC/LBTC**\\n\\n最早 BTC 锚定资产，是发行于 BTC 的侧链上的。Rootstock Labs 于 2018 年 1 月开发上线的 RSK 是 BTC 的第一条侧链，紧随其后，2018 年 9 月，Blockstream 开发的 BTC 侧链 Liquid Network 上线。两者都在侧链上创建了 BTC 锚定资产，分别是 sBTC(SmartBTC) 与 LBTC(Liquid BTC) ，后来 Rootstock 在 2019 年更新其白皮书时，将 sBTC 更名为了 RBTC(RSK BTC) 。\\n\\nRSK 是采用 Solidoty 语言编写的兼容 EVM 的智能合约平台，旨在赋予 BTC 以可编程性。RSK 使用 DECOR+ + (中本聪共识的独特变体)，通过「合并挖矿」机制，鼓励 BTC 矿工来兼任 RSK 节点，使 RSK 达到很高的安全性。\\n\\nRBTC 是按照 1:1 的比例锚定到 BTC 的，RBTC 的铸造和赎回过程依赖被称为 PowPeg 联盟的见证人集来实现。\\n\\n* RBTC 的铸造过程如下：\\n\\n用户将 BTC 转入到由 RSK PowPeg 联盟控制的多签地址中，到达该地址的 BTC 被锁定，该转入交易的 SPV 证明被 PoWPeg 联盟发送到 RSK 侧链上的桥接合约（Bridge Contract），一旦桥接合约获得此证明，它就会将相同金额的 RBTC 发送给用户指定的 RSK 侧链地址。该过程被称为 Peg-in 。\\n\\n**Peg-In 过程是非信任式的，并不需要依赖见证人。尽管 PoWPeg 联盟要负责向桥接合约递送 SPV 证明。但该过程实际上可以由任何人进行，当 PoWPeg 联盟递送不及时时，用户也可以自己去递送。**\\n\\n* BTC 的赎回过程如下：\\n\\n用户将 RBTC 发送到 RSK 区块链上的桥接合约地址，由于 BTC 链无法验证 RSK 链上的交易，我们需要 RSK PowPeg 联盟协助签署 BTC 链上的赎回交易，当 15 个联盟成员，有 11 个完成签名时，即可从多签地址中向用户转出相同金额的 BTC，此过程被称为 Peg-Out 。\\n\\n**Peg-Out 过程是信任式的，我们需要相信 PowPeg 联盟不会串谋签署错误交易，盗取托管资产。**\\n\\nPoWPeg 联盟由 15 家知名的、信誉良好的、具有高安全标准和节点维护技术能力的区块链公司组成。现有联盟成员分布在多元化的地理单元和司法管辖区，他们通过 11-of-15 签名来管理成员的新增和清退。除此之外，RSK Labs 已经制定了联盟成员的详细章程，包括安全政策、备份要求等。\\n\\n为了保证安全，避免区块链可能的重组带来的损失，RSK 采取了非常保守的最终性原则。Peg-In 过程大概需要 14 个小时（100 个 BTC 区块），Peg-Out 过程大约需要 33 个小时（4000 个 RSK 区块）。鉴于 Peg-In 和 Peg-Out 操作需要较长的等待时间，许多机构用户（例如交易所）会直接铸造好现成的 RBTC，普通用户可以直接向他们获取。\\n\\nLiquid 与 RSK 采用了大体相同的设计，同样是 M-of-N 联盟多签式的资产托管方案，同样采用了「非信任式 Peg-In + 信任式 Peg_out」的非对称方案。\\n\\n不同的是，RSK 更侧重赋予 BTC 可编程性，而 Liquid 更侧重于提供一个 BTC 的快速交易网络。在这样的指导思想下，Liquid 被设计为了联盟链，负责资产托管的联盟实际上也是 Liqiud Network 的节点。此外，Liquid Network 支持隐私交易，通过 Liduid Network 交易，可以做到隐藏交易金额和资产类型。\\n\\nRSK 和 Liquid 都曾是天王级的项目，受到万众期待，但后来由于以太坊及其 DeFi 生态的崛起，RBTC 和 LBTC 的光芒被后来居上的 WBTC 所掩盖。\\n\\n> [RBTC 文档](https://developers.rsk.co/)\\n>\\n> [LBTC 介绍文档](https://help.blockstream.com/hc/en-us/sections/900000129806-Understanding-Liquid)\\n\\n**WBTC ( Wrapped BTC )**\\n\\nWBTC 是 Wrapped BTC 的简称，2019 年 1 月由 BitGo 和 Kyber Network 联合发起。WBTC 是当前铸造量最大的 BTC 锚定资产，锁仓的 BTC 超过 200 万枚，占到了 BTC 锚定资产份额的 80% 以上，是无可辩驳的王者。如今 WBTC 已经有 WBTC on Etheruem，WBTC on Tron 两种格式。WBTC 通过 WBTC DAO 成员组成的见证人集来管理资产兑换的过程。\\n\\nWBTC 对见证人的角色进行了拆分，分为了托管商（ Custodian ）和兑换商 ( Merchant )。兑换商是介于用户和托管商之间的一个中介角色，将用户和托管商隔绝开来，用户与兑换商交互，兑换商和托管商交互。\\n\\n![0 (2).png](https://img.chainnews.com/material/images/2ac4d4f27d2f5879978aa41b83fa007d_p3JTkZr.png-article)\\n\\n理论上，兑换商和托管商都不止有一个。每个兑换商和每个托管商都管理着一个独立控制的托管地址。无论是兑换商，和还是托管商，都必须是 WBTC DAO 的成员，而 WBTC DAO 成员的新增和清退则由现有成员通过 M-of-N 多签合约来进行许可式管理，但不一定所有的 WBTC DAO 成员都会成为兑换商或托管商。\\n\\n* 兑换商申请铸造 WBTC 的过程如下：\\n\\n兑换商发起一个 X 个 WBTC 的铸造请求，并将 X 个 BTC 发送到托管商的托管地址，托管商收到 BTC，等待 6 个 BTC 区块（ 1 小时左右）确认后，创建 WBTC 铸造交易，向兑换商发放 X 个 WBTC。\\n\\n* 兑换商申请赎回 BTC 的过程如下：\\n\\n兑换商发起一个 Burn 交易，销毁 X 个 WBTC （该交易是一笔多签交易，需要兑换商和托管商都签名才能正式完成），托管商等待 25 个以太坊区块（ 6 分钟左右）确认后，将 X 个 BTC 释放到兑换商的地址，最后托管商签名 Burn 交易，使得销毁正式完成。\\n\\n\\\\*\\\\*用户无权申请铸造和赎回，只能向兑换商买入或卖出 WBTC，托管商也无权直接服务终端用户，只能服务于兑换商。\\\\*\\\\*用户可以自由选择信任的兑换商，至于兑换商如何选择托管商，机制尚不明确，当前 WBTC 只有 BitGo 一家托管商。\\n\\n用户可以用 BTC 和兑换商通过基于哈希时间锁的原子交易换取 WBTC，也可以用同样的方式将 WBTC 换回 BTC。\\n\\n通过托管人和兑换商的角色拆分，用户体验被大幅改善了，如果允许用户和托管人直接互动，用户将不得不忍受 Mint 和 Burn 的缓慢过程，但兑换商却可以通过提前储备 WBTC 和 BTC，让用户的兑换能够快速完成。\\n\\n尽管 WBTC 相对中心化，还要求用户 KYC ，但它却是最成功的 BTC 锚定资产。Paka Labs 认为，有三个重要的原因可以给我们启示：\\n\\n其一：借鉴前人经验，将复杂性封装在兑换商和托管商之间，给用户简洁快速的体验；其二：WBTC 高度重视兑换商的商务拓展，兑换商实际上成为了 WBTC 的经销商，WBTC 成功构筑了商业利益链条；其三：WBTC 借助了以太坊的势能，并抢先拓展其在 DeFi 中的应用，反过来促进了 WBTC 的铸造需求。\\n\\n> [WBTC 白皮书](https://wbtc.network/assets/wrapped-tokens-whitepaper.pdf)\\n\\n**BTCB/HBTC**\\n\\nBTCB 是 Bitcoin BEP2 的缩写，是 Binance Smart Chain 发行的 BTC 锚定资产，托管了大约 10 万枚左右的 BTC，HBTC 则是 Huobi 发行的 BTC 锚定资产，托管了大约 4 万枚左右的 BTC。两者分别是铸造量 Top2 和 Top4 的 BTC 锚定资产。（ Top3 为 RenBTC ）\\n\\n两者都是中心化机构依托自身庞大的用户群体和长期经营的商誉而发行，拥有不错的用户体验，其技术路线是极端中心化的方式，由发行机构直接作为见证人，负责资产的托管和跨链事务的验证。\\n\\n**XBTC （ChainX）**\\n\\nXBTC 是跨链项目 ChainX 于 2018 年 5 月推出的 BTC 锚定资产。与 RBTC/LBTC 类似，ChainX 本身也被开发为了 BTC 的一条侧链，并采用了「非信任式 Peg-In + 信任式 Peg-Out」的非对称设计。\\n\\nChainX 的优势是基于 Substrate 框架开发，未来有机会成为波卡的平行链，将 XBTC 带到波卡生态。**ChainX 在链上使用 WASM 技术首次实现 BTC 轻节点，支持 BTC 交易的 SPV 验证，使得在 XBTC 铸造环节实现了非信任式的安全性。**\\n\\n在 BTC 赎回环节，则由多位「信托」通过链上多数派投票完成销毁-解锁流程。一共会有 15 位信托，他们通过多签来管理托管地址。第一批信托将从 ChainX 测试网的验证人中选拔产生，后续将通过「禅让制」进行更替。ChainX 的托管地址有 2 个，一个冷钱包地址，一个是热钱包地址，冷热分离，提高安全性，签名记录公开透明，接受社区监督。\\n\\nChainX 并不满足于当前的信任式的设计。ChainX 宣称，其资产托管方案还会持续不断演进，上述是 1.0 版本，后续将有 2.0、3.0、4.0 版本的资产托管方案，一步步走向去中心化。2.0 版本：采用 XCLAIM 机制，启用分布式的托管方案。3.0 版本：将账户控制技术由多签改为私钥分片。4.0 版本：让用户掌握托管账户的一个特殊私钥分片，该分片具有一票否决权。通过该设计提高资产托管安全性，让见证人免于超额抵押。\\n\\n> [ChainX 白皮书](https://www.chainx.org/static/ChainXWhitePaper-901b6b70f654c8f8824686a2277971c0.pdf)\\n\\n#### 非信任式 BTC 锚定资产\\n\\n尽管信任式 BTC 锚定资产在成本和体验上有优势，但业界对非信任式方案的探索更有热情，出现了很多具有独创特色的项目。这些项目在秉持去非信任理念的基础上，对见证人的准入机制、分组机制、抵押机制做了创新。\\n\\n**tBTC：早期的探索者**\\n\\ntBTC 是一个发行于以太坊平台上的 BTC 映射资产，是由 Keep Network 等多个团队支持的开源项目。tBTC 发行于 2020 年 5 月，是以太坊上第一个非信任式的 BTC 锚定资产项目。\\n\\ntBTC 由签名人责管理托管账户，签名人是自由准入的，但需要用 150% 价值的 ETH 进行超额抵押。由于用 ETH 作超额抵押，所以会涉及到预言机喂价和抵押债仓清算的问题，tBTC 直接参考了 MakerDAO 的机制，并通过 MakerDAO 的预言机喂价。\\n\\ntBTC 的签名人被随机分为多个 3 人小组，每个小组，通过 3-of-3 多签来管理一个托管地址。每个托管地址只托管 1 个 BTC 。\\n\\n可以说，tBTC 是一个非常极客化的开放系统，但设计上高度复杂，易用性上极其反人性。首先，用户一次只能铸造 1 个 tBTC，如果要铸造多个，则需分多次申请，而且用户无法铸造小于 1 个 tBTC，其次，多签账户的签名人更替是很麻烦的，所以 tBTC 没有设计签名人的灵活更替机制 ，为了让签名人能够退出，tBTC 系统要求用户每 6 个月必须赎回一次 BTC。\\n\\ntBTC 作为以太坊上第一个去中心化的，无须信任假设的 BTC 锚定资产，具有开创意义。但由于其糟糕的用户体验，tBTC 并没有获得成功。\\n\\n> [tBTC 白皮书](https://docs.keep.network/tbtc/index.pdf)\\n\\n**renBTC ( Ren Protocol ) ：MPC 网络**\\n\\nrenBTC 也是在 2020 年 5 月发行在以太坊上的 BTC 锚定资产。\\n\\nRenBTC 上的见证人，被称为暗节点（Dark Nodes），众多的暗节点，通过 BFT 共识机制组成一个 MPC （安全多方计算）网络。Ren Protocol 将该网络抽象的认知为了一个 Ren 虚拟机（RenVM）。\\n\\n\\\\*\\\\*暗节点按照 100 个为一组，分成若干组，每 100 个暗节点组成一个 RenVM 的分区，负责管理一个私钥分片账户，托管一部分 BTC ，但分组不是固定的，每天会重新洗牌一次。\\\\*\\\\*暗节点可以自由加入，也可以随时退出，并不需要像 tBTC 那样，在托管资产被赎回时才能退出。暗节点之所以「暗」，是因为它隐藏在 RenVM 之下，RenVM 作为一个抽象的整体，承担见证人的职能，与用户交互，但在实质上，还是由暗节点执行相关操作。由于 RenVM 是 BFT 共识机制，我们可以认为每个分区中的 100 个暗节点，只需有 67 个及以上签名（2/3），即可对托管资产进行操作。\\n\\n暗节点需要在 Ren Protocol 的以太坊合约中质押 100,000 个 REN 通证才能工作，直到退出暗节点时才能赎回。如果暗节点试图盗取资产，质押的 REN 将被 Slash。暗节点质押 REN 的数量，将随着网络中托管的 BTC 数量而调整，以维持一个安全的超额抵押率，该调整是通过治理完成的，不会用到预���机。\\n\\n值得一提的是，renBTC 和 Acala 之间建立了合作关系，Ren Protocol 支持在 Acala 上铸造 renBTC，Acala 是一个波卡生态的 DeFi 平台，其测试网 Karura 已经通过竞拍，获得了 Kusama 的平行链插槽。未来 renBTC 将有可能通过 Acala 流入波卡生态。\\n\\n![0 (1).png](https://img.chainnews.com/material/images/b04a54b1ea155b90a8b7e8ec5938b89c_KCdXddX.png-article)\\n\\nRen Protocol 除了支持用户铸造 RenBTC on Ethereum 和 RenBTC on Acala 之外，还支持用户在这两者之间转换。假设用户要将 RenBTC on Ethereum 转换为 RenBTC on Acala，用户并不需要将 RenBTC on Ethereum 赎回为 BTC，再去铸造 RenBTC on Acala，而是直接可以**通过 Burn-Mint 逻辑**直接转化。这样的设计节约了操作步骤，也节约了转化费用，有效的提高了用户体验。\\n\\nrenBTC 是 Ren Protocol 支持的映射资产之一，Ren Protocol 还支持 renZEC，renBCH，机制与 renBTC 大同小异。\\n\\n> renBTC 介绍文档：\\n>\\n> [RenVM](https://github.com/renproject/ren/wiki)\\n>\\n> [DarkNodes](https://docs.renproject.io/darknodes/)\\n\\n**eBTC(DeCus) 重叠分组机制**\\n\\neBTC 是由 DeCus 在以太坊上发行的 BTC 锚定资产，eBTC 中的签名人被称为 Keeper，Keeper 可以无经许可，自由出入网络。当用户需要铸造 eBTC 或者赎回 BTC 时，由系统分配的一个 3 名 Keeper 组成的 Keeper Group 来处理。其过程如下图：\\n\\n![0 (5).png](https://img.chainnews.com/material/images/39c7c71659d05d68b647893ec4a604d5_bfLDq9C.png-article)\\n\\n每 3 个 Keeper 负责组成一个小组，管理一个 2/3 门限的托管地址。当前阶段，Keepers 是通过多签来管理托管账户，首批 Keeper 将通过拍卖活动产生，Keeper 无法自由退出，随后会迭代为由私钥分片技术控制的账户，Keeper 将可以自由进出。\\n\\neBTC 的最大特点是其独有的「重叠分组」机制。Decus 宣称：通过该机制，仅需低于 50% 的抵押率，即可实现相当于 100% 抵押率的安全性。\\n\\n假设有 6 个 Keeper，被分成两个 3 人小组分别负责管理 50% 的资产，这两组分别是 ABC 组，和 CDE 组，假设有 2 个恶意 Keeper ，那么这 2 个恶意 Keeper 被分到一组的概率是 40% ，**所能威胁的托管资产比例是 50%**；\\n\\n假设 6 个 Keeper，采用重叠分组方式分成多个三人小组，则可以分为 ABC、ABD、BCE…20 个组，每个组负责管理 5% 的资产。如果有两个恶意 Keeper ，他们被分到同一个组的概率是 100% ，其中两人同在一组的组有 4 个，所能威胁的托管资产比例是 20% 。\\n\\n我们发现， 2 个恶意 Keeper 的「危害概率 \\\\*威胁资产比例」是恒定的，没有被改变，\\\\*\\\\*重叠分组的本质是增加了危害概率，而降低了威胁资产比例。\\\\*\\\\*然而，这个改变非同寻常，Keeper 只需质押 20% 的抵押金，即可保障系统的安全。因为有抵押金的存在，危害概率即便很大，恶意 Keeper 也不敢妄为。\\n\\n以上是以 6 个 Keeper 中有 2 个恶意 Keeper 为例，Decus 计划招募 121 个 Keeper ，将产生 C(121,3)=287980 个 Keeper Group ，假设恶意 Keeper 的数量为 m ，那么他们可以破坏的组数为 (121-m)\\\\*C(m,2)+C(m,3)，当 m 为 10 时，可以破坏的组数为 5115 个，占总组数的比例约为 1.78% ，这意味着所能威胁的资产比例只有 1.78% ，其他 m 值的情况，我们也可以依次计算，并与常规分组方案对比：\\n\\n![0 (4).png](https://img.chainnews.com/material/images/051256dc02355343a2fb799f0acd2d3c_u4TEju6.png-article)\\n\\n由表中数值可知，**重叠分组方案相比常规分组方案，始终具有更低的安全抵押率。但我们也发现，Decus 所宣称的低于 50% 的安全抵押率，是有假设条件的**：只有恶意 Keeper 数占比不超过一半的情况下，安全的抵押比例才不用超过 50% 。\\n\\n* [eBTC 介绍文档](https://docs.decus.io/mechanism)\\n\\n**InterBTC 独立控制地址矩阵**\\n\\n2016 年，波卡在白皮书中提出要和 BTC 建立互操作关系，2020 年 1 月，Web Foundation 委托 Interlay 以 XCLAIM 为基础，设计并开发一个一款在波卡上的 BTC 锚定资产。因此，Interlay 开发的 PolkaBTC，可以被认为有波卡官方背景。后来，PolkaBTC 被更名为 InterBTC。\\n\\nInterlay 使用 Rust 语言和 Substrate 框架开发了一条 BTC-Parachain，计划在未来作为平行链接入波卡生态。2021 年 10 月，Interlay 的先行网络 Kintsugi 已经拍到 Kusama 插槽，并接入了 Kusama 网络。\\n\\n与 ChainX 相似，BTC-Parachain 上部署了 BTC 的轻节点，使得 BTC-Parachain 具备了验证 BTC 链上交易的能力。在 InterBTC 系统中，托管账户是众多独立控制的 BTC 账户，这些账户被称为 Vaults (金库)，见证人被称为 Vault 管理人。任何主体都可以通过质押 DOT 成为 Vault 管理人，质押 DOT 的金额与所能托管的 BTC 最大额度成正比。用户向 Vault 中转账 BTC ，BTC-Parachain 验证后，给用户发放 InterBTC。当用户需要赎回 BTC 时，BTC-Parachian 销毁 InterBTC ，Vault 管理人向用户返还 BTC 。尽管每个 Vault 都是一个独立控制账户，但 150% 的超额抵押可以保障这些 Vault 管理人不作恶。\\n\\n用户铸造和赎回，需要支付 DOT 作为手续费，费用将给到 Vaults 管理人作为激励。如果 Vault 管理人试图盗窃托管的 BTC，质押的 DOT 将被没收，赔偿给受损失的用户。超额抵押机制的存在要求系统配置预言机喂价，但由于 InterBTC 还未上线，预言机的供应商还未确定。\\n\\nVaults 管理人除了负责管理托管账户，还要承担 Relayer 的职能，负责将 BTC 链的区块头传输到 BTC-Parachain 。\\n\\n**InterBTC 系统允许用户选择自己建立 Vault ，来托管自己的 BTC ，对于需要将大额 BTC 转化为 InterBTC 的大型流动性提供商，这个功能十分必要。**\\n\\n![0 (8).png](https://img.chainnews.com/material/images/ac4736a2aed253b5b4ca3dba084bb865_BdaMton.png-article)\\n\\n尽管介绍文档中没有提及，但依照我们的理解，Vaults 管理人应该是无法随时退出的，需要等到托管的 BTC 被赎回时才能退出。不过，我们可以做一个猜想：如果支持 Vault 管理人出售自己的 Vault 会怎么样？\\n\\n> [InterBTC 介绍文档](https://docs.interlay.io/#/start/overview)\\n\\n#### 关于 BTC 锚定资产的小结\\n\\n以上我们介绍了 8 个具有代表性的 BTC 锚定资产，信任式的锚定资产具有经济效率优势，整体上也更加成功，非信任式锚定资产更符合区块链精神，但目前还处于探索中：tBTC 作出了最早的尝试；随后 RenBTC 通过采用私钥分片机制解决了见证人的退出机制问题，并用定期刷新的分组来提高安全度；eBTC 在抵押不可避免的情况，通过改变分组方式，降低安全抵押率，InterBTC 则着力于提高见证人的分布程度，为用户提供更多选择。\\n\\n整体上，非信任式 BTC 锚定资产，还有很大的创新空间，什么样的方案是最佳实践，也有待时间的验证。\\n\\n下表是对 5.1.1-5.1.2 中所提到的 BTC 锚定资产的一个特征对照表：\\n\\n![0 (3).png](https://img.chainnews.com/material/images/6c0b4bc9bd875d87be0a05ebc3e0c069_4iAoAaa.png-article)\\n\\n点击 [此处](https://docs.google.com/spreadsheets/d/1wCPAQ-dDs2KlUvz0n3RaP1d7x8hclQUUvaENdYCQfuE/) 复制链接查看大图。\\n\\n### 以太坊跨层快速资产桥\\n\\n如果说 BTC 是最成功的数字资产，那么以太坊则是最成功的智能合约平台。无论从资产规模，用户规模，还是生态规模上讲，以太坊无疑都是对 Dapp 的部署有最大吸引力的公链。Solidity 语言和 EVM 环境也成为区块链开发人员最习惯的开发工具。然而，以太坊的生态容纳量似乎已经达到瓶颈，交易缓慢、Gas 费高企成为阻碍其继续发展的核心限制因素。\\n\\n尽管以太坊 2.0 的分片方案已经在计划中，但实际落地尚需时日，于是各种扩容方案先后被提出来，包括侧链、闪电网络、Plasma、Truebit，状态通道、Rollup。其中，侧链虽然可以解决扩容问题，但其安全性是独立负责的，不能继承以太坊的安全性，所以侧链被认为是一个新的 Layer1，其余的扩容方案则被认为是 Layer2。\\n\\n为了行文简洁，后文将把 Layer1 和 Layer2 分别简写为 L1 和 L2。\\n\\nL2 的实现形式历经演化，最后 Rollup 成为了主力的扩容技术。Rollup 方案在 L1 级别安全性、数据可用性、可扩展性，用户体验等方面的综合表现最好，以太坊生态的大多数的扩容网络都选择了采用 Rollup 方案构建。后文所称的 L2 ，将特指 Rollup 二层网络。\\n\\nRollup 的基本路线是将二层网络的状态转换信息全部提交到 L1 ，但同时通过提供有效性证明或者欺诈证明的方式，让 L1 可以实现「懒惰验证」（仅仅验证欺诈证明或有效性证明即可等效于验证 L2 提交的所有状态转换），从而节约 L1 的计算资源。\\n\\n根据 Rollup 网络提交给 L1 的证明形式，Rollup 网络被分为两类，一类是通过挑战期生成欺诈证明的 Optimistic Rollup （ 后文简称 Op Rollup ） ，一类是采用零知识证明技术生成有效性证明的 Zk Rollup。\\n\\n#### 为什么需要跨层快速资产桥\\n\\n由于挑战期的存在，Op Rollup 有一个缺陷，那就是用户从 L2 向 L1 的提款周期较长，需要 7 天左右，ZK Rollup 则由于生成零知识证明的计算复杂度较大，用户提款时，也有大约 1 个小时左右的等待时间。然而，目前应用较广的是 Op Rollup ，因为 Op Rollup 对 EVM 的兼容较好，便于迁移 L1 Dapp，ZK Rollup 兼容 EVM 的难度较大，需要做大量的技术研究工作，目前尚未实现。另外，即使 ZK Rollup 未来成功做到兼容 EVM，1 个小时左右的提款时间，对于没有耐心的用户也是无法接受的。用户期待的是：几分钟，甚至几秒钟！\\n\\n除了快速提款之外，还有一个典型需求，那就是在 L2 与其他 L2 之间快速转账。常规的途径，是要先从 L2-1 提款到 L1 ，再从 L1 存入到目标 L2-2 ，但这样既缓慢，又不经济。\\n\\n鉴于上述需求，不少提供 L2→L1 快速提款和 L2⇋L2 快速转账的跨层快速资产桥被开发出来。\\n\\n#### 跨层快速资产桥的技术本质\\n\\n快速资产桥本身并没有加快原有的资产流转通道，而是另起炉灶，构建了一个新的资产流转通道。后文行文中，我们将分别称为\\\\*\\\\*「原始通道」**和**「快速通道」\\\\*\\\\*。\\n\\n在快速通道中，增加了一个新角色，来为用户提供流动性垫付。用户在源账本向流动性提供者付款，流动性提供者在目标账本上向用户的目标地址付款，然后，流通性提供者再通过原始通道，重新平衡自己的资产，实现流动性回归。\\n\\n我们发现跨层快速资产桥，除了支持 L2→L1 快速提款和 L2⇋L2 快速转账，往往也可以支持 L2 与其他 EVM 兼容链之间的快速转账，这是因为 EVM 兼容链往往与以太坊建立了桥接关系（包括成为以太坊的侧链），与 L2 之间，存在一条多跳的原始通道。\\n\\n有些文献把跨层快速资产桥的流动性垫付模式归结为了一种新的跨链方案，并称之为「流动性互换」，但 Paka Labs 认为，在进行跨链技术类型归结时，还是应该关注其核心——信任机制。根据其信任机制，所有的跨层快速资产桥，基本可以落入两个框架内，一个是**原子交易模式**，一个是**见证人模式**。我们将分别介绍几个典型项目：\\n\\n#### 原子交易型跨层快速资产桥\\n\\n**cBridge ( celer.network )**\\n\\ncBridge 是以太坊 L2 层扩容平台 celer.network 搭建的跨层快速资产桥。\\n\\ncBridge 采用了哈希时间锁方案，并让中继节点（Rely Node）作为公共交易对手方。一笔交易的完成过程如下：\\n\\n* Step1 : 用户在源账本上发起 TransferOut 交易，向中继节点转账，该交易设置哈希时间锁；\\n* Step2：中继节点在目标账本上发起 TransferIn 交易，向用户转账，设置同样的哈希时间锁；\\n* Step3 ：用户 Confirm 源账本上的 TransferOut 交易，哈希锁原象被披露；\\n* Step4 ：中继节点 Confirm 目标账本上的 TransferIn 交易，跨层交易完成。\\n\\n我们发现，**上述过程和典型的基于哈希时间锁略有不同**，典型的哈希时间锁交易应该是由中继节点 Confirm 源链上的 TranferOut ，而由用户 Confirm 目标链上的 TransferIn 。\\n\\n**cBridge 如此设计的目的是改善用户体验，避免用户在跨层交易过程中需要切换钱包。优化后的交易过程中，用户的所有操作都在源账本完成，将无须切换到目标账本钱包进行任何操作。**\\n\\n这样的调整，带来一个小问题：中继节点如果不进行 Step4 操作，等到 TranferIn 超时失效，便无偿的获得了用户 TransferOut 的资产。事实上，在 Step3 完成后，哈希原象已被披露，任何人都可以去完成 Step4 步骤的操作，cBridge 建议用户及时关注 TransferIn 交易的状态，如果中继节点迟迟没有完成 Step4 ，则需用户自己去目标账本上确认 TransferIn 交易。\\n\\ncBridge 实际运行下来，中继节点在绝大多数情况下都会忠实的履行 Confirm 操作。TransferIn 的交易金额会略小于 TransferOut ，其中的差价是中继节点收取的手续费。如果中继节点多次出现不确认交易的情况，将可能失去担任中继节点的资格。\\n\\n在 2021 年 9 月的 cBridge2.0 更新中，中继节点角色已经被合并到了 Celer 的状态守卫者网络 (SGN) 验证人中，以后将不存在单独的中继节点角色。\\n\\ncBridge 除了支持以太坊及其二层网络 Arbitrum 之外，目前已支持了兼容以太坊 EVM 的 BSC、Fantom、Avalanche、OKExChain、Polygon 等区块链网络间的资产快速转移。\\n\\n> [cBridge 介绍文档](https://cbridge-docs.celer.network/#/)\\n\\n**NXTP (Connext)**\\n\\nNXTP 由 Connext 团队发布，全称 Noncustodial Xchain Transfer Protocol ，中文译为非托管跨链转账协议。该协议使用类似于哈希时间锁的原子交易机制，但没有依赖哈希原象，而是基于智能合约，将一笔交易的触发条件直接设定为提供另一笔交易的签名。\\n\\n用户通过 NXTP 进行跨层交易时，交易将经历三个阶段：\\n\\n* Step1 : Router 招标\\n\\n用户向网络广播交易需求，Router 以承诺的交易完成时间和手续费金额秘密投标，用户选定具有优势的 Router （选标），进入下一阶段；\\n\\n* Step2 ：准备（Prepare）\\n\\n用户选标完成后，向源账本上的交易管理合约锁定要转出的资产（该交易中包含选标信息），中标的 Router 监测到该交易之后，向目标账本的交易管理合约锁定用户应得数量的资产（用户应得资产数量与系统中的总流动性分布有关，稍后说明）；\\n\\n* Step3 ：完成（Fulfill）\\n\\n用户提供签名，获得 Router 在目标账本上锁定的资产，Router 使用用户公开的签名信息，解锁用户在源账本上锁定的资产。为了避免用户切换钱包，其他的非中标 Router 会提供中继服务，用户并不需要亲自去目标链提供签名以解锁资产，而是可以将签名信息发送给中继 Router，并由中继 Router 在目标链上代为解锁。中继 Router 也会收取少量手续费。\\n\\n![0 (9).png](https://img.chainnews.com/material/images/004cb758c4875cc68b77c8155bb24c6b_n0YSpBC.png-article)\\n\\nNXTP 中的 Router 与 cBridge 中的中继节点承担了相同的作用，不同之处在于，前者是自定义其服务价格并向用户竞标的，而后者的服务价格则由协议统一规定并通过治理调整。\\n\\n值得一提的是， NXTP 的流动性提供存在虚拟 AMM 机制，这意味着用户在源账本上付出 1 个 USDC，在目标账本上获得的，可能不是（1 - r）个 USDC ( 设手续费为 r ) ，而可能是（0.99-r）或是（1.02-r），具体的数值取决于源账本与目标账本上的总流动性比值。这样设计的目的是**增加一个负反馈机制，促进 Router 根据需求平衡不同账本上的流动性**。\\n\\n截至发文，NXTP 还在审计中，NXTP 发布后，将首先实现对以太坊、Optimism、Arbitrum One、BSC、xDAI、Polygon、Fantom Opera 的支持。\\n\\n> [connext 介绍文档](https://docs.connext.network/)\\n\\n**StarkEx Bridge**\\n\\nStarkWare 是一家零知识证明研发机构，也是 ZK Rollup 二层网络 StarkNet 的开发者。StarkEx 则是 StarkWare 为 StarkNet 开发的扩展性工具集，其中就包括 StarkEx Bridge。\\n\\nStarkEx 目前服务模式是 L2 as a Service，支持其他项目利用 StarkNet 技术，构建自己独立的 L2 网络，目前 StarkEx 的客户包括 Immutable X，DyDx，DeversiFi ，三者都在 StarkNet 的支持下搭建了自己的 L2 网络。因此，StarkEx Bridge 首先要解决的只是 StarkEx 生态内的 L2 网络的跨层交易问题，然后才会逐步扩展为适配所有 L2 的解决方案。\\n\\nStarkEx Bridge 采用了类似 Connext 的条件交易机制，通过该机制实现无信任的跨层原子交易。StarkEx Bridge 上有专门的 LiquidProvider (LP) 作为公共交易对手，提供流动性。其过程如下：\\n\\n▸ StarkEx L2→L1\\n\\n* Step1 : Alice 在 L2 向 LP 发起 1 ETH + 手续费的条件转账 T(X)，条件是 T(Y)：LP 在 L1 向 Alice 付款 1 ETH，在 T(Y) 生效前，T(X) 状态为 \\\\[invalid\\\\]；\\n* Step2：LP 签署 T(Y)，在 L1 上向 Alice 付款，Alice 立即可在 L1 使用该资金，LP 拿到 T(Y) 的生效证明；\\n* Step3：LP 使用 T(Y) 的生效证明，更新 T(X) 状态，T(X)\\\\[invalid\\\\] 转化为 T(X)\\\\[Valid\\\\] ；\\n* Step4 ：LP 通知 L2 节点打包 T(X)\\\\[Valid\\\\] 到零知识证明批次中，该批次抵达 L1 并被验证时，LP 正式拿到 Alice 的付款。\\n\\n![0 (7).png](https://img.chainnews.com/material/images/1d555f2e8d40532eac1819e9911f62d7_PROYM1s.png-article)\\n\\n▸ StarkEx L2→ StarkEx L2\\n\\n* Step1：Alice 在 L2-1 中向 LP 发起 1 ETH + 手续费 的条件转账_T(X)*，触发条件设为_T(Y)*: LP 将 1 ETH 转到 Alice 的 L2-2 账户。在_T(Y)_生效之前，_T(X)_为 \\\\[invalid\\\\] 状态 ；\\n* Step2：LP 签署_T(Y)_，在 L2-2 上向 Alice 付款 1 ETH，该交易立即生效，Alice 立即可在 L2-2 使用该资金；\\n* Step3：_T(Y)_被 L2-2 节点打包到零知识证明批次中，提交给 L1 并被 L1 验证，LP 拿到_T(Y)_在 L1 的生效证明 ；\\n* Step4：LP 使用_T(Y)*的生效证明，更新_T(X)_状态，_T(X) \\\\[invalid\\\\]_转化为_T(X)\\\\[Valid\\\\]*；\\n* Step5：LP 通知 L2-1 节点打包_T(X)\\\\[Valid\\\\]_到零知识证明批次中，该批次抵达 L1 并被验证时，LP 正式拿到了 Alice 的付款。\\n\\n![0 (6).png](https://img.chainnews.com/material/images/395e0faffa165c3986b0277ae6d49f45_BTeKEMX.png-article)\\n\\n注意：上述描述对条件交易过程进行了简化，事实上，如果要创建以 T(Y) 作为触发条件的 T(X) ，T(Y) 需要先被创建，只是处于未签署状态，或者可以称为 invalid 状态。可以将创建 T(Y)\\\\[Invalid\\\\] ，理解为一笔 Lock 操作。另外，StarkEx L2 作为非独立的状态机，一切交易的生效与否都以被 L1 验证为准。\\n\\n我们发现，与 Connext 不同，\\\\*\\\\*StarkEx Bridge 采用了一种非对称的原子交易设计，用户可以立即拿到资产，但 LP 却需要等待一段时间，等到 LP 对用户的付款信息通过原始通道抵达，才能解锁用户的付款。\\\\*\\\\*这个等待时间不会太长，大约 1 小时左右。这个等待时间就是 LP 的资金占压成本。\\n\\nStarkWare 还提供了 StarkNet L2⇄侧链 的快速交易通道，流程与 StarkNet L2→ StarkNet L2 大体相似。\\n\\nStarkWare 认为，ZK Rollup 相比 Op Rollup，有一个重要的优势：Zk Rollup 的跨层快速通道，对于 LP 而言，具有更优的资金效率，而 Op Rollup 的跨层快速通道，LP 的资金占压达 7 天之久，资金效率更低，这会转化为昂贵的流动性手续费。\\n\\n> StarkEx Bridge 介绍：\\n>\\n> <https://medium.com/starkware/the-road-to-l2-interoperability-718ff69ec822>\\n>\\n> <https://medium.com/starkware/a-trustless-sidechain-to-starkex-bridge-secured-by-ethereum-61e00f19f7e0>\\n\\n**小结**\\n\\n我们发现，**原子交易型的跨层快速资产桥，设计的关键点在于如何避免要求用户切换钱包操作**，cBridge、NXTP、StarkEx Bridge 采用了不同的设计。\\n\\ncBridge 选择将原子交易的执行顺序进行微调，NXTP 则选择让 中继 Router 代替用户去目标账本解锁资产。\\n\\nStarkEx Bridge 则进行了更彻底的改变：cBridge、NXTP 的原子交易都是让用户的转账触发流动性提供商的转账，而 StarkEx 则交换了两者，让 LP 的转账触发用户的转账，并让触发过程走原始通道，这样一来用户可以先拿到钱，而且不用手动去操作为 LP 付款的事情。\\n\\n#### 见证人型跨层快速资产桥\\n\\n除了原子交易型，还有一些跨层快速资产桥采用了以见证人为中心的设计方案。见证人可能是单一职能的角色，也可能兼任了流动性提供者的角色。见证人可能是非信任式（需要抵押）的，也可能是信任式（无须抵押）的。我们通过项目举例来说明：\\n\\n**Hop Exchange**\\n\\nHop Exchange，也称 Hop Protocol，由 Authereum 钱包团队打造，其创始人是以太坊编程语言 Solidity 的开发者之一 Chris Whinfrey。Authereum 团队在开发该钱包的时候发现了当时以太坊对于扩容的紧迫性，所以将精力转移至了 L2 相关的设施中。\\n\\nHop Exchange 设计了一个媒介通证：hToken，例如 hWETH，hDAI，hUSDC，并在各个支持的 L2 上部署了 hToken:Token 的 AMM 兑换池。\\n\\nHop Exchange 中见证人角色被称为 Bonder ，中文可译为连接者。Bonder 是实现快速提款和快速交易的流动性垫付者，也是在 Layer 之间传递消息的中间人。Bonder 要在 L1 上抵押原生 Token，以获得在 L2 上铸造对应的 hToken 的额度。（此处注意，只是获得额度，并不是 L1 抵押原生 Token ，立即在 L2 生成 hToken ）。\\n\\n下文我们将在 USDC 为例\\n\\n* 依照当前系统设置，设 AMM 流动池手续费 0.3%\\n* 依照当前系统设置，设 Bonder 提供的垫付服务手续费为 0.2%\\n* 假设 AMM 流动池是绝对平衡的，1 USDC 始终兑换 1 hUSDC\\n* 暂且忽略批量交易机制\\n\\n的情况下，阐述 Hop Exchange 的系统设计。\\n\\n▸ L2→L1\\n\\n当 Alice 需要从 L2 快速提款 1000 USDC 到 L1 时，需要经历以下过程：\\n\\n* Step1：Alice 通过 L2 上的 AMM 兑换池，将 1000 USDC 兑换为 997 个 hUSDC；\\n* Step2：Alice 通过 L2 的 HopBridgeContract (下文简称 HBC)，在 L2 上销毁 997 hUSDC，设该交易为 X；\\n* Step3：Bonder 监听到交易 X，在 L1 上从自己的抵押金里垫付 995 USDC 给 Alice ，Alice 在 L1 上拿到 995 USDC，对于 Alice 而言，交易已完成；\\n* Step4：交易 X 被提交到 L1，通过欺诈证明或零知识证明，被 L1 验证；\\n* Step5：L1 的 HBC 获取到交易 X 已被完成的信息，向 Bonder 归还 997 USDC。\\n\\n▸ L2⇄L2\\n\\n当 Alice 需要将 L2-1 上的 1000 USDC ，转移到 L2-2 上时，需要经过以下过程：\\n\\n* Step1：Alice 使用 L2-1 上的 AMM 兑换池，将 1000 USDC 兑换成 997 hUSDC；\\n* Step2：Alice 调用 L2-1 上的 HBC，销毁 997 hUSDC，设该交易为 X；\\n* Step3：Bonder 监听到交易 X，使用自己的 hUSDC 铸造额度，调用 L2-2 上的 HBC，为 Alice 铸造 995 hUSDC，Alice 将 995hUSDC，在 AMM 池中兑换为 992 USDC，此时，对 Alice 而言，交易已完成；\\n* Step4：交易 X 被传回 L1 ，经过欺诈证明或零知识证明，被 L1 验证；\\n* Step5：Bonder 监听到被验证的交易 X，同步给 L2-2 上的节点；（为了加快速度，Hop Exchange 建议 Bonder 自己运行 L2 节点）。\\n* Step6：L2-2 节点验证后，L2-2 上的 HBC 为 Bonder 铸造 997 hUSDC。\\n\\n**批量处理机制**\\n\\n如果每一笔兑换的流动性归还步骤，都需要走一遍 L1 的话，会耗费很多 Gas，所以 Hop Exchange 实际上是批量处理流动性归还的。系统会收集一段时间内的垫付，再把流动性归还的需求打包为一个 Transfer Root 处理，代价是 Bonder 的回款周期会延长一些。\\n\\n**理解 Bonder 的见证人性质**\\n\\nBonder 在提供垫付服务时，事实上充当了见证人的角色，因为垫付是提前发生的，早于目标账本自身对来自源账本的交易有效性验证。因此为了完成垫付，源账本上的交易会首先由 Bonder 进行监听和验证，并传递给目标账本上的 HBC。倘若恶意的 Bonder 向目标账本传递虚假交易，则可能造成不正确的垫付。\\n\\nBonder 在 L1 上的抵押金不光是其在 L2 铸造 hToken 的额度，也是其忠实履行职责的保证金。Hop Exchange 设定了专门的挑战者（Challenge Watcher），一旦发现 Bonder 的欺诈行为，Bonder 的抵押金将被没收，变成给挑战者的赏金。\\n\\n**AMM 与再平衡机制**\\n\\nHop Exchange 会在所有支持的 L2 上部署 AMM 兑换池，任何人都可以往兑换池里注入 hToken:Token 的流动性，以赚取兑换手续费。由于 hToken 和原生 Token 的价格属性是基本一致的，Hop Exchange 在 AMM 中选择使用类似于 Curve 的 Stablecoin 价格曲线，减小滑点。尽管如此，hToken 和 原生 Token 可能还是会存在微弱的价差，这当中会有套利者的空间。套利者并不是 Hop Exchange 当中的正式系统角色，任何人都可以充当套利者。套利者的存在将使得 hUSDC 和 USDC 的价格基本保持平衡。\\n\\n与 StarkEx Bridge 相似，Hop Exchange 也设计了一个不对称的系统，让用户可以立即获得资金，���让流动性提供者，也就是 Bonder 的，等待通过原始通道拿到回款。\\n\\n![0 (10).png](https://img.chainnews.com/material/images/d865e6d7997050339d565206f4ab042c_aYLRCQo.png-article)\\n\\nhToken+AMM 的设计是相对复杂的， 但 Hop Exchange 的前端界面上努力做到简洁，让用户几乎可以不用感知 hToken 和 AMM 兑换过程的存在。\\n\\nhToken + AMM 的引入，事实上降低了整体的资金效率，因为 AMM 中的流动性是需要额外占压资金的。Hop Protocol 之所以采取这样的设计，是出于技术性的考量，这样做可以避免去维护一个 L2 上的资产合约清单，详细的解释，可以参考 [这篇文章](https://zhuanlan.zhihu.com/p/404296680)。\\n\\nHop Exchange 目前已支持以太坊主网与 Arbitrum、Optimism、xDai Chain、Polygon 的跨层兑换。\\n\\n> [Hop Exchange 白皮书](https://hop.exchange/whitepaper.pdf)\\n\\n**Hyphen (Biconomy)**\\n\\nHyphen 是由 Biconomy 推出的跨层快速资产桥。Hyphen 目前的开发还处于早期阶段，仅支持 Ethereum 和 Polygon。\\n\\nHyphen 将 LiquidtiyPoolManager 合约（后文简称 LPM 合约）部署在所有受支持的账本上。LPM 合约中存储了所有的流动性。任何人都可以向 LPM 合约中存款来提供流动性，提供流动性的人我们称之为 LP ，LP 将获得流动性费用。\\n\\n用户需要跨层转账时，只需在源账本将资产存入 LPM 合约，Hyphen 网络的执行节点（Executor Node）会监听存入事件，并转发给目标链上的 LPM 合约，目标链上的 LPM 合约接收到之后，就会释放资产到用户提供的目标链地址。执行节点并不需要提供流动性，所有流动性都在 LPM 合约中，并通过 AMM 机制调节兑换价格比。但这个 AMM 机制有点特别，一个交易对的两种资产不在一条链上，AMM 想要计算出价格，还需要执行节点来提供另一种种资产的储备量。\\n\\nHyphen 的特色功能是：用户在源账本和目标账本上需要支付的 Gas，都会由 Hyphen 网络统一代付，并折算为用户要兑换的资产类型向用户收取。用户在目标账本收到的金额，将会是 源账本上的金额-源账本 Gas 费-目标账本 Gas 费-给执行节点的手续费-给 LP 的流动性费用。这样做的好处是，用户可以在没有 ETH 的情况下进行兑换，而且可以清晰的看到兑换的总成本。\\n\\n我们发现 Hyphen 的设计极其简洁，通过 Hyphen 进行跨账本转账也非常迅速，可以在几秒内完成。但我们细心留意，也可以发现，Hyphen 的设计，包含了对执行节点的信任假设，是一种相对中心化的方案。\\n\\n> [Hyphen 介绍文档](https://docs.biconomy.io/products/hyphen-instant-cross-chain-transfers)\\n\\n**Degate Bridge**\\n\\nDegate 的目标是创造一个更强大的 Uniswap，打造一个功能丰富程度可以比肩中心化交易所的去中心化交易所。Degate 将通过各个模块，分别支持 AMM 交易、订单薄交易、杠杆交易、跨层交易等功能。Degate Bridge 是 Degate 用以实现跨层快速交易的模块。\\n\\n![0 (11).png](https://img.chainnews.com/material/images/d47dbe090e135b8cbd695fa8e1e765fe_zm5muyR.png-article)\\n\\nDegate Home DAO 作为单个主体，承担见证人的角色，并以其锁定的资产作为担保。此外，Degate Bridge 的流动性是放在链下的，由 Degate Home DAO 直接在源账本上接收用户资产，并在目标账本上向用户输出资产。Degate 设置了虚拟 AMM 机制，采用类似 Curve 的 Stablecoin 自动做市曲线。\\n\\nDeGate 在白皮书中表示，当以太坊生态出现服务于 L2→L1 消息传递的成熟预言机服务后，DeGate Bridge 将依托该预言机服务，实现去中心化的跨层兑换服务。\\n\\nDegate 的开发还在早期阶段，仅支持了 以太坊 和 Arbitrum 之间的跨层交易。\\n\\n> [Degate 白皮书](https://common-resource.degate.com/doc/whitepaper_cn.pdf)\\n\\n**Optimism DAI Bridge ( MakerDAO )**\\n\\n为了扩大 DAI 的使用，MakerDAO 正在逐步推动在 L2 部署 DAI 的合约，目前已经在 Optimism 上部署，与此同步推出的是名为 Optimism DAI Bridge 的桥接器，该桥接器将支持 Optimism 上的 DAI （称为 oDAI）到 Ethereum DAI 的快速提款。\\n\\nOptimism DAI Bridge 本质上是依赖于一个中心化的预言机（Oracle）在 L1 和 L2 之间传递消息，来实现快速提款的。\\n\\n当用户需要把 oDAI ，提现为 L1 上的 DAI 的时候，会经历这样的过程。\\n\\n* Step1：用户在 L2 上通过 DAI Bridge 合约，销毁 oDAI；\\n* Step2：Maker Oracle 将销毁信息从 L2 传递给 L1 的 DAI Bridge 合约，L1 的 DAI Bridge 合约为用户铸造 fDAI；\\n* Step3：用户拿到 fDAI 之后，可以选择在 7 天（挑战期）后到 MakerDAO 的财政库中兑换 DAI，也可以选择拿 fDAI 作抵押，从 Maker 财政库借出 DAI (借出数量＜抵押数量)，当抵押的 fDAI 过了挑战期，债务将被自动结算。\\n\\n%% 注意：没有 fDAI:DAI 的 AMM 兑换池，因为考虑到在不同时间的操作中获得的 fDAI 挑战期到期时间不同，fDAI 被设计为了 NFT。\\n\\n![0 (12).png](https://img.chainnews.com/material/images/ea2a671a3c715ab0baaf7d8b545ebc47_TQoNsmD.png-article)\\n\\nOptimism DAI Bridge 尽管只支持 DAI 这一种资产的跨层兑换，但是以 DAI 为媒介，也可以实现其他资产的跨层兑换，不过，那样做在 Gas 费上不占优势。\\n\\n> Optimism DAI Bridge 介绍资料\\n>\\n> <https://forum.makerdao.com/t/announcing-the-optimism-dai-bridge-with-fast-withdrawals/6938>\\n>\\n> <https://github.com/makerdao/optimism-dai-bridge>\\n\\n**小结**\\n\\n以上，我们介绍了四个采用见证人机制的跨层快速资产桥项目。在 Hop Exchange、Hyphen、Degate Bridge、 Optimism DAI Bridge 中，见证人分别是 Bonder、执行节点、Degate Home DAO 和 Maker Oracle。其中，Bonder 的信誉来自于抵押，执行节点、Degate Home DAO 的信誉来自于链下商誉，包含了信任假设，Maker Oracle 则比较特别，如果 Maker Oracle 行为不当，承受损失的是 DAI 财政库，也就是 MKR 的持有者，相当于 MKR 持有者替 Maker Oracle 作了担保抵押。\\n\\n在流动性垫付职能方面，Bonder 和 Degate Home DAO 兼任了流动性提供者的功能，执行节点和 Maker Oracle 则只负责传递跨层信息，Hyphen 的流动性提供者是 LP，Optimsm DAI Bridge 的流动性提供者是 DAI 财政库。\\n\\n**整体上，见证人型快速跨层资产桥和原子交易型相比，做不到无条件信任，但见证人型有更大的开发空间，未来有可能不局限于跨层资产桥，还可以进一步支持任意状态转换的跨层传递，从而支持广义上的跨层互操作。**\\n\\n#### 跨层快速通道进阶演化：聚合、互操作\\n\\n前文我们介绍了不同类型的跨层资产桥，那在实际操作中，我们如何选择合适的桥梁呢？我们需要一个工具，能够聚合所有的桥梁，并根据我们的实际需求进行匹配和推荐，这就是 FundMovR 在做的事情。\\n\\n此外，上述所有跨层资产桥，都只实现了资产兑换的功能，没有实现对跨层互操作的支持。尽管见证人型跨层资产桥有实现跨层互操作的潜力，但尚且没有项目真正实现，DataMovR 正在这个方向布局。\\n\\nFundMovR 和 DataMovR，都出自同一个项目—— MovR Network，二者是 MovR Network 的两个独立模块。聚合和互操作是跨层快速通道进阶演化的两个重要方向，MovR Network 准确的抓住了这两个方向，可以看出对于赛道的理解非常深刻。\\n\\n**FundMovR ：跨层快速资产桥聚合器**\\n\\n跨层资产桥已经足够多了，FundMovR 选择做一个聚合器，将各资产桥聚合起来，并为用户推荐最优路径。由于各跨层资产桥都只支持同质资产的兑换（例如，USDT 只能兑换 USDT，不能兑换其他资产），FundMovR 不光聚合了跨层资产桥，还聚合了各账本上的 Dex ，以便用户可以通过 FundMovR 直接完成异质资产的兑换。\\n\\n假设 Alice 在 Arbitrum 上有 DAI，但她换成 Optimism 上的 ETH。她可以使用多种路径来实现：\\n\\n* 路径一：通过 1inch on Arbitrum，把 DAI 换成 ETH ，然后通过 Hop Exchange，把 ETH 从 Arbitrum 换到 Optimism ；\\n* 路径二：通过 Paraswap on Arbitrum，把 DAI 换成 ETH ，然后通过 Connext 将 ETH 从 Arbitrum 换到 Optimism；\\n* 路径三：通过 Hyphen，把 DAI 从 Arbitrum 换到 Optimism，然后通过 Uniswap on Optimism，把 DAI 换成 ETH ；\\n* 路径四：通过 cBridge，把 DAI 从 Arbitrum 换到 Optimism ，然后通过 Sushiswap on Optimism， 把 DAI 换成 ETH。\\n* 还有更多路径 ……\\n\\n对于不同的需求，上述路径可能各有千秋。假设兑换资金量很大，那么含有 AMM 机制的 Hyphen、Hop 会不可取，因为滑点会比较大，cBridge 会比较合适；假设兑换资金量很小，Gas 将成为主要成本，为了节约 Gas，Hop Exchange 可能是更好的选择；假设 Alice 对速度的要求是最优先的，那么采用中心化方式的 Hyphen 和 Degate Bridge 会更有优势；至于 DEX 兑换环节，是在源账本 Arbitrum 上完成，还是在目标账本 Optimism 完成，取决于哪边流动性更大，滑点更低。\\n\\n如果没有 FundMovR，上述权衡和考量，将由 Alice 自己完成。但通过 FundMovR ，系统会自动找到所有可用的路线，并分别以下面三条标准进行排序：\\n\\n* 目标链上的最大输出\\n* 最低 Gas 费用\\n* 最短时间\\n\\nAlice 只需轻松的选择她喜欢的选项，剩下的就交给 FundMovR。\\n\\n在有一定规模用户之后，FundMovR 还将推出**点对点结算层**，以实现更低成本的跨链交换。\\n\\n假设 Alice 想将 100 DAI 从 Optimism 转移到 Arbitrum，而 Bob 想将 50 DAI 从 Arbitrum 转移到 Optimism。FundMovR 将相互清算 DAI，并将剩余的 50 个 DAI 从 Optimism 转移到 Arbitrum。\\n\\n![0 (13).png](https://img.chainnews.com/material/images/95cea96ceb515eb1ad04f90f677a0c2c_BoC12O6.png-article)\\n\\n对于跨层部署的 Dapp，桥接功能是其必要组成部分。Dapp 开发人员希望构建内置的桥接器，为用户提供无缝的用户体验。FundMovR 通过 SDK 和 API 使 Dapp 开发人员可以轻松集成 FundMovR，以实现内置的效果，例如，像 Aave、Instadapp 等 Dapp 可以轻松地允许用户从不同 L2 迁移用户抵押资金。\\n\\n**DataMovR 跨层互操作通用组件**\\n\\nDataMovR 将允许任意形式的状态转换跨层传递，这意味着 DataMovR 将支持任意形式的跨层互操作。DataMovR 有两个独立的组件，分别是负责消息传递的 MMF(MovR Messaging Framework)，和负责先于 L1，快速验证 L2 状态的一个见证人网络，该网络被称为 Finality Gadget （终结器）。\\n\\n与 FundMovR 相同，DataMovR 也将被开发为一个可内置于 Dapp 的模块。导入该模块的 Dapp 将在免于自己开发的前提下实现跨层互操作。例如：\\n\\n* Yearn Finance 可以在诸多的 L1，L2，乃至侧链上，寻找最优的收益率，并在此基础上采取行动；\\n* 可以允许用户在 Arbitrum 上的 Aave 销毁 aToken，并在 Optimism 上的 Aave 上提取质押；\\n* Uniswap 可以支持 LP 跨层快速挪动流动性，以实现各层价格的均衡。\\n\\nDataMovR SDK 将帮助 Dapp 在各 Layer 上部署的合约可以相互通信，以实现以上用例。\\n\\n更进一步，DataMovR 还有野心实现跨 Dapp 的跨层互操作，例如让用户可将 Aave on Optimism 当中的抵押品挪动到 Uniswap on Arbitrum 中提供流动性，或是让用户将 Compound on Arbitrum 的抵押品挪动到 Aave on Polygon。这点的实现，有赖于足够多的 Dapp 内置了 DataMobR SDK。\\n\\n关于 DataMovR 的更多技术细节，MovR Network 暂时没有披露更多，Paka Labs 将持续关注。\\n\\n#### 跨层快速通道与泛 EVM 网络\\n\\n2021 年以来，业界对以太坊扩容的努力方向发生转向，人们放弃了对改进以太坊本身的期待，而是将目光投向了 L2 和 EVM 兼容链，相关项目喷发式出现：\\n\\nOp Rollup 日趋成熟，主流 DeFi 项目陆续开始向之迁移；拥有巨大用户体量加持的 HECO，BSC 被构建为了以太坊的高性能侧链；EAR、Fantom、Avalanche、Substrate 等以底层创新著名的区块链也快速地加入了 EVM 版图；进展最慢的兼容 EVM 的 Zk Rollup 也呼之欲出。\\n\\n一个以 Ethereum 为中心的，众多 L2、EVM 兼容链组成的泛 EVM 多链网络已逐渐形成。尽管 EVM 的执行效率低于 WASM，但是在巨大的惯性力量和成熟的 DeFi 代码库的加持下，EVM 依旧凝聚起来了最大的势能。\\n\\n**在这样一个泛 EVM 多链网络中，跨层快速资产桥是其重要基础设施，也是其不可或缺的一部分。快速通道将承担大多数的资产交易，原始通道只负责流动性的结算，释放以太坊的压力。除此之外，我们更加期待，快速资产桥演变为快速互操作桥，让整个泛 EVM 生态的 DeFi 连为一体，产生乐高效应。**\\n\\n当然，我们也得认识到，泛 EVM 网络或许还不是以太坊生态演化的终局，还有很多其他方向的尝试，例如 Celer 开发的 Layer2.Finance 和 StarkWare 开发的 Caspin 正在尝试在不割裂 L1 流动性的情况下进行原地扩容，Polygon 则正在开发以自身为中枢的 EVM 分片网络，ETH2.0 虽然要等待很久，但终究会来，到时候，以太坊生态会是什么样，犹未可知，让我们拭目以待。\\n\\n### 本篇小结\\n\\n本文列举了两大跨链应用形态，分别是「BTC 锚定资产」和「跨层快速通道」。我们分析了两者的技术本质，并根据其核心技术特征，进行了分类，在分类的基础上，结合项目举例进行了深入分析。至此，我们在对跨链技术有全景式框架认知的技术上，对「BTC 锚定资产」和「跨层快速通道」两大应用形态进行了纵深探究。在后续的篇目中，我们将对更多的应用形态进行举例分析。\\n\\n本文已描述分析以下技术方案：\\n\\n* BTC 锚定资产\\n  * 信任式\\n    * RBTC/LBTC/WBTC/BTCB/HBTC/XBTC\\n  * 非信任式\\n    * tBTC/renBTC/eBTC/InterBTC\\n* 以太坊跨层快速资产桥\\n  * 原子交易型\\n    * cBridge/Connext/StarEx Bridge\\n  * 见证人型\\n    * Hop Exchange/Hyphen/Degate Bridge\\n  * 进阶演化\\n    * FundMovR/DataMovR\\n\\n本文的案例选取仅从技术方案的代表性角度考量，不含推广目的，亦不作为投资建议。如果您发现文中所写的内容与实际的情况不符，或者对本文观点存在不同的理解，欢迎关注 PAKA Labs 公众号并留言，非常期待与您交流。\\n\\n*感谢 Nic Lin @imtoken 在本文写作过程中提供的帮助。*\",\"timestamp\":1635338945,\"title\":\"全景式解析跨链技术应用形态：比特币锚定资产与跨层快速通道\"},\"digest\":\"polt98NuKOFJUK8aRcb6mAZ4RvAhAFzBfswfi2Ntsb0\",\"authorship\":{\"contributor\":\"0x034196E751c15Db00C66144e0A6b075E2Dd20895\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"gGGT__1TSbwZos0C29gyWuG2UeL6I5uAXB1S40HgvvA\\\",\\\"y\\\":\\\"bFn1Ga6aiFFvC7PyUEHqe2sZYgHxAeso0IdBslBcT78\\\"}\",\"signature\":\"0MxZpuurocIFqPYtgUScS_OZvUtsoKTTcBATpDhWXFiPeu-egghJ2mKqxflMUMqAJ0Tg0UFBEL19U4ioxx9xYA\",\"signingKeySignature\":\"0x3ea33ec31d88053076e8ece6a09065b50566dbb25fcc72037378de63fbe4bf283bd55cfb8ec4b2d27b993e89f517cb612ffb2d2f6cf5a40fc8651e0a5e98fd7c1c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"gGGT__1TSbwZos0C29gyWuG2UeL6I5uAXB1S40HgvvA\\\",\\\"y\\\":\\\"bFn1Ga6aiFFvC7PyUEHqe2sZYgHxAeso0IdBslBcT78\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"polt98NuKOFJUK8aRcb6mAZ4RvAhAFzBfswfi2Ntsb0\"}"