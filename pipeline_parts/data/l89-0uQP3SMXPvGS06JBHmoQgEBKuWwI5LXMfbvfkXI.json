"{\"content\":{\"body\":\"逼乎真的是逼乎啊.\\n\\n刚准备分享点啥?\\n\\n直接给我封号了\\n\\n![]()\\n\\n![]()\\n\\n大写的\\\\\\\\\\n\\n**服**\\n\\n主要原因就是为了弃坑用了好多年的数据记录的app\\\\\\\\\\n\\n很久以前有过想法怎么批量导出这些历史数据.\\n\\n近几年随机的尝试过几种方法都没有搞下去.\\\\\\\\\\n\\n这回因为设备的不兼容,只能下狠手了\\n\\n到家用了几个小时到是基本解决我的需求\\\\\\\\\\n\\n具体使用流程:\\n\\n相关源码:\\n\\n有用者拿去\\n\\nhttps://github.com/wwdd23/download_xingzhe_history#readme\\n\\n运行展示: \\\\\\\\\\n\\n\\n***\\n\\n### 前置准备\\n\\n* python 安装 selenium 并安装 chromedriver\\n\\n以下说明均在 *mac* 中操作的记录.\\n\\n* 安装selenium\\n\\n  `$ pip install selenium`\\n* 下载chromedriver\\n\\n  需要选择与你电脑chrome相同版本的 driver使用\\n\\n  https://chromedriver.chromium.org/downloads\\n* 将driver 放入到 /usr/local/bin\\n\\n  解压后\\n\\n  `$ cp chromedriver /usr/local/bin`\\n\\n以上为前置准备\\n\\n使用selenium 原因为导出数据是弹出框下载,而非api数据返回,比较不才, 没有找到比较优雅的手段获取. 只能用这种比较暴力方法执行\\n\\n### 执行流程\\n\\n1. 使用 get_month_info 获取公共接口中每月的记录id并写入导出数据\\n\\n   ```\\n   查找 user_id ,\\n   具体获取方法,登陆web\\n   在开发模式下查看 https://www.imxingzhe.com/api/v4/user_month_info 请求后的面的user_id\\n   ```\\n\\n   修改代码中 user_id = xxxx 为个人id信息\\n\\n   `$ python get_month_info.py`\\n2. 获取cookies 用于临时登陆\\n\\n   `$python get_cookies.py`\\n\\n   启动界面后手动登陆账户等待退出 保存cookies 信息到本地\\n3. 下载历史记录\\n\\n   ```\\n   打开 get_info.py  path 中添加需要保存文件的绝对路径 \\n   例如:\\n   path = '/Users/xxxx/github/xinzhe/download'\\n   ```\\n\\n   `$python get_info.py`\\n4. 修改header 解决无法导入到garmin connect 问题\\n\\n   需要修改rootPath为上面path 相同的路径\\n\\n   `$python modify_header.py`\\n\\n修复问题参考来源: https://zhuanlan.zhihu.com/p/368952941 感谢原文作者\",\"timestamp\":1640701823,\"title\":\"有关行者数据批量导出的问题(逼乎还给我封号)\"},\"digest\":\"rF1wQ5ZX3xQOcuEEgTZh-m5_T8pZD6ACIOMLAksGZEU\",\"authorship\":{\"contributor\":\"0x85F1fF1ed900fec146D02fdFeC4d645D30000f40\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"r0XMxOK0eI8thX11MKuAJi3QEKfWzt7_P-S8A-x3Dio\\\",\\\"y\\\":\\\"wb5plucBWlUOEIf3APxHXCHUcTJv1qpzfn284KJb78s\\\"}\",\"signature\":\"8M7B-VID0Zv_SlY6JZ2Wgk2R0x1N2gvL2hRA_p2U67rZurGuvrzt75c5Hi-k95K1-Jn3HfvPA8O37LE_XCf8CA\",\"signingKeySignature\":\"0x204aec95db2676c620bbb00d0bc69ab7ec079b170ae93805805e7c441e3933841274b0137b339be514dcde392cea42ef62c52f1b31dfac7e4f5d753f26c83dae1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"r0XMxOK0eI8thX11MKuAJi3QEKfWzt7_P-S8A-x3Dio\\\",\\\"y\\\":\\\"wb5plucBWlUOEIf3APxHXCHUcTJv1qpzfn284KJb78s\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"rF1wQ5ZX3xQOcuEEgTZh-m5_T8pZD6ACIOMLAksGZEU\"}"