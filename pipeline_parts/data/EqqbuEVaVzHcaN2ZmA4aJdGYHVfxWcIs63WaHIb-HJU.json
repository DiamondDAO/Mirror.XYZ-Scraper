"{\"content\":{\"body\":\"> 这是一个隐蔽且被操控的市场，高频交易员利用纳秒级（十亿分之一秒）的时间差，捕捉“猎物”，快速买入卖出，谋取暴利。这是“暗池”里的“游戏”，速度就是一切。\\n\\n这是 Michael Lewis 在《高频交易员》一书中描绘的华尔街金钱游戏——一小部分人因掌握了可以创造速度的资源，得以抢先获取市场信息并从中获利。为了抢跑（Front-running），他们甚至开山破土，建起了一条有史以来最笔直的数据传输光缆。\\n\\n在华尔街这样的中心化金融系统中，由于体制不平等或缺乏透明性等原因，普通投资者很难与有着顶尖技术设备的专业交易员相竞争，而且在很多时候都是任人捕捉的「猎物」。\\n\\n随着去中心化金融 （DeFi）的兴起，大量创新性、无需许可的去中心化金融工具应运而生，为人们带来前所未有丰富的产品体验。以 Uniswap 为代表的去中心化交易所（DEX）蓬勃发展，推动 DeFi 短短时间内成长为千亿级别的市场。\\n\\n当前主流的基于 AMM 的去中心化交易所看似非常理想的设计，它们可以提供更高效的价格发现、更公平的交易，由智能合约来保证安全，避免了中心化交易所跑路等作恶风险；用户的订单通过智能合约来执行，并在以太坊网络上公开可见。\\n\\n但也正是这些初衷让最大的 DeFi 沃土——以太坊成长为一片令人生畏的「黑暗森林」。\\n\\n### 以太坊的黑暗森林\\n\\n「黑暗森林法则」源于著名的科幻小说《三体》。在小说中，刘慈欣把宇宙比喻成一个黑暗森林，而每一个文明都是在这黑暗森林中潜行的猎人。如果一个文明率先在宇宙中发现了另一个文明，那么它就会像猎人朝猎物开枪那样发起攻击，最终总有一个文明被消灭。\\n\\n随着去年 DeFi 之夏的开启，在以太坊等区块链网络上，因为行踪暴露而被「其他文明」攻击已经成为了非常普遍的现象。\\n\\n早在 2019 年，康奈尔大学区块链研究员菲利普•戴安（Philip Daian）发表的论文《Flash Boys 2.0》中就指出，正如华尔街的高频交易员一样，区块链上的套利机器人可以利用 DEX 公开透明、网络延迟等特性来实现抢跑，收割其他用户。\\n\\nCoindesk 专栏作者 Frances Coppola 将以太坊网络形容为一个「明池」（Lit Pool，相对于暗池而言）。「猎物可以清晰地知道猎人的存在，但是他们跑不掉。」 \\n \\n\\n> 当你在以太坊上提交一笔交易，在 mempool (公共内存池) 里等待矿工来打包。这笔交易就是一只坐以待毙的鸭子，无处可逃。池子里的每个人都看得到它。这笔交易可以被复制、被抢跑、甚至被偷走。\\n\\n用户在以太坊网络上发起一笔交易后，交易信息会广播到节点，每笔交易均附有手续费，也就是 Gas 费。一般来说，矿工会对接收到的交易按照 Gas 费用从高到低进行排序，以便决定哪些交易先纳入到区块中。\\n\\n当以太坊链上某时段交易量激增，为了尽早让矿工接受一笔交易，交易发送者可以提高这笔交易的 Gas 来激励矿工。正常的交易费用和区块奖励之外的这部分就是矿工可提取价值（Miner Extractable Value，以下简称「 MEV」）。\\n\\n在很长一段时间里，以太坊就是这样按区块排序有序运行的：出价更高的用户交易得以优先打包，矿工也赚到了更多的小费，看起来似乎很公平。\\n\\n以太坊系统中包括两种账户：外部账户和合约账户。外部账户之间的一笔普通交易消耗 Gas 为 21,000；而执行合约账户的交易，根据智能合约复杂程度不同，所需要的 Gas 也不同。一笔执行智能合约的交易可能会消耗几十万，甚至上百万 Gas。\\n\\n2020 年夏天，以太坊应用层的爆发催生出了 DeFi 大繁荣， AMM、抵押借贷、流动性耕种、算法稳定币等一系列创新产品应运而生，以太坊上的合约交互越来越复杂，调用这些智能合约所需要消耗的 Gas 越来越多，MEV 也迎来爆发性增长。\\n\\n各类优质项目 IDO、不同 DeFi 平台之间的套利机会、市场大幅波动时产生的清算交易 ... 以太坊上的每次智能合约交互，都暗藏着巨大的财富。在对利益的追逐下，DeFi 世界里也有了更多的角色玩家—— 伺机而动的鲸鱼、套利机器人、清算机器人、黑客以及抢跑机器人。他们在以太坊这片黑暗森林里，搜寻着属于自己的财富机遇，他们被统称为「搜索者」。\\n\\n而作为 DeFi 生命线的 DEX 无疑成为了这些搜索者争夺的焦点。\\n\\n### 一场透明的 GAS 竞赛\\n\\n在以太坊上或其它公链上，任何人都可以利用公开透明的信息和交易确认的延迟来监听其他用户的 DEX 交易，在发现对方交易意图后，通过提高 Gas 费的方法使自己的交易排在前面，从而完成抢跑。\\n\\n类似的行为还有尾随（back-running）和三明治攻击（sandwich attack）。\\n\\n我们可以通过一个很简单的例子理解这一过程：用户 B 通过监听 mempool 发现用户 A 要在 Uniswap 上买入大量 ETH，数量大到可能会推高 ETH 价格，于是便在这笔大额交易成交前以更高的 Gas 发起一笔更快的交易（抢跑），再跟紧用户 A 之后以更高的价格卖出 ETH （尾随），成功赚取一笔差价。这样用户 B 就通过左右夹击完成了一次三明治攻击。\\n\\n![来源：weibo@侠客张_DeFi](https://images.mirror-media.xyz/publication-images/xbWXVzLSnoKmKusASA_oE.png?height=247&width=440)\\n\\n对于 MEV 价值的追逐催生出了种类繁多的机器人类别：抢跑机器人、尾随机器人、清算机器人 .... 在链上，他们寻找每一次可以「揩油」的机会，就连黑客也不放过。讽刺的是，今年 3 月份发生的 DODO 安全漏洞攻击事件中黑客就被抢跑机器人截胡。\\n\\n这种抢跑生意其实并非无风险，巨大的利润空间吸引越来越多的机器人相互竞争。当所有人都盯上一笔大单，最终胜者只能有一个，其它大部分的机器人都只是陪跑，而这个过程中消耗的大量 Gas 都只能白白流走。\\n\\n> 许多赚钱策略都是由赢家拿走一切。当市场上所有人都试着做同一件事情时，拿走全部钱的人就是那个能用计算机最快采集数据并做出相应反应的人。\\n>\\n> ——《高频交易员》\\n\\n在华尔街的金融游戏里，速度是最快的武器。而在以太坊的这片黑暗森里，不管抢跑机器人可以有多快，最终站在食物链顶端还是矿工。\\n\\n在以太坊上，矿工有权控制其生产的区块内的交易排序，他们既是裁判员又是运动员。只要这一点没有改变，矿工就一直可以抢跑。他们可以复制抢跑机器人的策略自己拿走盈利，也可以出售交易排序中的位置与抢跑者分食。\\n\\n不管怎样，抢跑本质上都是对 DEX 用户的一种不公平掠夺——人们付出了高额的 Gas 费用，面临的却是交易的失败，或者高滑点带来的巨额损失。通过 sandwiched.wtf 这样的网站每个人都可以查询到被抢跑机器人薅走了多少羊毛。\\n\\n抢跑竞争的加剧也会占用宝贵的区块空间，造成链上拥堵，严重影响以太坊的用户体验，让普通用户望而生畏，最终沦为抢跑者的乐园。\\n\\n抢跑问题不只存在于以太坊上，在其它支持 DeFi 的公链上也很常见。\\n\\n如果抢跑问题不被解决，它将会成为伴随 DEX 的一场噩梦：DEX 流量越大，抢跑的空间就越大，对广大交易用户带来的困扰和不公正也就越大，而这反过来也将限制 DEX 的发展。\\n\\n从另一角度讲，DeFi 参与者从个人扩展到大型机构是必然趋势，更好的链上隐私保护也是机构入场的前提条件。因此，只有解决了隐私问题，DEX 规模才能上一层楼，DeFi 才能真正「出圈」。\\n\\n为了解决抢跑问题，业内各界提出了不少方案。比如，用户可以使用限制滑点的服务，或使用直达矿工的隐私交易；Flashbots 推出了消除信息不对称，将套利机会公之于众并让利益相关方共享的解决方案——MEV-Geth。像 IDEX 这种去中心化交易所会使用基于订单簿模式的 DEX 协议，在链下完成订单撮合，在链上进行清算等，但这些都不能在保证效率的同时，从本质上解决抢跑问题。\\n\\n### 隐私版 Uniswap\\n\\n \\n 因简单的设计、超级高效的 Gas 效率和资金效率，AMM 被称为 DeFi 近年来最具创新性的发明之一，带动了 DEX 交易额的爆发性增长。想要从根本上解决隐私保护问题，同时又不以牺牲效率为前提，我们需要一个隐私版 Uniswap。\\n\\n致力于成为整个去中心化金融的隐私保护基础设施，Manta Network 开发了基于 zk-SNARK 密码学技术的去中心化隐私支付协议——MantaPay 以及去中心化隐私代币交换协议—— MantaSwap。\\n\\n用户可以使用 MantaPay 将 Polkadot 以及其 Parachain 上各种资产以 1:1 比例置换成对应隐私代币，使用隐私代币进行支付，同时，这些隐私代币可以在 MantaSwap 上进行兑换，而不会泄漏任何交易者的信息。\\n\\n![来源：Manta Network Whitepaper](https://images.mirror-media.xyz/publication-images/490O6-c0dJV5gPJWRXE1v.png?height=598&width=1136)\\n\\nMantaSwap 将是 DeFi 世界里首个使用 zk-SNARK 密码学技术保护用户链上隐私的去中心化交易所，可以保证交易用户和流动性提供者的隐私。同时，流动性提供者的 LP token 也是隐私且可交易的。MantaSwap 与 Uniswap 等主流 DEX 一样基于 AMM，在保证用户交易隐私的基础上，AMM 的设计简洁性也保证了更高的 Gas 效率和资金效率。\\n\\n与 Uniswap 等传统去中心化交易所相比，MantaSwap 允许用户在交易各种主流数字资产的同时也保证了交易用户的端到端隐私不被泄漏。当用户的交易意图被隐藏，抢跑者便无计可施。\\n\\nManta 同时覆盖了波卡生态链资产的去中心化隐私支付和去中心化隐私交易，对隐私保护有刚需的用户，尤其是机构用户具有不可替代性。建立在波卡的平行链上可以保障足够的去中心化同时拥有比以太坊更好的性能和更定制化的设计，也可以比单独公链拥有更强的互操作性。Manta 的愿景是能够成为整个去中心化金融隐私保护的领导者。\\n\\n在个人用户越来越重视隐私，尤其是很多机构入场加密货币的今天，我们需要一个隐私版 的 Uniswap，让 DeFi 回归人人皆可用的公平的、民主的创新之地，而非抢跑者的乐园 。 \\n \\n\\n> 参考资料\\n>\\n> Ethereum, Dark Forests and the Limits of Transparency \\n https://www.coindesk.com/ethereum-dark-forests-limits-of-transparency\\n>\\n> Front Running：去中心化交易的阿喀琉斯之踵 \\n https://www.chainnews.com/articles/285280126963.htm\\n>\\n> Manta Network Whitepaper \\n https://eprint.iacr.org/2021/743.pdf\\n>\\n> Flash Boys 2.0: Frontrunning, Transaction Reordering, and Consensus Instability in Decentralized Exchanges \\n https://arxiv.org/abs/1904.05234\\n>\\n> 《高频交易员 华尔街的速度游戏》，作者：Michael Lewis\\n\\n**关于 Manta Network**\\n\\nManta Network 致力于通过隐私保护构建一个更好的 Web3 世界。Manta 的产品设计从第一性原理出发，通过 zkSNARK 等领先的密码学架构为区块链用户提供端对端的隐私保护。在保障隐私的同时，Manta 兼具互操作性、便捷性、高性能以及可审计性，允许用户进行任意平行链资产间的隐私转账和交易。Manta 的愿景是为整个区块链世界提供更便捷的隐私保护服务。\\n\\nManta 的创始团队由多位加密货币资深人士，教授和学者组成，他们的经验包括哈佛大学，麻省理工学院和 Algorand。Manta 的顾问包括 Hypersphere Ventures 联合创始人 Jack Platts，Polychain 合伙人 Tekin Salimi，前 Web3 基金会联合创始人 Ashley Tyson，Consensys 的 Shuyao Kong。\\n\\nManta 的投资机构包括 Polychain、ParaFi、Multicoin、CoinFund、 Alameda、DeFiance 以及 Hypersphere 等。Manta 也是波卡官方 Web3 基金会资助获得者，Substrate Builder Program 成员，伯克利大学区块链加速器成员。\\n\\n关注官方频道了解有关 Manta Network 的更多信息： \\n \\n\\n*Manta Website: <https://manta.network/> \\n Calamari Website：<https://calamari.network/>*\\n\\n*Github: <https://github.com/Manta-Network> \\n Twitter: <https://twitter.com/MantaNetwork> \\n Medium: <https://mantanetwork.medium.com/>*\\n\\n*Telegram: <https://t.me/mantanetwork> \\n Telegram中文：<https://t.me/mantanetwork_zh> \\n Discord：<https://discord.gg/ZtSuSKRy8X>*\",\"timestamp\":1637315653,\"title\":\"为什么我们需要一个隐私版 Uniswap?\"},\"digest\":\"OYrFIpwc1BLdimzPF3ub72VkmBsxBnQW-Ts2sEvMRVc\",\"authorship\":{\"contributor\":\"0xeB125d270FC135DDD3CC8E1C466873a4f37682d5\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"s4sdKRdqCN45TNRNLv0Hdt_RrwuMwpU3IwrXnfafM-0\\\",\\\"y\\\":\\\"QwNY5DhcQ3wC4Wrev_VKJ-z8o7hOk7-VB0UmxRD2dVo\\\"}\",\"signature\":\"TPjM3lNY1I7k7y6VISdQYZOgJ-0ECXsXHuBtAZNLPWWHVK2SktBrRQ--Slelamdq1yjJOHVdYtV5sUOHT9wGVA\",\"signingKeySignature\":\"0xaaa866eee73d50236b91d17ce26e1505412a3a9a8bd3adeba65fdbc1d8462b4f561edc8ae7c9570fd5dae88f0b7df7b8a5e56e0c69bbbf6ad820ef2bcd9d66bb1b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"s4sdKRdqCN45TNRNLv0Hdt_RrwuMwpU3IwrXnfafM-0\\\",\\\"y\\\":\\\"QwNY5DhcQ3wC4Wrev_VKJ-z8o7hOk7-VB0UmxRD2dVo\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"OYrFIpwc1BLdimzPF3ub72VkmBsxBnQW-Ts2sEvMRVc\"}"