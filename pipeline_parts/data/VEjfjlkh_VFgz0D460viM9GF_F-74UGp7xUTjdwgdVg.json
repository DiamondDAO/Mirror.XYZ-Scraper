"{\"content\":{\"body\":\"> 随着 NFT 和 Gamefi 的热度上升，这期我们为大家介绍 Flow - 专为 NFT 和游戏设计的一条链。\\n\\nFlow 是 CryptoKitties 的开发团队专为游戏和 NFT 设计的一条公链。目前公链上有 NBA Top Shot，育碧 等项目。\\n\\n### **处理速度**\\n\\nFlow 采用多角色的架构来提高处理速度。相较于常见的 Layer2，分片。Flow 认为分片使智能合约间的交互更加复杂，容易出错，损害可组合性，无法保证对事物状态的 ACID（原子性，一致性，隔离性和持久性） 的要求。\\n\\nFlow 意识到验证节点处理不同任务的速度是不一样的。于是他们将验证节点的职责细分，让部分验证节点专注于一小部分的任务。\\n\\nFlow 将任务分为非确定性任务和确定性任务。\\n\\n*   非确定性任务需要更少的计算资源，例如确定区块链中的交易是否存在以及他们的顺序\\n*   确定性任务需要更多的计算资源，例如计算交易结果\\n\\n这样的任务的划分实际上是将计算任务和共识分开。\\n\\n![](https://pic1.zhimg.com/v2-7bf9ff669f7ff6a795422722e0d558dc_b.jpg)\\n\\n如上图所示，Flow 一共设置了 4 个角色：\\n\\n*   共识节点：确定交易的存在性以及顺序\\n*   验证节点：监督执行节点\\n*   执行节点：执行交易相关的计算\\n*   收集节点：增强 Dapp 的网络连接和数据可用性\\n\\n共识节点所采用的是 Libra 使用的权益证明算法 *[HotStuff](https://link.zhihu.com/?target=https%3A//tokens-economy.gitbook.io/consensus/chain-based-pbft-and-bft-based-proof-of-stake/hotstuff)* 的变体\\n\\n![](https://pic4.zhimg.com/v2-46ddbee37c91a4e9e8a4f9d5987200bb_b.jpg)\\n\\n### **开发**\\n\\nFlow 采用了 *[Cadence](https://link.zhihu.com/?target=http%3A//play.onflow.org/)* 作为它的智能合约编程语言。Cadence 使用面向资源的编程范式。资源指的是具有可编程性的安全数字资产。面向资源的编程范式给予开发者创建独一无二耐用数字资产的能力。资产的所有权则由语言本身追踪。这些特性听起来是专为 NFT 和游戏等特别专注于资产所有权的应用量身打造的。\\n\\n在采用面向资源编程之前，Flwo 认为现有的编程环境可以追踪资产所有权，但是不能直接定义所有权。然而区块链公链就应该是为了管稀有资产的所有权。\\n\\n以下这个例子应该可以让各位读者进一步了解面向资源的概念。\\n\\n![](https://pic2.zhimg.com/v2-171486a3f64be6c0303f20d1226da281\\\\_b.jpg)\\n\\n上图是 CryptoKitty 合约的一个示例图。在使用 EVM 的以太坊上，所有的 Kitty 都存储在一个合约里面。想要知道谁拥有某只 Kitty，我们就要查询这个合约里的一个字典。想要更改某只 Kitty 的所有权，我们需要在这个合约里面进行更改。\\n\\n![](https://pic2.zhimg.com/v2-c560eb9702a06a398d45ef0275745d4d_b.jpg)\\n\\n上图是面向资源的一个例子。我们使用 resource 对象来表示 Kitty。Kitty 直接存储在拥有者的账号里。这就更像是现实世界，拥有者直接拥有 Kitty，而不是得去一个中心化的机构进行查询所有权。\\n\\n除了 Cadence，Flow 还提供 Flow Go SDK，Flow JS SDK，VSC 插件，Flow Playground GUI，*[FTs](https://link.zhihu.com/?target=https%3A//github.com/onflow/flow-FT)* 和 *[NFTs](https://link.zhihu.com/?target=https%3A//github.com/onflow/flow-FT)* 两个标准。\\n\\nFlow 的另一个特色便是智能合约的可升级性。开发者能够以测试状态部署智能合约，并允许逐步升级。在最后，开发者可以选择发布正式版，并放弃合约控制权。发布正式版后，代码将完全不能篡改。\\n\\n为了方便用户使用，Flow 支持 *[Ramp](https://link.zhihu.com/?target=https%3A//ramp.network/buy/%3FdefaultAsset%3DUSDC)*。用户可以在 Ramp 上购买 Flow 网络的 fUSD。\\n\\n**总结**\\n\\n相比上周令人眼前一亮的三链架构，Flow 采用了多角色模型来保证交易速度，并采用面向资源的编程范式。我们可以明显感受到 Avalanche 和 Flow 是为了不同的目的而进行设置的。\\n\\n**相关阅读：**\\n\\n*   *[Flow 入门必读](https://link.zhihu.com/?target=https%3A//zh.onflow.org/primer)*\\n*   *[Flow：为消费 Z 世代而生的高性能公链](https://link.zhihu.com/?target=https%3A//www.chainnews.com/articles/893535894772.htm)*\\n*   *[HotStuff: BFT Consensus in the Lens of Blockchain](https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1803.05069)*\\n*   *[Resource-Oriented Programming](https://link.zhihu.com/?target=https%3A//medium.com/dapperlabs/resource-oriented-programming-bee4d69c8f8e)*\\n*   *[Resource-Aware Session Types for Digital Contracts](https://link.zhihu.com/?target=http%3A//www.cs.cmu.edu/\\\\~balzers/publications/digital_contracts_as_session_types.pdf)*\\n\",\"timestamp\":1633782371,\"title\":\"Flow\"},\"digest\":\"_iJgl6KjVtwCw4JPCQo-3kpZTwj_AOEX062k6rflvmU\",\"authorship\":{\"contributor\":\"0x7B076d7BcdE88Ec322B2D01AA1ADc1997b7724f6\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"-uhmdAZYxFgq_x4xq-zXdui7hRToWKgI3gCLaeRwzfE\\\",\\\"y\\\":\\\"e_jae50XeRHkDjBd1dCU7xTq7o4HjO4Idn3X9qLgXmA\\\"}\",\"signature\":\"-TKUXpUZEX-Udi7z14vG56zONp99wUNxgCA_lZLC0-AUv1V6KsNGw0_m3KlS5EZl413LvT5ncceIhcvlz8SzVw\",\"signingKeySignature\":\"0x0475273f3894cbe534b5ebf3dc9005f7b109c905b95b05fd0afb3d0dd6c056984938a186d9c56832d588e27230d06074bb752d52c6fbbffe3ddc0a71e38362d11c\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"-uhmdAZYxFgq_x4xq-zXdui7hRToWKgI3gCLaeRwzfE\\\",\\\"y\\\":\\\"e_jae50XeRHkDjBd1dCU7xTq7o4HjO4Idn3X9qLgXmA\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"_iJgl6KjVtwCw4JPCQo-3kpZTwj_AOEX062k6rflvmU\"}"